(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1021:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHDPath=t.toNumber=void 0;t.toNumber=e=>/'$/.test(e)?+e.slice(0,-1):+e;t.parseHDPath=e=>{const r=e.split(/\//);return{coinType:t.toNumber(r[2]),bip44HDPath:{account:t.toNumber(r[3]),change:t.toNumber(r[4]),addressIndex:t.toNumber(r[5])}}}},1022:function(e,t,r){"use strict";(function(e){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useKeystoneEthereumKeyring=t.KeystoneEthereumKeyring=t.KeystoneEthereumInteractionProvider=void 0;const n=r(550),s=r(1054),o=r(168),a=r(133),c=r(48);class u{constructor(){this.readUR=()=>i(this,void 0,void 0,(function*(){throw new Error("KeystoneError#readUR function is not set.")})),this.playUR=()=>i(this,void 0,void 0,(function*(){throw new Error("KeystoneError#playUR function is not set.")})),this.readCryptoHDKeyOrCryptoAccount=()=>i(this,void 0,void 0,(function*(){const t=yield this.readUR();return"crypto-hdkey"===t.type?o.CryptoHDKey.fromCBOR(e.from(t.cbor,"hex")):o.CryptoAccount.fromCBOR(e.from(t.cbor,"hex"))})),this.requestSignature=(t,r,s)=>i(this,void 0,void 0,(function*(){const i=t.toUR();yield this.playUR({type:i.type,cbor:i.cbor.toString("hex")},{title:r,description:s});const o=yield this.readUR();return n.ETHSignature.fromCBOR(e.from(o.cbor,"hex"))}))}onReadUR(e){this.readUR=e}onPlayUR(e){this.playUR=e}}t.KeystoneEthereumInteractionProvider=u;class d extends s.BaseKeyring{constructor(){super(),this.getInteraction=()=>this.interaction,this.interaction=new u}static getEmptyKeyring(){return new d}syncKeyringData(t){const r=t.keys.find(e=>60===e.coinType);if(this.xfp=t.xfp,r){const t=e.from(a.publicKeyConvert(e.from(r.pubKey,"hex"),!0));this.hdPath=`m/44'/${r.coinType}'/${r.bip44HDPath.account}'`,this.indexes[c.computeAddress(t)]=r.bip44HDPath.addressIndex}}checkKeyring(){if(!this.xfp||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}}t.KeystoneEthereumKeyring=d,d.type=s.BaseKeyring.type,t.useKeystoneEthereumKeyring=function({readUR:e,playUR:t,keyringData:r}){const i=d.getEmptyKeyring();return r&&i.syncKeyringData(r),e&&i.getInteraction().onReadUR(e),t&&i.getInteraction().onPlayUR(t),i}}).call(this,r(2).Buffer)},1110:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(511),t),n(r(1111),t)},1111:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(230),n=r(520),s=r(1112);t.init=function(e,t){e.registerMessage(i.RestoreKeyRingMsg),e.registerMessage(i.DeleteKeyRingMsg),e.registerMessage(i.UpdateNameKeyRingMsg),e.registerMessage(i.ShowKeyRingMsg),e.registerMessage(i.CreateMnemonicKeyMsg),e.registerMessage(i.AddMnemonicKeyMsg),e.registerMessage(i.CreatePrivateKeyMsg),e.registerMessage(i.AddPrivateKeyMsg),e.registerMessage(i.CreateKeystoneKeyMsg),e.registerMessage(i.CreateLedgerKeyMsg),e.registerMessage(i.AddKeystoneKeyMsg),e.registerMessage(i.AddLedgerKeyMsg),e.registerMessage(i.LockKeyRingMsg),e.registerMessage(i.UnlockKeyRingMsg),e.registerMessage(i.GetKeyMsg),e.registerMessage(i.RequestSignAminoMsg),e.registerMessage(i.RequestVerifyADR36AminoSignDoc),e.registerMessage(i.RequestSignDirectMsg),e.registerMessage(i.GetMultiKeyStoreInfoMsg),e.registerMessage(i.ChangeKeyRingMsg),e.registerMessage(i.GetIsKeyStoreCoinTypeSetMsg),e.registerMessage(i.SetKeyStoreCoinTypeMsg),e.registerMessage(i.CheckPasswordMsg),e.registerMessage(i.ExportKeyRingDatasMsg),e.registerMessage(i.RequestSignEIP712CosmosTxMsg_v0),e.registerMessage(i.InitNonDefaultLedgerAppMsg),e.registerMessage(i.RequestICNSAdr36SignaturesMsg),e.registerMessage(i.ChangeKeyRingNameMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1112:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(230),o=r(8),a=r(136);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.RestoreKeyRingMsg:return c(e)(t,r);case s.DeleteKeyRingMsg:return u(e)(t,r);case s.UpdateNameKeyRingMsg:return d(e)(t,r);case s.ShowKeyRingMsg:return h(e)(t,r);case s.CreateMnemonicKeyMsg:return l(e)(t,r);case s.AddMnemonicKeyMsg:return p(e)(t,r);case s.CreatePrivateKeyMsg:return f(e)(t,r);case s.AddPrivateKeyMsg:return g(e)(t,r);case s.CreateKeystoneKeyMsg:return y(e)(t,r);case s.CreateLedgerKeyMsg:return m(e)(t,r);case s.AddKeystoneKeyMsg:return v(e)(t,r);case s.AddLedgerKeyMsg:return b(e)(t,r);case s.LockKeyRingMsg:return w(e)(t,r);case s.UnlockKeyRingMsg:return S(e)(t,r);case s.GetKeyMsg:return _(e)(t,r);case s.RequestSignAminoMsg:return k(e)(t,r);case s.RequestSignEIP712CosmosTxMsg_v0:return C(e)(t,r);case s.RequestVerifyADR36AminoSignDoc:return E(e)(t,r);case s.RequestSignDirectMsg:return M(e)(t,r);case s.RequestICNSAdr36SignaturesMsg:return P(e)(t,r);case s.GetMultiKeyStoreInfoMsg:return O(e)(t,r);case s.ChangeKeyRingMsg:return I(e)(t,r);case s.GetIsKeyStoreCoinTypeSetMsg:return K(e)(t,r);case s.SetKeyStoreCoinTypeMsg:return A(e)(t,r);case s.CheckPasswordMsg:return R(e)(t,r);case s.ExportKeyRingDatasMsg:return T(e)(t,r);case s.InitNonDefaultLedgerAppMsg:return x(e)(t,r);case s.ChangeKeyRingNameMsg:return D(e)(t,r);default:throw new n.KeplrError("keyring",221,"Unknown msg type")}};const c=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.restore()})),u=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.deleteKeyRing(r.index,r.password)})),d=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.updateNameKeyRing(r.index,r.name)})),h=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.showKeyRing(r.index,r.password)})),l=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.createMnemonicKey(r.kdf,r.mnemonic,r.password,r.meta,r.bip44HDPath)})),p=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.addMnemonicKey(r.kdf,r.mnemonic,r.meta,r.bip44HDPath)})),f=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.createPrivateKey(r.kdf,r.privateKey,r.password,r.meta)})),g=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.addPrivateKey(r.kdf,r.privateKey,r.meta)})),y=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.createKeystoneKey(t,r.kdf,r.password,r.meta,r.bip44HDPath)})),m=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.createLedgerKey(t,r.kdf,r.password,r.meta,r.bip44HDPath,r.cosmosLikeApp)})),v=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.addKeystoneKey(t,r.kdf,r.meta,r.bip44HDPath)})),b=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.addLedgerKey(t,r.kdf,r.meta,r.bip44HDPath,r.cosmosLikeApp)})),w=e=>()=>({status:e.lock()}),S=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return{status:yield e.unlock(r.password)}})),_=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin);const i=yield e.getKey(r.chainId);return{name:e.getKeyStoreMeta("name"),algo:"secp256k1",pubKey:i.pubKey,address:i.address,bech32Address:new o.Bech32Address(i.address).toBech32((yield e.chainsService.getChainInfo(r.chainId)).bech32Config.bech32PrefixAccAddr),isNanoLedger:i.isNanoLedger,isKeystone:i.isKeystone}})),k=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.requestSignAmino(t,r.origin,r.chainId,r.signer,r.signDoc,r.signOptions)})),C=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.requestSignEIP712CosmosTx_v0(t,r.origin,r.chainId,r.signer,r.eip712,r.signDoc,r.signOptions)})),E=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.verifyADR36AminoSignDoc(r.chainId,r.signer,r.data,r.signature)})),M=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin);const i=a.SignDoc.fromPartial({bodyBytes:r.signDoc.bodyBytes,authInfoBytes:r.signDoc.authInfoBytes,chainId:r.signDoc.chainId,accountNumber:r.signDoc.accountNumber}),n=yield e.requestSignDirect(t,r.origin,r.chainId,r.signer,i,r.signOptions);return{signed:{bodyBytes:n.signed.bodyBytes,authInfoBytes:n.signed.authInfoBytes,chainId:n.signed.chainId,accountNumber:n.signed.accountNumber.toString()},signature:n.signature}})),P=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),e.requestICNSAdr36Signatures(t,r.chainId,r.contractAddress,r.owner,r.username,r.addressChainIds)})),O=e=>()=>({multiKeyStoreInfo:e.getMultiKeyStoreInfo()}),I=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.changeKeyStoreFromMultiKeyStore(r.index)})),K=e=>(t,r)=>e.getKeyStoreBIP44Selectables(r.chainId,r.paths),A=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.setKeyStoreCoinType(r.chainId,r.coinType),e.keyRingStatus})),R=e=>(t,r)=>e.checkPassword(r.password),T=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.exportKeyRingDatas(r.password)})),x=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.initializeNonDefaultLedgerApp(t,r.ledgerApp)})),D=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.enable(t);let i=-1;if(e.getMultiKeyStoreInfo().forEach(({selected:e},t)=>{e&&(i=t)}),-1===i)throw new Error("No account selected");return yield e.changeKeyRingName(t,i,{defaultName:r.defaultName,editable:r.editable})}))},1113:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(557),t),n(r(1199),t)},1199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(357),n=r(583),s=r(1200);t.init=function(e,t){e.registerMessage(i.GetPubkeyMsg),e.registerMessage(i.ReqeustEncryptMsg),e.registerMessage(i.RequestDecryptMsg),e.registerMessage(i.GetTxEncryptionKeyMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1200:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(357);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.GetPubkeyMsg:return o(e)(t,r);case s.ReqeustEncryptMsg:return a(e)(t,r);case s.RequestDecryptMsg:return c(e)(t,r);case s.GetTxEncryptionKeyMsg:return u(e)(t,r);default:throw new n.KeplrError("secret-wasm",120,"Unknown msg type")}};const o=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.getPubkey(t,r.chainId)})),a=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.encrypt(t,r.chainId,r.contractCodeHash,r.msg)})),c=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.decrypt(t,r.chainId,r.cipherText,r.nonce)})),u=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.getTxEncryptionKey(t,r.chainId,r.nonce)}))},1201:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(584),t),n(r(1202),t)},1202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(358),n=r(585),s=r(1203);t.init=function(e,t){e.registerMessage(i.SendTxMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1203:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(358);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.SendTxMsg:return o(e)(t,r);default:throw new n.KeplrError("tx",110,"Unknown msg type")}};const o=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.sendTx(r.chainId,r.tx,r.mode)}))},1204:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(586),t),n(r(1205),t)},1205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(359),n=r(587),s=r(1206);t.init=function(e,t){e.registerMessage(i.TryUpdateChainMsg),e.registerMessage(i.SetChainEndpointsMsg),e.registerMessage(i.ResetChainEndpointsMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1206:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(359);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.TryUpdateChainMsg:return o(e)(t,r);case s.SetChainEndpointsMsg:return a(e)(t,r);case s.ResetChainEndpointsMsg:return c(e)(t,r);default:throw new n.KeplrError("updater",110,"Unknown msg type")}};const o=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return{updated:yield e.tryUpdateChainInfo(r.chainId),afterChainInfos:yield e.chainsService.getChainInfos()}})),a=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.setChainEndpoints(r.chainId,r.rpc,r.rest)})),c=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.resetChainEndpoints(r.chainId)}))},1207:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(588),t),n(r(1208),t)},1208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(238),n=r(589),s=r(1209);t.init=function(e,t){e.registerMessage(i.GetTokensMsg),e.registerMessage(i.SuggestTokenMsg),e.registerMessage(i.AddTokenMsg),e.registerMessage(i.RemoveTokenMsg),e.registerMessage(i.GetSecret20ViewingKey),e.addHandler(n.ROUTE,s.getHandler(t))}},1209:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(238);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.GetTokensMsg:return o(e)(t,r);case s.SuggestTokenMsg:return a(e)(t,r);case s.AddTokenMsg:return c(e)(t,r);case s.RemoveTokenMsg:return u(e)(t,r);case s.GetSecret20ViewingKey:return d(e)(t,r);default:throw new n.KeplrError("tokens",120,"Unknown msg type")}};const o=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.getTokens(r.chainId)})),a=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.suggestToken(t,r.chainId,r.contractAddress,r.viewingKey)})),c=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.addToken(r.chainId,r.currency)})),u=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.removeToken(r.chainId,r.currency)})),d=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.permissionService.checkOrGrantBasicAccessPermission(t,r.chainId,r.origin),yield e.getSecret20ViewingKey(r.chainId,r.contractAddress)}))},1210:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(591),t),n(r(1215),t)},1211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionForegroundService=void 0;t.InteractionForegroundService=class{constructor(e){this.handler=e}pushData(e){this.handler.onInteractionDataReceived(e)}pushEvent(e){this.handler.onEventDataReceived(e)}}},1212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interactionForegroundInit=void 0;const i=r(360),n=r(593),s=r(1214);t.interactionForegroundInit=function(e,t){e.registerMessage(i.PushInteractionDataMsg),e.registerMessage(i.PushEventDataMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=r(4),n=r(360);t.getHandler=e=>(t,r)=>{switch(r.constructor){case n.PushInteractionDataMsg:return s(e)(t,r);case n.PushEventDataMsg:return o(e)(t,r);default:throw new i.KeplrError("interaction",110,"Unknown msg type")}};const s=e=>(t,r)=>e.pushData(r.data),o=e=>(t,r)=>e.pushEvent(r.data)},1215:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(361),n=r(594),s=r(1216);t.init=function(e,t){e.registerMessage(i.ApproveInteractionMsg),e.registerMessage(i.RejectInteractionMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=r(4),n=r(361);t.getHandler=e=>(t,r)=>{switch(r.constructor){case n.ApproveInteractionMsg:return s(e)(t,r);case n.RejectInteractionMsg:return o(e)(t,r);default:throw new i.KeplrError("interaction",100,"Unknown msg type")}};const s=e=>(t,r)=>e.approve(r.id,r.result),o=e=>(t,r)=>e.reject(r.id)},1217:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(504),t),n(r(1218),t)},1218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(308),n=r(506),s=r(1219);t.init=function(e,t){e.registerMessage(i.EnableAccessMsg),e.registerMessage(i.DisableAccessMsg),e.registerMessage(i.GetPermissionOriginsMsg),e.registerMessage(i.GetOriginPermittedChainsMsg),e.registerMessage(i.AddPermissionOrigin),e.registerMessage(i.RemovePermissionOrigin),e.registerMessage(i.GetGlobalPermissionOriginsMsg),e.registerMessage(i.RemoveGlobalPermissionOriginMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1219:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(308),s=r(4);t.getHandler=e=>(t,r)=>{switch(r.constructor){case n.EnableAccessMsg:return o(e)(t,r);case n.DisableAccessMsg:return a(e)(t,r);case n.GetPermissionOriginsMsg:return c(e)(t,r);case n.GetOriginPermittedChainsMsg:return u(e)(t,r);case n.AddPermissionOrigin:return d(e)(t,r);case n.RemovePermissionOrigin:return h(e)(t,r);case n.GetGlobalPermissionOriginsMsg:return l(e)(t,r);case n.RemoveGlobalPermissionOriginMsg:return p(e)(t,r);default:throw new s.KeplrError("permission",120,"Unknown msg type")}};const o=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.checkOrGrantBasicAccessPermission(t,r.chainIds,r.origin)})),a=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.disable(t,r.chainIds,r.origin)})),c=e=>(t,r)=>e.getPermissionOrigins(r.chainId,r.permissionType),u=e=>(t,r)=>e.getOriginPermittedChains(r.permissionOrigin,r.permissionType),d=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.addPermission([r.chainId],r.permissionType,[r.permissionOrigin])})),h=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.removePermission(r.chainId,r.permissionType,[r.permissionOrigin])})),l=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return e.getGlobalPermissionOrigins(r.permissionType)})),p=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return e.removeGlobalPermission(r.permissionType,[r.permissionOrigin])}))},1220:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(595),t),n(r(1221),t)},1221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(597),n=r(1222),s=r(362);t.init=function(e,t){e.registerMessage(s.CheckURLIsPhishingMsg),e.registerMessage(s.URLTempAllowMsg),e.registerMessage(s.CheckBadTwitterIdMsg),e.addHandler(i.ROUTE,n.getHandler(t))}},1222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=r(362);t.getHandler=e=>(t,r)=>{switch(r.constructor){case i.CheckURLIsPhishingMsg:return n(e)(t,r);case i.URLTempAllowMsg:return s(e)(t,r);case i.CheckBadTwitterIdMsg:return o(e)(t,r);default:throw new Error("Unknown msg type")}};const n=e=>(t,r)=>e.checkURLIsPhishing(r.origin),s=e=>(t,r)=>{e.allowUrlTemp(r.url)},o=e=>(t,r)=>e.checkBadTwitterId(r.id)},1223:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(598),t),n(r(1224),t)},1224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(363),n=r(599),s=r(1225);t.init=function(e,t){e.registerMessage(i.GetAutoLockAccountDurationMsg),e.registerMessage(i.UpdateAutoLockAccountDurationMsg),e.registerMessage(i.StartAutoLockMonitoringMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1225:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=r(4),n=r(363);t.getHandler=e=>(t,r)=>{switch(r.constructor){case n.GetAutoLockAccountDurationMsg:return s(e)(t,r);case n.UpdateAutoLockAccountDurationMsg:return o(e)(t,r);case n.StartAutoLockMonitoringMsg:return a(e)(t,r);default:throw new i.KeplrError("auto-lock-account",100,"Unknown msg type")}};const s=e=>()=>e.getAutoLockDuration(),o=e=>(t,r)=>{if(!e.keyRingIsUnlocked)throw new Error("Keyring is not unlocked");return e.setDuration(r.duration)},a=e=>()=>e.startAppStateCheckTimer()},1226:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(600),t),n(r(1227),t)},1227:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(364),n=r(601),s=r(1228);t.init=function(e,t){e.registerMessage(i.GetAnalyticsIdMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},1228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=r(364);t.getHandler=e=>(t,r)=>{switch(r.constructor){case i.GetAnalyticsIdMsg:return n(e)(t,r);default:throw new Error("Unknown msg type")}};const n=e=>(t,r)=>e.getAnalyticsIdOnlyIfPrivileged(t,r.origin)},1229:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(497),t),n(r(307),t)},1230:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(499),t),n(r(223),t),n(r(1231),t)},1231:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1232:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(522),t)},1233:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(557),t),n(r(357),t)},1234:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(584),t),n(r(358),t),n(r(1235),t)},1235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1236:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(586),t),n(r(359),t)},1237:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(588),t),n(r(238),t),n(r(590),t)},1238:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(591),t),n(r(361),t),n(r(1239),t),n(r(592),t)},1239:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1240:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(595),t),n(r(362),t)},1241:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(598),t),n(r(363),t)},1242:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(600),t),n(r(364),t)},1258:function(e,t,r){"use strict";r.r(t),r.d(t,"keccak256",(function(){return _}));var i=r(119),n=r.n(i);let s=!1,o=!1;const a={debug:1,default:2,info:2,warning:3,error:4,off:5};let c=a.default,u=null;const d=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var h,l;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(h||(h={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(l||(l={}));const p="0123456789abcdef";class f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==a[r]&&this.throwArgumentError("invalid log level name","logLevel",e),c>a[r]||console.log.apply(console,t)}debug(...e){this._log(f.levels.DEBUG,e)}info(...e){this._log(f.levels.INFO,e)}warn(...e){this._log(f.levels.WARNING,e)}makeError(e,t,r){if(o)return this.makeError("censored error",t,{});t||(t=f.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=p[t[e]>>4],r+=p[15&t[e]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(r[e].toString()))}}),i.push("code="+t),i.push("version="+this.version);const n=e;i.length&&(e+=" ("+i.join(", ")+")");const s=new Error(e);return s.reason=n,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),d&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return u||(u=new f("logger/5.5.0")),u}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),s){if(!e)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!e,s=!!t}static setLogLevel(e){const t=a[e.toLowerCase()];null!=t?c=t:f.globalLogger().warn("invalid log level - "+e)}static from(e){return new f(e)}}f.errors=l,f.levels=h;const g=new f("bytes/5.5.0");function y(e){return!!e.toHexString}function m(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return m(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function v(e){return"number"==typeof e&&e==e&&e%1==0}function b(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!v(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!v(r)||r<0||r>=256)return!1}return!0}function w(e,t){if(t||(t={}),"number"==typeof e){g.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),m(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),y(e)&&(e=e.toHexString()),S(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":g.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let e=0;e<r.length;e+=2)i.push(parseInt(r.substring(e,e+2),16));return m(new Uint8Array(i))}return b(e)?m(new Uint8Array(e)):g.throwArgumentError("invalid arrayify value","value",e)}function S(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function _(e){return"0x"+n.a.keccak_256(w(e))}},1398:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return l}));r(254),r(60),r(604),r(2);var i=r(4);r(603),r(644),r(133),r(645),r(98),r(48),r(602);var n,s;r(273);!function(e){e.Cosmos="cosmos",e.Ethereum="ethereum"}(n||(n={})),function(e){e[e.Transport=0]="Transport",e[e.App=1]="App",e[e.Unknown=2]="Unknown"}(s||(s={}));Error;r(253);i.Message;i.Message;var o;!function(e){e.Amino="amino",e.Direct="direct",e.Message="message"}(o||(o={}));r(8),r(605),r(1);var a=r(50),c=r.n(a);c.a.object({name:c.a.string().min(1).required(),type:c.a.string().min(1).required()});const u=c.a.array().items(c.a.object({name:c.a.string().valid("name").required(),type:c.a.string().valid("string").required()}),c.a.object({name:c.a.string().valid("version").required(),type:c.a.string().valid("string").required()}),c.a.object({name:c.a.string().valid("chainId").required(),type:c.a.string().valid("uint256").required()}),c.a.object({name:c.a.string().valid("verifyingContract").required(),type:c.a.string().valid("address","string").required()}),c.a.object({name:c.a.string().valid("salt").required(),type:c.a.string().valid("bytes32","string").required()})).unique().min(1).custom(e=>{const t=["name","version","chainId","verifyingContract","salt"];return e.sort((e,r)=>t.indexOf(e.name)-t.indexOf(r.name))});c.a.object({types:c.a.object({EIP712Domain:u.required()}).unknown(!0).required(),primaryType:c.a.string().min(1).required(),domain:c.a.object().required(),message:c.a.object().required()});var d;!function(e){e[e.NOTLOADED=0]="NOTLOADED",e[e.EMPTY=1]="EMPTY",e[e.LOCKED=2]="LOCKED",e[e.UNLOCKED=3]="UNLOCKED"}(d||(d={}));r(29),r(136),r(25);c.a.object({chain_id:c.a.string().allow(""),account_number:c.a.string().allow(""),sequence:c.a.string().allow(""),fee:c.a.object({amount:c.a.array().items(c.a.object({denom:c.a.string().allow(""),amount:c.a.string().allow("")})),gas:c.a.string().allow(""),payer:c.a.string().allow(""),granter:c.a.string().allow(""),feePayer:c.a.string().allow("")}),msgs:c.a.array().items(c.a.any()),memo:c.a.string().allow(""),timeout_height:c.a.string().allow("")});r(67);r(198);i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;i.Message;r(192);class h extends i.Message{static type(){return"get-auto-lock-account-duration"}constructor(){super()}validateBasic(){}route(){return"auto-lock-account"}type(){return h.type()}}class l extends i.Message{constructor(e){super(),this.duration=e}static type(){return"update-auto-lock-account-duration"}validateBasic(){if(this.duration<0)throw new i.KeplrError("auto-lock-account",101,"duration cannot be set to a negative number.")}route(){return"auto-lock-account"}type(){return l.type()}}i.Message},1417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGasPriceStep=void 0,t.DefaultGasPriceStep={low:.01,average:.025,high:.04}},1418:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useZeroAllowedGasConfig=t.useGasConfig=t.GasConfig=void 0;const n=r(419),s=r(7),o=r(0);class a extends n.TxChainSetter{constructor(e,t,r,i){super(e,t),this._gasRaw=void 0,this._allowZeroGas=void 0,this._gasRaw=null==r?void 0:r.toString(),this._allowZeroGas=i,s.makeObservable(this)}get gasRaw(){return null==this._gasRaw?this.gas.toString():this._gasRaw}get gas(){if(null==this._gasRaw)return 0;const e=parseInt(this._gasRaw);return Number.isNaN(e)?0:e}setGas(e){"number"!=typeof e?""!==e&&(e.includes(".")||Number.isNaN(Number.parseInt(e)))||(this._gasRaw=e):this._gasRaw=Math.floor(e).toString()}get error(){if(""===this._gasRaw)return new Error("Gas not set");if(this._gasRaw&&Number.isNaN(this._gasRaw))return new Error("Gas is not valid number");if(!Number.isInteger(this.gas))return new Error("Gas is not integer");if(this._allowZeroGas){if(this.gas<0)return new Error("Gas should be greater or equal than 0")}else if(this.gas<=0)return new Error("Gas should be greater than 0")}}i([s.observable],a.prototype,"_gasRaw",void 0),i([s.observable],a.prototype,"_allowZeroGas",void 0),i([s.computed],a.prototype,"gas",null),i([s.action],a.prototype,"setGas",null),i([s.computed],a.prototype,"error",null),t.GasConfig=a;t.useGasConfig=(e,t,r)=>{const[i]=o.useState(()=>new a(e,t,r));return i.setChain(t),i};t.useZeroAllowedGasConfig=(e,t,r)=>{const[i]=o.useState(()=>new a(e,t,r,!0));return i.setChain(t),i}},1419:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useAmountConfig=t.AmountConfig=void 0;const n=r(419),s=r(7),o=r(626),a=r(32),c=r(0);class u extends n.TxChainSetter{constructor(e,t,r,i,n){super(e,r),this.queriesStore=t,this._sendCurrency=void 0,this._fraction=void 0,this._sender=i,this.feeConfig=n,this._amount="",s.makeObservable(this)}setFeeConfig(e){this.feeConfig=e}setSender(e){this._sender=e}setSendCurrency(e){this._sendCurrency=e}setAmount(e){e.startsWith(".")&&(e="0"+e),null!=this.fraction&&this.setFraction(void 0),this._amount=e}setIsMax(e){this._fraction=e?1:void 0}toggleIsMax(){this.setIsMax(!this.isMax)}get isMax(){return 1===this._fraction}get sender(){return this._sender}get fraction(){return this._fraction}setFraction(e){this._fraction=e}get amount(){var e;if(null!=this.fraction){const t=this.queriesStore.get(this.chainId).queryBalances.getQueryBech32Address(this.sender).getBalanceFromCurrency(this.sendCurrency),r=(null===(e=this.feeConfig)||void 0===e?void 0:e.fee)?t.sub(this.feeConfig.fee):t;return r.toDec().lte(new a.Dec(0))?"0":r.mul(new a.Dec(this.fraction)).trim(!0).locale(!1).hideDenom(!0).toString()}return this._amount}getAmountPrimitive(){const e=this.amount,t=this.sendCurrency;if(!e)return{denom:t.coinMinimalDenom,amount:"0"};try{return{denom:t.coinMinimalDenom,amount:new a.Dec(e).mul(a.DecUtils.getPrecisionDec(t.coinDecimals)).truncate().toString()}}catch(e){return{denom:t.coinMinimalDenom,amount:"0"}}}get sendCurrency(){const e=this.chainInfo;if(this._sendCurrency){if(e.currencies.find(e=>e.coinMinimalDenom===this._sendCurrency.coinMinimalDenom))return this._sendCurrency}if(0===e.currencies.length)throw new Error("Chain doesn't have the sendable currency informations");return e.currencies[0]}get sendableCurrencies(){return this.chainInfo.currencies}get error(){if(!this.sendCurrency)return new Error("Currency to send not set");if(""===this.amount)return new o.EmptyAmountError("Amount is empty");if(Number.isNaN(parseFloat(this.amount)))return new o.InvalidNumberAmountError("Invalid form of number");let e;try{if(e=new a.Dec(this.amount),e.equals(new a.Dec(0)))return new o.ZeroAmountError("Amount is zero")}catch(e){return new o.InvalidNumberAmountError("Invalid form of number")}if(new a.Dec(this.amount).lt(new a.Dec(0)))return new o.NegativeAmountError("Amount is negative");const t=this.queriesStore.get(this.chainId).queryBalances.getQueryBech32Address(this.sender).getBalanceFromCurrency(this.sendCurrency).toDec();return e.gt(t)?new o.InsufficientAmountError("Insufficient amount"):void 0}}i([s.observable.ref],u.prototype,"feeConfig",void 0),i([s.observable],u.prototype,"_sender",void 0),i([s.observable.ref],u.prototype,"_sendCurrency",void 0),i([s.observable],u.prototype,"_amount",void 0),i([s.observable],u.prototype,"_fraction",void 0),i([s.action],u.prototype,"setFeeConfig",null),i([s.action],u.prototype,"setSender",null),i([s.action],u.prototype,"setSendCurrency",null),i([s.action],u.prototype,"setAmount",null),i([s.action],u.prototype,"setIsMax",null),i([s.action],u.prototype,"toggleIsMax",null),i([s.action],u.prototype,"setFraction",null),i([s.computed],u.prototype,"amount",null),i([s.computed],u.prototype,"sendCurrency",null),i([s.computed],u.prototype,"error",null),t.AmountConfig=u;t.useAmountConfig=(e,t,r,i)=>{const[n]=c.useState(()=>new u(e,t,r,i,void 0));return n.setChain(r),n.setSender(i),n}},1420:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useSendGasConfig=t.SendGasConfig=void 0;const n=r(1418),s=r(29),o=r(0),a=r(7),c=r(626);class u extends n.GasConfig{constructor(e,t,r,i){super(e,r),this.accountStore=t,this.amountConfig=i,a.makeObservable(this)}get gas(){var e,t,r,i,n,o;if(null==this._gasRaw&&this.amountConfig.sendCurrency){const a=new s.DenomHelper(this.amountConfig.sendCurrency.coinMinimalDenom),c=this.accountStore.getAccount(this.chainId);switch(a.type){case"secret20":return null!==(t=null===(e=c.secret)||void 0===e?void 0:e.msgOpts.send.secret20.gas)&&void 0!==t?t:0;case"cw20":return null!==(i=null===(r=c.cosmwasm)||void 0===r?void 0:r.msgOpts.send.cw20.gas)&&void 0!==i?i:0;default:return null!==(o=null===(n=c.cosmos)||void 0===n?void 0:n.msgOpts.send.native.gas)&&void 0!==o?o:0}}return super.gas}get error(){var e,t,r;if(this.amountConfig.sendCurrency){const i=new s.DenomHelper(this.amountConfig.sendCurrency.coinMinimalDenom),n=this.accountStore.getAccount(this.chainId);switch(i.type){case"secret20":if(!(null===(e=n.secret)||void 0===e?void 0:e.msgOpts.send.secret20.gas))return new c.UnknownCurrencyError("Unknown currency");break;case"cw20":if(!(null===(t=n.cosmwasm)||void 0===t?void 0:t.msgOpts.send.cw20.gas))return new c.UnknownCurrencyError("Unknown currency");break;default:if(!(null===(r=n.cosmos)||void 0===r?void 0:r.msgOpts.send.native.gas))return new c.UnknownCurrencyError("Unknown currency")}}return super.error}}i([a.override],u.prototype,"gas",null),i([a.override],u.prototype,"error",null),t.SendGasConfig=u;t.useSendGasConfig=(e,t,r,i)=>{const[n]=o.useState(()=>new u(e,t,r,i));return n.setChain(r),n}},1421:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useStakedAmountConfig=t.StakedAmountConfig=void 0;const n=r(419),s=r(7),o=r(626),a=r(32),c=r(0);class u extends n.TxChainSetter{constructor(e,t,r,i,n){super(e,r),this.queriesStore=t,this._fraction=void 0,this._sender=i,this._amount="",this._validatorAddress=n,s.makeObservable(this)}setValidatorAddress(e){this._validatorAddress=e}get validatorAddress(){return this._validatorAddress}setSender(e){this._sender=e}setSendCurrency(){}setAmount(e){e.startsWith(".")&&(e="0"+e),this.isMax&&this.setIsMax(!1),this._amount=e}setIsMax(e){this._fraction=e?1:void 0}toggleIsMax(){this.setIsMax(!this.isMax)}get isMax(){return 1===this._fraction}get fraction(){return this._fraction}setFraction(e){this._fraction=e}get sender(){return this._sender}get amount(){if(!this.queriesStore.get(this.chainId).cosmos)throw new Error("No querier for delegations");if(null!=this.fraction){const e=this.queriesStore.get(this.chainId).cosmos.queryDelegations.getQueryBech32Address(this.sender).getDelegationTo(this.validatorAddress);return e.toDec().lte(new a.Dec(0))?"0":e.mul(new a.Dec(this.fraction)).trim(!0).locale(!1).hideDenom(!0).toString()}return this._amount}getAmountPrimitive(){const e=this.amount,t=this.sendCurrency;if(!e)return{denom:t.coinMinimalDenom,amount:"0"};try{return{denom:t.coinMinimalDenom,amount:new a.Dec(e).mul(a.DecUtils.getPrecisionDec(t.coinDecimals)).truncate().toString()}}catch(e){return{denom:t.coinMinimalDenom,amount:"0"}}}get sendCurrency(){return this.chainInfo.stakeCurrency}get sendableCurrencies(){return[this.chainInfo.stakeCurrency]}get error(){if(!this.queriesStore.get(this.chainId).cosmos)throw new Error("No querier for delegations");if(!this.sendCurrency)return new Error("Currency to send not set");if(""===this.amount)return new o.EmptyAmountError("Amount is empty");if(Number.isNaN(parseFloat(this.amount)))return new o.InvalidNumberAmountError("Invalid form of number");let e;try{if(e=new a.Dec(this.amount),e.equals(new a.Dec(0)))return new o.ZeroAmountError("Amount is zero")}catch(e){return new o.InvalidNumberAmountError("Invalid form of number")}if(new a.Dec(this.amount).lt(new a.Dec(0)))return new o.NegativeAmountError("Amount is negative");const t=this.queriesStore.get(this.chainId).cosmos.queryDelegations.getQueryBech32Address(this.sender).getDelegationTo(this.validatorAddress).toDec();return e.gt(t)?new o.InsufficientAmountError("Insufficient amount"):void 0}}i([s.observable],u.prototype,"_sender",void 0),i([s.observable],u.prototype,"_validatorAddress",void 0),i([s.observable],u.prototype,"_amount",void 0),i([s.observable],u.prototype,"_fraction",void 0),i([s.action],u.prototype,"setValidatorAddress",null),i([s.action],u.prototype,"setSender",null),i([s.action],u.prototype,"setSendCurrency",null),i([s.action],u.prototype,"setAmount",null),i([s.action],u.prototype,"setIsMax",null),i([s.action],u.prototype,"toggleIsMax",null),i([s.action],u.prototype,"setFraction",null),i([s.computed],u.prototype,"amount",null),i([s.computed],u.prototype,"sendCurrency",null),i([s.computed],u.prototype,"error",null),t.StakedAmountConfig=u;t.useStakedAmountConfig=(e,t,r,i,n)=>{const[s]=c.useState(()=>new u(e,t,r,i,n));return s.setChain(r),s.setSender(i),s.setValidatorAddress(n),s}},1443:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCAmountConfig=t.IBCAmountConfig=void 0;const n=r(379),s=r(7),o=r(29),a=r(0);class c extends n.AmountConfig{constructor(e,t,r,i,n){super(e,t,r,i,n),this.queriesStore=t,s.makeObservable(this)}get sendableCurrencies(){return super.sendableCurrencies.filter(e=>"native"===new o.DenomHelper(e.coinMinimalDenom).type)}}i([s.computed],c.prototype,"sendableCurrencies",null),t.IBCAmountConfig=c;t.useIBCAmountConfig=(e,t,r,i)=>{const[n]=a.useState(()=>new c(e,t,r,i,void 0));return n.setChain(r),n.setSender(i),n}},1444:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCChannelConfig=t.IBCChannelConfig=void 0;const n=r(7),s=r(1445),o=r(0);class a{constructor(){this._channel=void 0,n.makeObservable(this)}get channel(){return this._channel}get error(){if(!this._channel)return new s.ChannelNotSetError("Channel not set")}setChannel(e){this._channel=e}}i([n.observable.ref],a.prototype,"_channel",void 0),i([n.computed],a.prototype,"error",null),i([n.action],a.prototype,"setChannel",null),t.IBCChannelConfig=a;t.useIBCChannelConfig=()=>{const[e]=o.useState(()=>new a);return e}},1445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelNotSetError=void 0;class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}t.ChannelNotSetError=i},1446:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCTransferGasConfig=t.IBCTransferGasConfig=void 0;const n=r(379),s=r(7),o=r(0);class a extends n.GasConfig{constructor(e,t,r){super(e,r),this.accountStore=t,s.makeObservable(this)}get gas(){return null==this._gasRaw?this.accountStore.getAccount(this.chainId).cosmos.msgOpts.ibcTransfer.gas:super.gas}}i([s.override],a.prototype,"gas",null),t.IBCTransferGasConfig=a;t.useIBCTransferGasConfig=(e,t,r)=>{const[i]=o.useState(()=>new a(e,t,r));return i.setChain(r),i}},1661:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useInteractionInfo=void 0;const s=r(19),o=n(r(1294)),a=r(192),c=r(0);t.useInteractionInfo=(e,t={})=>{let r=s.useLocation().search;r.startsWith("?")&&(r=r.slice(1));const n=o.default.parse(r),u=c.useRef(e);u.current=e;const d={interaction:"true"===n.interaction,interactionInternal:"true"===n.interactionInternal};return c.useEffect(()=>{d.interaction&&!d.interactionInternal&&(t.enableScroll||a.disableScroll(),a.fitPopupWindow())},[d.interaction,d.interactionInternal]),c.useEffect(()=>()=>{u.current&&u.current()},[]),c.useEffect(()=>{const e=()=>i(void 0,void 0,void 0,(function*(){u.current&&u.current()}));return addEventListener("beforeunload",e),()=>{removeEventListener("beforeunload",e)}},[]),d}},1665:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoConfig=t.MemoConfig=void 0;const n=r(7),s=r(419),o=r(0),a=r(626);class c extends s.TxChainSetter{constructor(e,t){super(e,t),this._memo="",n.makeObservable(this)}get memo(){return this._memo}setMemo(e){this._memo=e}get error(){const e=this.memo.trim().split(" ").map(e=>e.trim()).filter(e=>e.length>0);if(e.length>=8&&e.length<=32){const t=e.length/4*3;let r=0;for(const t of e)u[t]&&r++;if(r>=t)return new a.MemoSuspectMnemonicInclusion("Memo contains mnemonic")}}}i([n.observable],c.prototype,"_memo",void 0),i([n.action],c.prototype,"setMemo",null),i([n.computed],c.prototype,"error",null),t.MemoConfig=c;t.useMemoConfig=(e,t)=>{const[r]=o.useState(()=>new c(e,t));return r.setChain(t),r};const u={abandon:!0,ability:!0,able:!0,about:!0,above:!0,absent:!0,absorb:!0,abstract:!0,absurd:!0,abuse:!0,access:!0,accident:!0,account:!0,accuse:!0,achieve:!0,acid:!0,acoustic:!0,acquire:!0,across:!0,act:!0,action:!0,actor:!0,actress:!0,actual:!0,adapt:!0,add:!0,addict:!0,address:!0,adjust:!0,admit:!0,adult:!0,advance:!0,advice:!0,aerobic:!0,affair:!0,afford:!0,afraid:!0,again:!0,age:!0,agent:!0,agree:!0,ahead:!0,aim:!0,air:!0,airport:!0,aisle:!0,alarm:!0,album:!0,alcohol:!0,alert:!0,alien:!0,all:!0,alley:!0,allow:!0,almost:!0,alone:!0,alpha:!0,already:!0,also:!0,alter:!0,always:!0,amateur:!0,amazing:!0,among:!0,amount:!0,amused:!0,analyst:!0,anchor:!0,ancient:!0,anger:!0,angle:!0,angry:!0,animal:!0,ankle:!0,announce:!0,annual:!0,another:!0,answer:!0,antenna:!0,antique:!0,anxiety:!0,any:!0,apart:!0,apology:!0,appear:!0,apple:!0,approve:!0,april:!0,arch:!0,arctic:!0,area:!0,arena:!0,argue:!0,arm:!0,armed:!0,armor:!0,army:!0,around:!0,arrange:!0,arrest:!0,arrive:!0,arrow:!0,art:!0,artefact:!0,artist:!0,artwork:!0,ask:!0,aspect:!0,assault:!0,asset:!0,assist:!0,assume:!0,asthma:!0,athlete:!0,atom:!0,attack:!0,attend:!0,attitude:!0,attract:!0,auction:!0,audit:!0,august:!0,aunt:!0,author:!0,auto:!0,autumn:!0,average:!0,avocado:!0,avoid:!0,awake:!0,aware:!0,away:!0,awesome:!0,awful:!0,awkward:!0,axis:!0,baby:!0,bachelor:!0,bacon:!0,badge:!0,bag:!0,balance:!0,balcony:!0,ball:!0,bamboo:!0,banana:!0,banner:!0,bar:!0,barely:!0,bargain:!0,barrel:!0,base:!0,basic:!0,basket:!0,battle:!0,beach:!0,bean:!0,beauty:!0,because:!0,become:!0,beef:!0,before:!0,begin:!0,behave:!0,behind:!0,believe:!0,below:!0,belt:!0,bench:!0,benefit:!0,best:!0,betray:!0,better:!0,between:!0,beyond:!0,bicycle:!0,bid:!0,bike:!0,bind:!0,biology:!0,bird:!0,birth:!0,bitter:!0,black:!0,blade:!0,blame:!0,blanket:!0,blast:!0,bleak:!0,bless:!0,blind:!0,blood:!0,blossom:!0,blouse:!0,blue:!0,blur:!0,blush:!0,board:!0,boat:!0,body:!0,boil:!0,bomb:!0,bone:!0,bonus:!0,book:!0,boost:!0,border:!0,boring:!0,borrow:!0,boss:!0,bottom:!0,bounce:!0,box:!0,boy:!0,bracket:!0,brain:!0,brand:!0,brass:!0,brave:!0,bread:!0,breeze:!0,brick:!0,bridge:!0,brief:!0,bright:!0,bring:!0,brisk:!0,broccoli:!0,broken:!0,bronze:!0,broom:!0,brother:!0,brown:!0,brush:!0,bubble:!0,buddy:!0,budget:!0,buffalo:!0,build:!0,bulb:!0,bulk:!0,bullet:!0,bundle:!0,bunker:!0,burden:!0,burger:!0,burst:!0,bus:!0,business:!0,busy:!0,butter:!0,buyer:!0,buzz:!0,cabbage:!0,cabin:!0,cable:!0,cactus:!0,cage:!0,cake:!0,call:!0,calm:!0,camera:!0,camp:!0,can:!0,canal:!0,cancel:!0,candy:!0,cannon:!0,canoe:!0,canvas:!0,canyon:!0,capable:!0,capital:!0,captain:!0,car:!0,carbon:!0,card:!0,cargo:!0,carpet:!0,carry:!0,cart:!0,case:!0,cash:!0,casino:!0,castle:!0,casual:!0,cat:!0,catalog:!0,catch:!0,category:!0,cattle:!0,caught:!0,cause:!0,caution:!0,cave:!0,ceiling:!0,celery:!0,cement:!0,census:!0,century:!0,cereal:!0,certain:!0,chair:!0,chalk:!0,champion:!0,change:!0,chaos:!0,chapter:!0,charge:!0,chase:!0,chat:!0,cheap:!0,check:!0,cheese:!0,chef:!0,cherry:!0,chest:!0,chicken:!0,chief:!0,child:!0,chimney:!0,choice:!0,choose:!0,chronic:!0,chuckle:!0,chunk:!0,churn:!0,cigar:!0,cinnamon:!0,circle:!0,citizen:!0,city:!0,civil:!0,claim:!0,clap:!0,clarify:!0,claw:!0,clay:!0,clean:!0,clerk:!0,clever:!0,click:!0,client:!0,cliff:!0,climb:!0,clinic:!0,clip:!0,clock:!0,clog:!0,close:!0,cloth:!0,cloud:!0,clown:!0,club:!0,clump:!0,cluster:!0,clutch:!0,coach:!0,coast:!0,coconut:!0,code:!0,coffee:!0,coil:!0,coin:!0,collect:!0,color:!0,column:!0,combine:!0,come:!0,comfort:!0,comic:!0,common:!0,company:!0,concert:!0,conduct:!0,confirm:!0,congress:!0,connect:!0,consider:!0,control:!0,convince:!0,cook:!0,cool:!0,copper:!0,copy:!0,coral:!0,core:!0,corn:!0,correct:!0,cost:!0,cotton:!0,couch:!0,country:!0,couple:!0,course:!0,cousin:!0,cover:!0,coyote:!0,crack:!0,cradle:!0,craft:!0,cram:!0,crane:!0,crash:!0,crater:!0,crawl:!0,crazy:!0,cream:!0,credit:!0,creek:!0,crew:!0,cricket:!0,crime:!0,crisp:!0,critic:!0,crop:!0,cross:!0,crouch:!0,crowd:!0,crucial:!0,cruel:!0,cruise:!0,crumble:!0,crunch:!0,crush:!0,cry:!0,crystal:!0,cube:!0,culture:!0,cup:!0,cupboard:!0,curious:!0,current:!0,curtain:!0,curve:!0,cushion:!0,custom:!0,cute:!0,cycle:!0,dad:!0,damage:!0,damp:!0,dance:!0,danger:!0,daring:!0,dash:!0,daughter:!0,dawn:!0,day:!0,deal:!0,debate:!0,debris:!0,decade:!0,december:!0,decide:!0,decline:!0,decorate:!0,decrease:!0,deer:!0,defense:!0,define:!0,defy:!0,degree:!0,delay:!0,deliver:!0,demand:!0,demise:!0,denial:!0,dentist:!0,deny:!0,depart:!0,depend:!0,deposit:!0,depth:!0,deputy:!0,derive:!0,describe:!0,desert:!0,design:!0,desk:!0,despair:!0,destroy:!0,detail:!0,detect:!0,develop:!0,device:!0,devote:!0,diagram:!0,dial:!0,diamond:!0,diary:!0,dice:!0,diesel:!0,diet:!0,differ:!0,digital:!0,dignity:!0,dilemma:!0,dinner:!0,dinosaur:!0,direct:!0,dirt:!0,disagree:!0,discover:!0,disease:!0,dish:!0,dismiss:!0,disorder:!0,display:!0,distance:!0,divert:!0,divide:!0,divorce:!0,dizzy:!0,doctor:!0,document:!0,dog:!0,doll:!0,dolphin:!0,domain:!0,donate:!0,donkey:!0,donor:!0,door:!0,dose:!0,double:!0,dove:!0,draft:!0,dragon:!0,drama:!0,drastic:!0,draw:!0,dream:!0,dress:!0,drift:!0,drill:!0,drink:!0,drip:!0,drive:!0,drop:!0,drum:!0,dry:!0,duck:!0,dumb:!0,dune:!0,during:!0,dust:!0,dutch:!0,duty:!0,dwarf:!0,dynamic:!0,eager:!0,eagle:!0,early:!0,earn:!0,earth:!0,easily:!0,east:!0,easy:!0,echo:!0,ecology:!0,economy:!0,edge:!0,edit:!0,educate:!0,effort:!0,egg:!0,eight:!0,either:!0,elbow:!0,elder:!0,electric:!0,elegant:!0,element:!0,elephant:!0,elevator:!0,elite:!0,else:!0,embark:!0,embody:!0,embrace:!0,emerge:!0,emotion:!0,employ:!0,empower:!0,empty:!0,enable:!0,enact:!0,end:!0,endless:!0,endorse:!0,enemy:!0,energy:!0,enforce:!0,engage:!0,engine:!0,enhance:!0,enjoy:!0,enlist:!0,enough:!0,enrich:!0,enroll:!0,ensure:!0,enter:!0,entire:!0,entry:!0,envelope:!0,episode:!0,equal:!0,equip:!0,era:!0,erase:!0,erode:!0,erosion:!0,error:!0,erupt:!0,escape:!0,essay:!0,essence:!0,estate:!0,eternal:!0,ethics:!0,evidence:!0,evil:!0,evoke:!0,evolve:!0,exact:!0,example:!0,excess:!0,exchange:!0,excite:!0,exclude:!0,excuse:!0,execute:!0,exercise:!0,exhaust:!0,exhibit:!0,exile:!0,exist:!0,exit:!0,exotic:!0,expand:!0,expect:!0,expire:!0,explain:!0,expose:!0,express:!0,extend:!0,extra:!0,eye:!0,eyebrow:!0,fabric:!0,face:!0,faculty:!0,fade:!0,faint:!0,faith:!0,fall:!0,false:!0,fame:!0,family:!0,famous:!0,fan:!0,fancy:!0,fantasy:!0,farm:!0,fashion:!0,fat:!0,fatal:!0,father:!0,fatigue:!0,fault:!0,favorite:!0,feature:!0,february:!0,federal:!0,fee:!0,feed:!0,feel:!0,female:!0,fence:!0,festival:!0,fetch:!0,fever:!0,few:!0,fiber:!0,fiction:!0,field:!0,figure:!0,file:!0,film:!0,filter:!0,final:!0,find:!0,fine:!0,finger:!0,finish:!0,fire:!0,firm:!0,first:!0,fiscal:!0,fish:!0,fit:!0,fitness:!0,fix:!0,flag:!0,flame:!0,flash:!0,flat:!0,flavor:!0,flee:!0,flight:!0,flip:!0,float:!0,flock:!0,floor:!0,flower:!0,fluid:!0,flush:!0,fly:!0,foam:!0,focus:!0,fog:!0,foil:!0,fold:!0,follow:!0,food:!0,foot:!0,force:!0,forest:!0,forget:!0,fork:!0,fortune:!0,forum:!0,forward:!0,fossil:!0,foster:!0,found:!0,fox:!0,fragile:!0,frame:!0,frequent:!0,fresh:!0,friend:!0,fringe:!0,frog:!0,front:!0,frost:!0,frown:!0,frozen:!0,fruit:!0,fuel:!0,fun:!0,funny:!0,furnace:!0,fury:!0,future:!0,gadget:!0,gain:!0,galaxy:!0,gallery:!0,game:!0,gap:!0,garage:!0,garbage:!0,garden:!0,garlic:!0,garment:!0,gas:!0,gasp:!0,gate:!0,gather:!0,gauge:!0,gaze:!0,general:!0,genius:!0,genre:!0,gentle:!0,genuine:!0,gesture:!0,ghost:!0,giant:!0,gift:!0,giggle:!0,ginger:!0,giraffe:!0,girl:!0,give:!0,glad:!0,glance:!0,glare:!0,glass:!0,glide:!0,glimpse:!0,globe:!0,gloom:!0,glory:!0,glove:!0,glow:!0,glue:!0,goat:!0,goddess:!0,gold:!0,good:!0,goose:!0,gorilla:!0,gospel:!0,gossip:!0,govern:!0,gown:!0,grab:!0,grace:!0,grain:!0,grant:!0,grape:!0,grass:!0,gravity:!0,great:!0,green:!0,grid:!0,grief:!0,grit:!0,grocery:!0,group:!0,grow:!0,grunt:!0,guard:!0,guess:!0,guide:!0,guilt:!0,guitar:!0,gun:!0,gym:!0,habit:!0,hair:!0,half:!0,hammer:!0,hamster:!0,hand:!0,happy:!0,harbor:!0,hard:!0,harsh:!0,harvest:!0,hat:!0,have:!0,hawk:!0,hazard:!0,head:!0,health:!0,heart:!0,heavy:!0,hedgehog:!0,height:!0,hello:!0,helmet:!0,help:!0,hen:!0,hero:!0,hidden:!0,high:!0,hill:!0,hint:!0,hip:!0,hire:!0,history:!0,hobby:!0,hockey:!0,hold:!0,hole:!0,holiday:!0,hollow:!0,home:!0,honey:!0,hood:!0,hope:!0,horn:!0,horror:!0,horse:!0,hospital:!0,host:!0,hotel:!0,hour:!0,hover:!0,hub:!0,huge:!0,human:!0,humble:!0,humor:!0,hundred:!0,hungry:!0,hunt:!0,hurdle:!0,hurry:!0,hurt:!0,husband:!0,hybrid:!0,ice:!0,icon:!0,idea:!0,identify:!0,idle:!0,ignore:!0,ill:!0,illegal:!0,illness:!0,image:!0,imitate:!0,immense:!0,immune:!0,impact:!0,impose:!0,improve:!0,impulse:!0,inch:!0,include:!0,income:!0,increase:!0,index:!0,indicate:!0,indoor:!0,industry:!0,infant:!0,inflict:!0,inform:!0,inhale:!0,inherit:!0,initial:!0,inject:!0,injury:!0,inmate:!0,inner:!0,innocent:!0,input:!0,inquiry:!0,insane:!0,insect:!0,inside:!0,inspire:!0,install:!0,intact:!0,interest:!0,into:!0,invest:!0,invite:!0,involve:!0,iron:!0,island:!0,isolate:!0,issue:!0,item:!0,ivory:!0,jacket:!0,jaguar:!0,jar:!0,jazz:!0,jealous:!0,jeans:!0,jelly:!0,jewel:!0,job:!0,join:!0,joke:!0,journey:!0,joy:!0,judge:!0,juice:!0,jump:!0,jungle:!0,junior:!0,junk:!0,just:!0,kangaroo:!0,keen:!0,keep:!0,ketchup:!0,key:!0,kick:!0,kid:!0,kidney:!0,kind:!0,kingdom:!0,kiss:!0,kit:!0,kitchen:!0,kite:!0,kitten:!0,kiwi:!0,knee:!0,knife:!0,knock:!0,know:!0,lab:!0,label:!0,labor:!0,ladder:!0,lady:!0,lake:!0,lamp:!0,language:!0,laptop:!0,large:!0,later:!0,latin:!0,laugh:!0,laundry:!0,lava:!0,law:!0,lawn:!0,lawsuit:!0,layer:!0,lazy:!0,leader:!0,leaf:!0,learn:!0,leave:!0,lecture:!0,left:!0,leg:!0,legal:!0,legend:!0,leisure:!0,lemon:!0,lend:!0,length:!0,lens:!0,leopard:!0,lesson:!0,letter:!0,level:!0,liar:!0,liberty:!0,library:!0,license:!0,life:!0,lift:!0,light:!0,like:!0,limb:!0,limit:!0,link:!0,lion:!0,liquid:!0,list:!0,little:!0,live:!0,lizard:!0,load:!0,loan:!0,lobster:!0,local:!0,lock:!0,logic:!0,lonely:!0,long:!0,loop:!0,lottery:!0,loud:!0,lounge:!0,love:!0,loyal:!0,lucky:!0,luggage:!0,lumber:!0,lunar:!0,lunch:!0,luxury:!0,lyrics:!0,machine:!0,mad:!0,magic:!0,magnet:!0,maid:!0,mail:!0,main:!0,major:!0,make:!0,mammal:!0,man:!0,manage:!0,mandate:!0,mango:!0,mansion:!0,manual:!0,maple:!0,marble:!0,march:!0,margin:!0,marine:!0,market:!0,marriage:!0,mask:!0,mass:!0,master:!0,match:!0,material:!0,math:!0,matrix:!0,matter:!0,maximum:!0,maze:!0,meadow:!0,mean:!0,measure:!0,meat:!0,mechanic:!0,medal:!0,media:!0,melody:!0,melt:!0,member:!0,memory:!0,mention:!0,menu:!0,mercy:!0,merge:!0,merit:!0,merry:!0,mesh:!0,message:!0,metal:!0,method:!0,middle:!0,midnight:!0,milk:!0,million:!0,mimic:!0,mind:!0,minimum:!0,minor:!0,minute:!0,miracle:!0,mirror:!0,misery:!0,miss:!0,mistake:!0,mix:!0,mixed:!0,mixture:!0,mobile:!0,model:!0,modify:!0,mom:!0,moment:!0,monitor:!0,monkey:!0,monster:!0,month:!0,moon:!0,moral:!0,more:!0,morning:!0,mosquito:!0,mother:!0,motion:!0,motor:!0,mountain:!0,mouse:!0,move:!0,movie:!0,much:!0,muffin:!0,mule:!0,multiply:!0,muscle:!0,museum:!0,mushroom:!0,music:!0,must:!0,mutual:!0,myself:!0,mystery:!0,myth:!0,naive:!0,name:!0,napkin:!0,narrow:!0,nasty:!0,nation:!0,nature:!0,near:!0,neck:!0,need:!0,negative:!0,neglect:!0,neither:!0,nephew:!0,nerve:!0,nest:!0,net:!0,network:!0,neutral:!0,never:!0,news:!0,next:!0,nice:!0,night:!0,noble:!0,noise:!0,nominee:!0,noodle:!0,normal:!0,north:!0,nose:!0,notable:!0,note:!0,nothing:!0,notice:!0,novel:!0,now:!0,nuclear:!0,number:!0,nurse:!0,nut:!0,oak:!0,obey:!0,object:!0,oblige:!0,obscure:!0,observe:!0,obtain:!0,obvious:!0,occur:!0,ocean:!0,october:!0,odor:!0,off:!0,offer:!0,office:!0,often:!0,oil:!0,okay:!0,old:!0,olive:!0,olympic:!0,omit:!0,once:!0,one:!0,onion:!0,online:!0,only:!0,open:!0,opera:!0,opinion:!0,oppose:!0,option:!0,orange:!0,orbit:!0,orchard:!0,order:!0,ordinary:!0,organ:!0,orient:!0,original:!0,orphan:!0,ostrich:!0,other:!0,outdoor:!0,outer:!0,output:!0,outside:!0,oval:!0,oven:!0,over:!0,own:!0,owner:!0,oxygen:!0,oyster:!0,ozone:!0,pact:!0,paddle:!0,page:!0,pair:!0,palace:!0,palm:!0,panda:!0,panel:!0,panic:!0,panther:!0,paper:!0,parade:!0,parent:!0,park:!0,parrot:!0,party:!0,pass:!0,patch:!0,path:!0,patient:!0,patrol:!0,pattern:!0,pause:!0,pave:!0,payment:!0,peace:!0,peanut:!0,pear:!0,peasant:!0,pelican:!0,pen:!0,penalty:!0,pencil:!0,people:!0,pepper:!0,perfect:!0,permit:!0,person:!0,pet:!0,phone:!0,photo:!0,phrase:!0,physical:!0,piano:!0,picnic:!0,picture:!0,piece:!0,pig:!0,pigeon:!0,pill:!0,pilot:!0,pink:!0,pioneer:!0,pipe:!0,pistol:!0,pitch:!0,pizza:!0,place:!0,planet:!0,plastic:!0,plate:!0,play:!0,please:!0,pledge:!0,pluck:!0,plug:!0,plunge:!0,poem:!0,poet:!0,point:!0,polar:!0,pole:!0,police:!0,pond:!0,pony:!0,pool:!0,popular:!0,portion:!0,position:!0,possible:!0,post:!0,potato:!0,pottery:!0,poverty:!0,powder:!0,power:!0,practice:!0,praise:!0,predict:!0,prefer:!0,prepare:!0,present:!0,pretty:!0,prevent:!0,price:!0,pride:!0,primary:!0,print:!0,priority:!0,prison:!0,private:!0,prize:!0,problem:!0,process:!0,produce:!0,profit:!0,program:!0,project:!0,promote:!0,proof:!0,property:!0,prosper:!0,protect:!0,proud:!0,provide:!0,public:!0,pudding:!0,pull:!0,pulp:!0,pulse:!0,pumpkin:!0,punch:!0,pupil:!0,puppy:!0,purchase:!0,purity:!0,purpose:!0,purse:!0,push:!0,put:!0,puzzle:!0,pyramid:!0,quality:!0,quantum:!0,quarter:!0,question:!0,quick:!0,quit:!0,quiz:!0,quote:!0,rabbit:!0,raccoon:!0,race:!0,rack:!0,radar:!0,radio:!0,rail:!0,rain:!0,raise:!0,rally:!0,ramp:!0,ranch:!0,random:!0,range:!0,rapid:!0,rare:!0,rate:!0,rather:!0,raven:!0,raw:!0,razor:!0,ready:!0,real:!0,reason:!0,rebel:!0,rebuild:!0,recall:!0,receive:!0,recipe:!0,record:!0,recycle:!0,reduce:!0,reflect:!0,reform:!0,refuse:!0,region:!0,regret:!0,regular:!0,reject:!0,relax:!0,release:!0,relief:!0,rely:!0,remain:!0,remember:!0,remind:!0,remove:!0,render:!0,renew:!0,rent:!0,reopen:!0,repair:!0,repeat:!0,replace:!0,report:!0,require:!0,rescue:!0,resemble:!0,resist:!0,resource:!0,response:!0,result:!0,retire:!0,retreat:!0,return:!0,reunion:!0,reveal:!0,review:!0,reward:!0,rhythm:!0,rib:!0,ribbon:!0,rice:!0,rich:!0,ride:!0,ridge:!0,rifle:!0,right:!0,rigid:!0,ring:!0,riot:!0,ripple:!0,risk:!0,ritual:!0,rival:!0,river:!0,road:!0,roast:!0,robot:!0,robust:!0,rocket:!0,romance:!0,roof:!0,rookie:!0,room:!0,rose:!0,rotate:!0,rough:!0,round:!0,route:!0,royal:!0,rubber:!0,rude:!0,rug:!0,rule:!0,run:!0,runway:!0,rural:!0,sad:!0,saddle:!0,sadness:!0,safe:!0,sail:!0,salad:!0,salmon:!0,salon:!0,salt:!0,salute:!0,same:!0,sample:!0,sand:!0,satisfy:!0,satoshi:!0,sauce:!0,sausage:!0,save:!0,say:!0,scale:!0,scan:!0,scare:!0,scatter:!0,scene:!0,scheme:!0,school:!0,science:!0,scissors:!0,scorpion:!0,scout:!0,scrap:!0,screen:!0,script:!0,scrub:!0,sea:!0,search:!0,season:!0,seat:!0,second:!0,secret:!0,section:!0,security:!0,seed:!0,seek:!0,segment:!0,select:!0,sell:!0,seminar:!0,senior:!0,sense:!0,sentence:!0,series:!0,service:!0,session:!0,settle:!0,setup:!0,seven:!0,shadow:!0,shaft:!0,shallow:!0,share:!0,shed:!0,shell:!0,sheriff:!0,shield:!0,shift:!0,shine:!0,ship:!0,shiver:!0,shock:!0,shoe:!0,shoot:!0,shop:!0,short:!0,shoulder:!0,shove:!0,shrimp:!0,shrug:!0,shuffle:!0,shy:!0,sibling:!0,sick:!0,side:!0,siege:!0,sight:!0,sign:!0,silent:!0,silk:!0,silly:!0,silver:!0,similar:!0,simple:!0,since:!0,sing:!0,siren:!0,sister:!0,situate:!0,six:!0,size:!0,skate:!0,sketch:!0,ski:!0,skill:!0,skin:!0,skirt:!0,skull:!0,slab:!0,slam:!0,sleep:!0,slender:!0,slice:!0,slide:!0,slight:!0,slim:!0,slogan:!0,slot:!0,slow:!0,slush:!0,small:!0,smart:!0,smile:!0,smoke:!0,smooth:!0,snack:!0,snake:!0,snap:!0,sniff:!0,snow:!0,soap:!0,soccer:!0,social:!0,sock:!0,soda:!0,soft:!0,solar:!0,soldier:!0,solid:!0,solution:!0,solve:!0,someone:!0,song:!0,soon:!0,sorry:!0,sort:!0,soul:!0,sound:!0,soup:!0,source:!0,south:!0,space:!0,spare:!0,spatial:!0,spawn:!0,speak:!0,special:!0,speed:!0,spell:!0,spend:!0,sphere:!0,spice:!0,spider:!0,spike:!0,spin:!0,spirit:!0,split:!0,spoil:!0,sponsor:!0,spoon:!0,sport:!0,spot:!0,spray:!0,spread:!0,spring:!0,spy:!0,square:!0,squeeze:!0,squirrel:!0,stable:!0,stadium:!0,staff:!0,stage:!0,stairs:!0,stamp:!0,stand:!0,start:!0,state:!0,stay:!0,steak:!0,steel:!0,stem:!0,step:!0,stereo:!0,stick:!0,still:!0,sting:!0,stock:!0,stomach:!0,stone:!0,stool:!0,story:!0,stove:!0,strategy:!0,street:!0,strike:!0,strong:!0,struggle:!0,student:!0,stuff:!0,stumble:!0,style:!0,subject:!0,submit:!0,subway:!0,success:!0,such:!0,sudden:!0,suffer:!0,sugar:!0,suggest:!0,suit:!0,summer:!0,sun:!0,sunny:!0,sunset:!0,super:!0,supply:!0,supreme:!0,sure:!0,surface:!0,surge:!0,surprise:!0,surround:!0,survey:!0,suspect:!0,sustain:!0,swallow:!0,swamp:!0,swap:!0,swarm:!0,swear:!0,sweet:!0,swift:!0,swim:!0,swing:!0,switch:!0,sword:!0,symbol:!0,symptom:!0,syrup:!0,system:!0,table:!0,tackle:!0,tag:!0,tail:!0,talent:!0,talk:!0,tank:!0,tape:!0,target:!0,task:!0,taste:!0,tattoo:!0,taxi:!0,teach:!0,team:!0,tell:!0,ten:!0,tenant:!0,tennis:!0,tent:!0,term:!0,test:!0,text:!0,thank:!0,that:!0,theme:!0,then:!0,theory:!0,there:!0,they:!0,thing:!0,this:!0,thought:!0,three:!0,thrive:!0,throw:!0,thumb:!0,thunder:!0,ticket:!0,tide:!0,tiger:!0,tilt:!0,timber:!0,time:!0,tiny:!0,tip:!0,tired:!0,tissue:!0,title:!0,toast:!0,tobacco:!0,today:!0,toddler:!0,toe:!0,together:!0,toilet:!0,token:!0,tomato:!0,tomorrow:!0,tone:!0,tongue:!0,tonight:!0,tool:!0,tooth:!0,top:!0,topic:!0,topple:!0,torch:!0,tornado:!0,tortoise:!0,toss:!0,total:!0,tourist:!0,toward:!0,tower:!0,town:!0,toy:!0,track:!0,trade:!0,traffic:!0,tragic:!0,train:!0,transfer:!0,trap:!0,trash:!0,travel:!0,tray:!0,treat:!0,tree:!0,trend:!0,trial:!0,tribe:!0,trick:!0,trigger:!0,trim:!0,trip:!0,trophy:!0,trouble:!0,truck:!0,true:!0,truly:!0,trumpet:!0,trust:!0,truth:!0,try:!0,tube:!0,tuition:!0,tumble:!0,tuna:!0,tunnel:!0,turkey:!0,turn:!0,turtle:!0,twelve:!0,twenty:!0,twice:!0,twin:!0,twist:!0,two:!0,type:!0,typical:!0,ugly:!0,umbrella:!0,unable:!0,unaware:!0,uncle:!0,uncover:!0,under:!0,undo:!0,unfair:!0,unfold:!0,unhappy:!0,uniform:!0,unique:!0,unit:!0,universe:!0,unknown:!0,unlock:!0,until:!0,unusual:!0,unveil:!0,update:!0,upgrade:!0,uphold:!0,upon:!0,upper:!0,upset:!0,urban:!0,urge:!0,usage:!0,use:!0,used:!0,useful:!0,useless:!0,usual:!0,utility:!0,vacant:!0,vacuum:!0,vague:!0,valid:!0,valley:!0,valve:!0,van:!0,vanish:!0,vapor:!0,various:!0,vast:!0,vault:!0,vehicle:!0,velvet:!0,vendor:!0,venture:!0,venue:!0,verb:!0,verify:!0,version:!0,very:!0,vessel:!0,veteran:!0,viable:!0,vibrant:!0,vicious:!0,victory:!0,video:!0,view:!0,village:!0,vintage:!0,violin:!0,virtual:!0,virus:!0,visa:!0,visit:!0,visual:!0,vital:!0,vivid:!0,vocal:!0,voice:!0,void:!0,volcano:!0,volume:!0,vote:!0,voyage:!0,wage:!0,wagon:!0,wait:!0,walk:!0,wall:!0,walnut:!0,want:!0,warfare:!0,warm:!0,warrior:!0,wash:!0,wasp:!0,waste:!0,water:!0,wave:!0,way:!0,wealth:!0,weapon:!0,wear:!0,weasel:!0,weather:!0,web:!0,wedding:!0,weekend:!0,weird:!0,welcome:!0,west:!0,wet:!0,whale:!0,what:!0,wheat:!0,wheel:!0,when:!0,where:!0,whip:!0,whisper:!0,wide:!0,width:!0,wife:!0,wild:!0,will:!0,win:!0,window:!0,wine:!0,wing:!0,wink:!0,winner:!0,winter:!0,wire:!0,wisdom:!0,wise:!0,wish:!0,witness:!0,wolf:!0,woman:!0,wonder:!0,wood:!0,wool:!0,word:!0,work:!0,world:!0,worry:!0,worth:!0,wrap:!0,wreck:!0,wrestle:!0,wrist:!0,write:!0,wrong:!0,yard:!0,year:!0,yellow:!0,you:!0,young:!0,youth:!0,zebra:!0,zero:!0,zone:!0,zoo:!0}},1666:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useFeeConfig=t.FeeConfig=void 0;const n=r(1417),s=r(419),o=r(7),a=r(32),c=r(252),u=r(0),d=r(626);class h extends s.TxChainSetter{constructor(e,t,r,i,n,s,u=!0,d=!1){super(e,r),this.queriesStore=t,this.amountConfig=n,this.gasConfig=s,this._autoFeeCoinMinimalDenom=void 0,this._feeType=void 0,this._manualFee=void 0,this.additionAmountToNeedFee=!0,this.computeTerraClassicTax=!1,this._disableBalanceCheck=!1,this.getFeeTypePretty=c.computedFn(e=>{if(this._manualFee)throw new Error("Can't calculate fee from fee type. Because fee config uses the manual fee now");if(!this.feeCurrency)throw new Error("Fee currency not set");const t=this.getFeeTypePrimitive(this.feeCurrency,e),r=this.feeCurrency;return new a.CoinPretty(r,new a.Int(t.amount)).maxDecimals(r.coinDecimals)}),this.getFeeTypePrettyForFeeCurrency=c.computedFn((e,t)=>{if(this._manualFee)throw new Error("Can't calculate fee from fee type. Because fee config uses the manual fee now");const r=this.getFeeTypePrimitive(e,t);return new a.CoinPretty(e,new a.Int(r.amount)).maxDecimals(e.coinDecimals)}),this._sender=i,this.additionAmountToNeedFee=u,this.computeTerraClassicTax=d,o.makeObservable(this)}setAdditionAmountToNeedFee(e){this.additionAmountToNeedFee=e}setComputeTerraClassicTax(e){this.computeTerraClassicTax=e}get sender(){return this._sender}setSender(e){this._sender=e}setFeeType(e){this._feeType=e,this._manualFee=void 0}setAutoFeeCoinMinimalDenom(e){this._autoFeeCoinMinimalDenom=e}get isManual(){return void 0===this.feeType}get feeType(){return this._feeType}setManualFee(e){this._manualFee=e,this._feeType=void 0}get feeCurrencies(){if(this.computeTerraClassicTax&&this.chainInfo.features&&this.chainInfo.features.includes("terra-classic-fee")){const e=this.chainInfo.feeCurrencies.find(e=>e.coinMinimalDenom===this.amountConfig.sendCurrency.coinMinimalDenom);if(e)return[e]}if(this.canOsmosisTxFeesAndReady()){const e=this.queriesStore.get(this.chainId).osmosis;if(e){const t=e.queryTxFeesFeeTokens,r={};return this.chainInfo.feeCurrencies.concat(t.feeCurrencies).filter(e=>!r[e.coinMinimalDenom]&&(r[e.coinMinimalDenom]=!0,!0)).sort((t,r)=>{if(t.coinMinimalDenom===e.queryTxFeesBaseDenom.baseDenom)return-1;if(r.coinMinimalDenom===e.queryTxFeesBaseDenom.baseDenom)return 1;const i=t.coinMinimalDenom.startsWith("ibc/"),n=r.coinMinimalDenom.startsWith("ibc/");return i&&!n?1:!i&&n||t.coinMinimalDenom<r.coinMinimalDenom?-1:1})}}const e=[];for(const t of this.chainInfo.feeCurrencies){const r=this.chainInfo.findCurrency(t.coinMinimalDenom);r&&e.push(Object.assign(Object.assign({},t),r))}return e}get feeCurrency(){if(this._manualFee){for(const e of this.feeCurrencies)if(e.coinMinimalDenom===this._manualFee.denom)return e;return{coinMinimalDenom:this._manualFee.denom,coinDenom:this._manualFee.denom,coinDecimals:0}}if(this._autoFeeCoinMinimalDenom)for(const e of this.feeCurrencies)if(e.coinMinimalDenom===this._autoFeeCoinMinimalDenom)return e;return this.feeCurrencies[0]}toStdFee(){const e=this.getFeePrimitive();return e?{gas:this.gasConfig.gas.toString(),amount:[e]}:{gas:this.gasConfig.gas.toString(),amount:[]}}get fee(){if(!this.feeCurrency)return;const e=this.getFeePrimitive();return e?new a.CoinPretty(this.feeCurrency,new a.Int(e.amount)):void 0}getFeePrimitive(){if(this.feeCurrency)return this._manualFee?this._manualFee:this.feeType?this.getFeeTypePrimitive(this.feeCurrency,this.feeType):void 0}canOsmosisTxFeesAndReady(){if(this.chainInfo.features&&this.chainInfo.features.includes("osmosis-txfees")){if(!this.queriesStore.get(this.chainId).osmosis)return console.log("Chain has osmosis-txfees feature. But no osmosis queries provided."),!1;const e=this.queriesStore.get(this.chainId).osmosis.queryTxFeesBaseDenom;if(e.baseDenom&&this.chainInfo.feeCurrencies.find(t=>t.coinMinimalDenom===e.baseDenom))return!0}return!1}getFeeTypePrimitive(e,t){var r,i,s,o,c,u,d;if(this._manualFee)throw new Error("Can't calculate fee from fee type. Because fee config uses the manual fee now");if(this.chainInfo.features&&this.chainInfo.features.includes("osmosis-txfees")&&this.queriesStore.get(this.chainId).osmosis&&(null===(r=this.queriesStore.get(this.chainId).osmosis)||void 0===r?void 0:r.queryTxFeesFeeTokens.isTxFeeToken(e.coinMinimalDenom))){const r=null!==(i=this.feeCurrencies[0].gasPriceStep)&&void 0!==i?i:n.DefaultGasPriceStep;let s=new a.Dec(r[t].toString()).mul(new a.Dec(this.gasConfig.gas));const o=this.queriesStore.get(this.chainId).osmosis.queryTxFeesSpotPriceByDenom.getQueryDenom(e.coinMinimalDenom).spotPriceDec;return s=o.gt(new a.Dec(0))?s.quo(o).mul(new a.Dec(1.01)):new a.Dec(1),{denom:e.coinMinimalDenom,amount:s.roundUp().toString()}}const h=null!==(s=this.chainInfo.raw)&&void 0!==s?s:{},l=null!==(u=null!==(c=null===(o=this.feeCurrency)||void 0===o?void 0:o.gasPriceStep)&&void 0!==c?c:h.gasPriceStep)&&void 0!==u?u:n.DefaultGasPriceStep;let p=new a.Dec(l[t].toString()).mul(new a.Dec(this.gasConfig.gas));if(this.computeTerraClassicTax&&this.chainInfo.features&&this.chainInfo.features.includes("terra-classic-fee")){const e=this.queriesStore.get(this.chainId).keplrETC;if(e&&e.queryTerraClassicTaxRate.response&&e.queryTerraClassicTaxCaps.response){const t=e.queryTerraClassicTaxRate.taxRate;if(t&&t.toDec().gt(new a.Dec(0))){const r=this.amountConfig.getAmountPrimitive();if(r.denom===(null===(d=this.feeCurrency)||void 0===d?void 0:d.coinMinimalDenom)){let i=new a.Dec(r.amount).mul(t.toDec());const n=e.queryTerraClassicTaxCaps.getTaxCaps(r.denom);n&&i.roundUp().gt(n)&&(i=n.toDec()),p=p.add(i)}}}}return{denom:e.coinMinimalDenom,amount:p.roundUp().toString()}}get error(){var e;if(this.gasConfig.error)return this.gasConfig.error;if(this.disableBalanceCheck)return;const t=this.getFeePrimitive();if(!t)return;if(this.feeCurrency&&this.chainInfo.features&&this.chainInfo.features.includes("osmosis-txfees")&&this.queriesStore.get(this.chainId).osmosis&&(null===(e=this.queriesStore.get(this.chainId).osmosis)||void 0===e?void 0:e.queryTxFeesFeeTokens.isTxFeeToken(this.feeCurrency.coinMinimalDenom))){const e=this.queriesStore.get(this.chainId).osmosis.queryTxFeesSpotPriceByDenom.getQueryDenom(this.feeCurrency.coinMinimalDenom);if(e.isFetching)return new d.NotLoadedFeeError(`spot price of ${this.feeCurrency.coinMinimalDenom} is loading`);if(e.error)return new Error("Failed to fetch spot price")}const r=this.amountConfig.getAmountPrimitive();let i;if(i=this.additionAmountToNeedFee&&t&&t.denom===r.denom?new a.Coin(t.denom,new a.Int(t.amount).add(new a.Int(r.amount))):new a.Coin(t.denom,new a.Int(t.amount)),i.amount.gt(new a.Int(0))){const e=this.queriesStore.get(this.chainId).queryBalances.getQueryBech32Address(this._sender).balances.find(e=>e.currency.coinMinimalDenom===i.denom);if(!e)return new d.InsufficientFeeError("insufficient fee");if(!e.response&&!e.error)return new d.NotLoadedFeeError(e.currency.coinDenom+" is not loaded yet");if(e.balance.toDec().mul(a.DecUtils.getPrecisionDec(e.currency.coinDecimals)).truncate().lt(i.amount))return new d.InsufficientFeeError("insufficient fee")}}setDisableBalanceCheck(e){this._disableBalanceCheck=e}get disableBalanceCheck(){return this._disableBalanceCheck}}i([o.observable],h.prototype,"_sender",void 0),i([o.observable],h.prototype,"_autoFeeCoinMinimalDenom",void 0),i([o.observable],h.prototype,"_feeType",void 0),i([o.observable],h.prototype,"_manualFee",void 0),i([o.observable],h.prototype,"additionAmountToNeedFee",void 0),i([o.observable],h.prototype,"computeTerraClassicTax",void 0),i([o.observable],h.prototype,"_disableBalanceCheck",void 0),i([o.action],h.prototype,"setAdditionAmountToNeedFee",null),i([o.action],h.prototype,"setComputeTerraClassicTax",null),i([o.action],h.prototype,"setSender",null),i([o.action],h.prototype,"setFeeType",null),i([o.action],h.prototype,"setAutoFeeCoinMinimalDenom",null),i([o.action],h.prototype,"setManualFee",null),i([o.computed],h.prototype,"feeCurrencies",null),i([o.computed],h.prototype,"feeCurrency",null),i([o.computed],h.prototype,"fee",null),i([o.computed],h.prototype,"error",null),i([o.action],h.prototype,"setDisableBalanceCheck",null),t.FeeConfig=h;t.useFeeConfig=(e,t,r,i,n,s,o={})=>{var a,c;const[d]=u.useState(()=>{var a,c;return new h(e,t,r,i,n,s,null===(a=o.additionAmountToNeedFee)||void 0===a||a,null!==(c=o.computeTerraClassicTax)&&void 0!==c&&c)});return d.setChain(r),d.setSender(i),d.setAdditionAmountToNeedFee(null===(a=o.additionAmountToNeedFee)||void 0===a||a),d.setComputeTerraClassicTax(null!==(c=o.computeTerraClassicTax)&&void 0!==c&&c),d}},1667:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useRecipientConfig=t.RecipientConfig=void 0;const n=r(419),s=r(7),o=r(626),a=r(8),c=r(0),u=r(370),d=r(2),h=r(29);class l extends n.TxChainSetter{constructor(e,t){super(e,t),this._rawRecipient="",this._allowHexAddressOnEthermint=void 0,this._bech32Prefix=void 0,this._icns=void 0,this._icnsFetchDataMap=new Map,s.makeObservable(this)}get bech32Prefix(){return this._bech32Prefix?this._bech32Prefix:this.chainInfo.bech32Config.bech32PrefixAccAddr}setBech32Prefix(e){this._bech32Prefix=e}getICNSFetchData(e){if(!this._icns)throw new Error("ICNS is not set");if(!this.chainGetter.hasChain(this._icns.chainId))throw new Error("Can't find chain: "+this._icns.chainId);const t=`${a.ChainIdHelper.parse(this._icns.chainId).identifier}/${this._icns.resolverContractAddress}/${e}`;if(!this._icnsFetchDataMap.has(t)){s.runInAction(()=>{this._icnsFetchDataMap.set(t,{isFetching:!0})});const r=this.chainGetter.getChain(this._icns.chainId),i=JSON.stringify({address_by_icns:{icns:e}});fetch(new URL(`/cosmwasm/wasm/v1/contract/${this._icns.resolverContractAddress}/smart/${d.Buffer.from(i).toString("base64")}`,r.rest).toString()).then(e=>{if(e.ok)e.json().then(e=>{s.runInAction(()=>{this._icnsFetchDataMap.set(t,{isFetching:!1,bech32Address:e.data.bech32_address})})});else{const e=new Error("Failed to fetch");s.runInAction(()=>{this._icnsFetchDataMap.set(t,{isFetching:!1,error:e})})}})}return this._icnsFetchDataMap.get(t)}setICNS(e){this._icns=e}get isICNSEnabled(){return!!this._icns}get isICNSName(){const e=this.rawRecipient.trim();return!!this._icns&&h.validateICNSName(e,this.bech32Prefix)}get isICNSFetching(){if(!this.isICNSName)return!1;const e=this.rawRecipient.trim();return this.getICNSFetchData(e).isFetching}get icnsExpectedBech32Prefix(){return this.bech32Prefix}get recipient(){var e;const t=this.rawRecipient.trim();if(this.isICNSName)try{return this.getICNSFetchData(t).bech32Address||""}catch(e){return""}if(this._allowHexAddressOnEthermint){if((null===(e=this.chainInfo.features)||void 0===e?void 0:e.includes("eth-address-gen"))&&t.startsWith("0x")){try{if(u.isAddress(t)){const e=d.Buffer.from(t.replace("0x","").toLowerCase(),"hex");return new a.Bech32Address(e).toBech32(this.bech32Prefix)}}catch(e){return""}return""}}return t}setAllowHexAddressOnEthermint(e){this._allowHexAddressOnEthermint=e}get error(){var e;const t=this.rawRecipient.trim();if(!t)return new o.EmptyAddressError("Address is empty");if(this.isICNSName)try{const e=this.getICNSFetchData(t);if(e.isFetching)return new o.ICNSIsFetchingError("ICNS is fetching");if(!e.bech32Address)return new o.ICNSFailedToFetchError("Failed to fetch the address from ICNS")}catch(e){return e}if(this._allowHexAddressOnEthermint){if((null===(e=this.chainInfo.features)||void 0===e?void 0:e.includes("eth-address-gen"))&&t.startsWith("0x")){try{if(u.isAddress(t))return}catch(e){return e}return new o.InvalidHexError("Invalid hex address for chain")}}try{a.Bech32Address.validate(this.recipient,this.bech32Prefix)}catch(e){return new o.InvalidBech32Error("Invalid bech32: "+(e.message||e.toString()))}}get rawRecipient(){return this._rawRecipient}setRawRecipient(e){this._rawRecipient=e}}i([s.observable],l.prototype,"_rawRecipient",void 0),i([s.observable],l.prototype,"_allowHexAddressOnEthermint",void 0),i([s.observable],l.prototype,"_bech32Prefix",void 0),i([s.observable.struct],l.prototype,"_icns",void 0),i([s.observable.shallow],l.prototype,"_icnsFetchDataMap",void 0),i([s.computed],l.prototype,"bech32Prefix",null),i([s.action],l.prototype,"setBech32Prefix",null),i([s.action],l.prototype,"setICNS",null),i([s.computed],l.prototype,"isICNSName",null),i([s.computed],l.prototype,"isICNSFetching",null),i([s.action],l.prototype,"setAllowHexAddressOnEthermint",null),i([s.computed],l.prototype,"error",null),i([s.action],l.prototype,"setRawRecipient",null),t.RecipientConfig=l;t.useRecipientConfig=(e,t,r={})=>{const[i]=c.useState(()=>new l(e,t));return i.setChain(t),i.setAllowHexAddressOnEthermint(r.allowHexAddressOnEthermint),i.setICNS(r.icns),i}},1668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSendTxConfig=void 0;const i=r(379),n=r(1420),s=r(1419);t.useSendTxConfig=(e,t,r,o,a,c={})=>{const u=s.useAmountConfig(e,t,o,a),d=i.useMemoConfig(e,o),h=n.useSendGasConfig(e,r,o,u),l=i.useFeeConfig(e,t,o,a,u,h,{computeTerraClassicTax:c.computeTerraClassicTax});u.setFeeConfig(l);return{amountConfig:u,memoConfig:d,gasConfig:h,feeConfig:l,recipientConfig:i.useRecipientConfig(e,o,c)}}},1669:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useDelegateTxConfig=t.useDelegateGasConfig=t.useDelegateAmountConfig=t.DelegateGasConfig=t.DelegateAmountConfig=void 0;const n=r(379),s=r(0),o=r(7);class a extends n.AmountConfig{get sendableCurrencies(){return[this.chainInfo.stakeCurrency]}}t.DelegateAmountConfig=a;class c extends n.GasConfig{constructor(e,t,r){super(e,r),this.accountStore=t,o.makeObservable(this)}get gas(){return null==this._gasRaw?this.accountStore.getAccount(this.chainId).cosmos.msgOpts.delegate.gas:super.gas}}i([o.override],c.prototype,"gas",null),t.DelegateGasConfig=c;t.useDelegateAmountConfig=(e,t,r,i)=>{const[n]=s.useState(()=>new a(e,t,r,i,void 0));return n.setChain(r),n.setSender(i),n};t.useDelegateGasConfig=(e,t,r)=>{const[i]=s.useState(()=>new c(e,t,r));return i.setChain(r),i};t.useDelegateTxConfig=(e,r,i,s,o)=>{const a=t.useDelegateAmountConfig(e,r,s,o),c=n.useMemoConfig(e,s),u=t.useDelegateGasConfig(e,i,s),d=n.useFeeConfig(e,r,s,o,a,u);a.setFeeConfig(d);const h=n.useRecipientConfig(e,s);return h.setBech32Prefix(e.getChain(s).bech32Config.bech32PrefixValAddr),{amountConfig:a,memoConfig:c,gasConfig:u,feeConfig:d,recipientConfig:h}}},1670:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useUndelegateTxConfig=t.useUndelegateGasConfig=t.UndelegateGasConfig=void 0;const n=r(379),s=r(1421),o=r(7),a=r(0);class c extends n.GasConfig{constructor(e,t,r){super(e,r),this.accountStore=t,o.makeObservable(this)}get gas(){return null==this._gasRaw?this.accountStore.getAccount(this.chainId).cosmos.msgOpts.undelegate.gas:super.gas}}i([o.override],c.prototype,"gas",null),t.UndelegateGasConfig=c;t.useUndelegateGasConfig=(e,t,r)=>{const[i]=a.useState(()=>new c(e,t,r));return i.setChain(r),i};t.useUndelegateTxConfig=(e,r,i,o,a,c)=>{const u=s.useStakedAmountConfig(e,r,o,a,c),d=n.useMemoConfig(e,o),h=t.useUndelegateGasConfig(e,i,o),l=n.useFeeConfig(e,r,o,a,u,h,{additionAmountToNeedFee:!1}),p=n.useRecipientConfig(e,o);return p.setBech32Prefix(e.getChain(o).bech32Config.bech32PrefixValAddr),{amountConfig:u,memoConfig:d,gasConfig:h,feeConfig:l,recipientConfig:p}}},1671:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useRedelegateTxConfig=t.useRedelegateGasConfig=t.RedelegateGasConfig=void 0;const n=r(379),s=r(1421),o=r(7),a=r(0);class c extends n.GasConfig{constructor(e,t,r){super(e,r),this.accountStore=t,o.makeObservable(this)}get gas(){return null==this._gasRaw?this.accountStore.getAccount(this.chainId).cosmos.msgOpts.redelegate.gas:super.gas}}i([o.override],c.prototype,"gas",null),t.RedelegateGasConfig=c;t.useRedelegateGasConfig=(e,t,r)=>{const[i]=a.useState(()=>new c(e,t,r));return i.setChain(r),i};t.useRedelegateTxConfig=(e,r,i,o,a,c)=>{const u=s.useStakedAmountConfig(e,r,o,a,c),d=n.useMemoConfig(e,o),h=t.useRedelegateGasConfig(e,i,o),l=n.useFeeConfig(e,r,o,a,u,h,{additionAmountToNeedFee:!1}),p=n.useRecipientConfig(e,o);return p.setBech32Prefix(e.getChain(o).bech32Config.bech32PrefixValAddr),{amountConfig:u,memoConfig:d,gasConfig:h,feeConfig:l,recipientConfig:p,srcValidatorAddress:c,dstValidatorAddress:p.recipient}}},1672:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGasSimulator=t.GasSimulator=void 0;const s=r(7),o=r(0),a=r(8),c=r(419),u=n(r(62));class d{constructor(){this._outdatedCosmosSdk=!1,this._initialGasEstimated=null,this._recentGasEstimated=void 0,this._tx=void 0,this._stdFee=void 0,s.makeObservable(this)}get outdatedCosmosSdk(){return this._outdatedCosmosSdk}setOutdatedCosmosSdk(e){this._outdatedCosmosSdk=e}get initialGasEstimated(){return this._initialGasEstimated}setInitialGasEstimated(e){this._initialGasEstimated=e}get recentGasEstimated(){return this._recentGasEstimated}setRecentGasEstimated(e){this._recentGasEstimated=e}get tx(){return this._tx}refreshTx(e){this._tx=e}get stdFee(){return this._stdFee}refreshStdFee(e){this._stdFee=e}static isZeroFee(e){if(!e)return!0;for(const t of e)if("0"!==t.amount)return!1;return!0}}i([s.observable],d.prototype,"_outdatedCosmosSdk",void 0),i([s.observable],d.prototype,"_initialGasEstimated",void 0),i([s.observable],d.prototype,"_recentGasEstimated",void 0),i([s.observable.ref],d.prototype,"_tx",void 0),i([s.observable.ref],d.prototype,"_stdFee",void 0),i([s.action],d.prototype,"setOutdatedCosmosSdk",null),i([s.action],d.prototype,"setInitialGasEstimated",null),i([s.action],d.prototype,"setRecentGasEstimated",null),i([s.action],d.prototype,"refreshTx",null),i([s.action],d.prototype,"refreshStdFee",null);class h extends c.TxChainSetter{constructor(e,t,r,i,n,o,a){super(t,r),this.kvStore=e,this.gasConfig=i,this.feeConfig=n,this.initialKey=o,this.simulateGasFn=a,this._gasAdjustmentRaw="1.3",this._enabled=!1,this._forceDisabled=!1,this._forceDisableReason=void 0,this._isSimulating=!1,this._stateMap=new Map,this._disposers=[],this._chainId=r,this._key=o,s.makeObservable(this),this.init()}setKVStore(e){this.kvStore=e}get key(){return this._key}setKey(e){this._key=e}get isSimulating(){return this._isSimulating}setSimulateGasFn(e){this.simulateGasFn=e}get enabled(){return!this._forceDisabled&&this._enabled}setEnabled(e){this._forceDisabled&&e?console.log("Gas simulator is disabled by force. You can not enable the gas simulator"):this._enabled=e}get forceDisabled(){return this._forceDisabled}get forceDisableReason(){return this._forceDisableReason}forceDisable(e){e?(this.enabled&&this.setEnabled(!1),this._forceDisabled=!0,"boolean"!=typeof e&&(this._forceDisableReason=e)):(this._forceDisabled=!1,this._forceDisableReason=void 0)}get outdatedCosmosSdk(){const e=this.storeKey;return this.getState(e).outdatedCosmosSdk}get gasEstimated(){const e=this.storeKey,t=this.getState(e);return null!=t.recentGasEstimated?t.recentGasEstimated:null!=t.initialGasEstimated?t.initialGasEstimated:void 0}get gasAdjustment(){if(""===this._gasAdjustmentRaw)return 0;const e=parseFloat(this._gasAdjustmentRaw);return Number.isNaN(e)||e<0?0:e}get gasAdjustmentRaw(){return this._gasAdjustmentRaw}setGasAdjustment(e){if("number"==typeof e){if(e<0||e>2)return;return void(this._gasAdjustmentRaw=e.toString())}if(""===e)return void(this._gasAdjustmentRaw="");e.startsWith(".")&&(this._gasAdjustmentRaw="0"+e);const t=parseFloat(e);Number.isNaN(t)||t<0||t>2||(this._gasAdjustmentRaw=e)}init(){this._disposers.push(s.autorun(()=>{if(!this.enabled)return;const e=this.storeKey,t=this.getState(e);this.kvStore.get(e).then(e=>{e&&t.setInitialGasEstimated(e)})})),this._disposers.push(s.autorun(()=>{if(this.enabled)try{const e=this.simulateGasFn(),t=this.storeKey;this.getState(t).refreshTx(e)}catch(e){return void console.log(e)}})),this._disposers.push(s.autorun(()=>{var e;if(!this.enabled)return;const t=this.feeConfig.toStdFee(),r=this.storeKey,i=this.getState(r);d.isZeroFee(null===(e=i.stdFee)||void 0===e?void 0:e.amount)!==d.isZeroFee(t.amount)&&i.refreshStdFee(t)})),this._disposers.push(s.autorun(()=>{const e=this.storeKey,t=this.getState(e);if(!t.tx)return;const r=t.tx.simulate(t.stdFee);s.runInAction(()=>{this._isSimulating=!0}),r.then(({gasUsed:r})=>{(!t.recentGasEstimated||Math.abs(t.recentGasEstimated-r)/t.recentGasEstimated>.02)&&t.setRecentGasEstimated(r),t.setOutdatedCosmosSdk(!1),this.kvStore.set(e,r).catch(e=>{console.log(e)})}).catch(e=>{var r;if(u.default.isAxiosError(e)&&e.response){const i=e.response;400===i.status&&(null===(r=i.data)||void 0===r?void 0:r.message)&&"string"==typeof i.data.message&&i.data.message.includes("invalid empty tx")&&t.setOutdatedCosmosSdk(!0)}console.log(e)}).finally(()=>{s.runInAction(()=>{this._isSimulating=!1})})})),this._disposers.push(s.autorun(()=>{this.enabled&&null!=this.gasEstimated&&this.gasConfig.setGas(this.gasEstimated*this.gasAdjustment)}))}dispose(){for(const e of this._disposers)e()}getState(e){return this._stateMap.has(e)||s.runInAction(()=>{this._stateMap.set(e,new d)}),this._stateMap.get(e)}get storeKey(){return`${a.ChainIdHelper.parse(this.chainId).identifier}/${this.key}`}}i([s.observable],h.prototype,"_key",void 0),i([s.observable],h.prototype,"_gasAdjustmentRaw",void 0),i([s.observable],h.prototype,"_enabled",void 0),i([s.observable],h.prototype,"_forceDisabled",void 0),i([s.observable],h.prototype,"_forceDisableReason",void 0),i([s.observable],h.prototype,"_isSimulating",void 0),i([s.observable.shallow],h.prototype,"_stateMap",void 0),i([s.action],h.prototype,"setKey",null),i([s.action],h.prototype,"setEnabled",null),i([s.action],h.prototype,"forceDisable",null),i([s.action],h.prototype,"setGasAdjustment",null),i([s.computed],h.prototype,"storeKey",null),t.GasSimulator=h;t.useGasSimulator=(e,t,r,i,n,s,a,c)=>{const[u]=o.useState(()=>{const o=new h(e,t,r,i,n,s,a);return c?o.setEnabled(!1):o.setEnabled(!0),o});return u.setKVStore(e),u.setChain(r),u.setKey(s),u.setSimulateGasFn(a),o.useEffect(()=>()=>{u.dispose()},[u]),u}},1673:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useRegisterConfig=t.RegisterConfig=void 0;const c=o(r(0)),u=r(7),d=r(60);class h{constructor(e,t,r){this.rng=r,this._isLoading=!1,this.options=[],this._type="",this._isFinalized=!1,this.keyRingStore=e,u.makeObservable(this);for(const e of t)this.addRegisterOption(e.type,e.intro,e.page)}get mode(){return 0===this.keyRingStore.multiKeyStoreInfo.length?"create":"add"}get isLoading(){return this._isLoading}get isFinalized(){return this._isFinalized}addRegisterOption(e,t,r){this.options.push({type:e,intro:t,page:r})}setType(e){this._type=e}get type(){return this._type}get isIntro(){return""===this._type}clear(){this.setType("")}*createMnemonic(e,t,r,i,n={}){this._isLoading=!0;try{"create"===this.mode?yield this.keyRingStore.createMnemonicKey(t,r,Object.assign({name:e},n),i):yield this.keyRingStore.addMnemonicKey(t,Object.assign({name:e},n),i),this._isFinalized=!0}finally{this._isLoading=!1}}*createKeystone(e,t,r){this._isLoading=!0;try{"create"===this.mode?yield this.keyRingStore.createKeystoneKey(t,{name:e},r):yield this.keyRingStore.addKeystoneKey({name:e},r),this._isFinalized=!0}finally{this._isLoading=!1}}*createLedger(e,t,r,i){this._isLoading=!0;try{"create"===this.mode?yield this.keyRingStore.createLedgerKey(t,{name:e},r,i):yield this.keyRingStore.addLedgerKey({name:e},r,i),this._isFinalized=!0}finally{this._isLoading=!1}}*createPrivateKey(e,t,r,i={}){this._isLoading=!0;try{"create"===this.mode?yield this.keyRingStore.createPrivateKey(t,r,Object.assign({name:e},i)):yield this.keyRingStore.addPrivateKey(t,Object.assign({name:e},i)),this._isFinalized=!0}finally{this._isLoading=!1}}generateMnemonic(e=128){return a(this,void 0,void 0,(function*(){return yield d.Mnemonic.generateSeed(this.rng,e)}))}render(){return c.default.createElement("div",null,this.isIntro?this.options.map(e=>c.default.createElement(c.default.Fragment,{key:e.type},c.default.createElement(e.intro,{registerConfig:this}))):this.isFinalized?null:this.options.map(e=>{if(e.type===this.type)return c.default.createElement(c.default.Fragment,{key:e.type},c.default.createElement(e.page,{registerConfig:this}))}))}}s([u.observable],h.prototype,"_isLoading",void 0),s([u.observable.shallow],h.prototype,"options",void 0),s([u.observable],h.prototype,"_type",void 0),s([u.observable],h.prototype,"_isFinalized",void 0),s([u.computed],h.prototype,"mode",null),s([u.action],h.prototype,"addRegisterOption",null),s([u.action],h.prototype,"setType",null),s([u.action],h.prototype,"clear",null),s([u.flow],h.prototype,"createMnemonic",null),s([u.flow],h.prototype,"createKeystone",null),s([u.flow],h.prototype,"createLedger",null),s([u.flow],h.prototype,"createPrivateKey",null),t.RegisterConfig=h;t.useRegisterConfig=(e,t,r=(e=>Promise.resolve(crypto.getRandomValues(e))))=>{const[i]=c.useState(()=>new h(e,t,r));return i}},1674:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useAddressBookConfig=t.AddressBookConfigMap=t.AddressBookConfig=void 0;const s=r(7),o=r(29),a=r(55),c=r(0);class u{constructor(e,t,r){this.kvStore=e,this.chainGetter=t,this.chainId=r,this._addressBookDatas=[],this._isLoaded=!1,s.makeObservable(this),this.loadAddressBookDatas()}get isLoaded(){return this._isLoaded}get addressBookDatas(){return this._addressBookDatas}setSelectHandler(e){this._selectHandler=e}selectAddressAt(e){const t=this.addressBookDatas[e];this._selectHandler&&(this._selectHandler.setRecipient(t.address),this._selectHandler.setMemo(t.memo))}*addAddressBook(e){yield this.loadAddressBookDatas(),this._addressBookDatas.push(e),yield this.saveAddressBookDatas()}*removeAddressBook(e){yield this.loadAddressBookDatas(),this._addressBookDatas.splice(e,1),yield this.saveAddressBookDatas()}*editAddressBookAt(e,t){yield this.loadAddressBookDatas(),this._addressBookDatas[e]=t,yield this.saveAddressBookDatas()}saveAddressBookDatas(){return n(this,void 0,void 0,(function*(){const e=this.chainGetter.getChain(this.chainId);yield this.kvStore.set(u.keyForChainInfo(e),s.toJS(this._addressBookDatas))}))}*loadAddressBookDatas(){const e=this.chainGetter.getChain(this.chainId),t=yield*o.toGenerator(this.kvStore.get(u.keyForChainInfo(e)));this._addressBookDatas=t||[],this._isLoaded=!0}waitLoaded(){return n(this,void 0,void 0,(function*(){if(!this._isLoaded)return new Promise(e=>{const t=s.autorun(()=>{this._isLoaded&&(e(),t&&t())})})}))}static keyForChainInfo(e){return""+e.chainName}}i([s.observable],u.prototype,"_addressBookDatas",void 0),i([s.observable],u.prototype,"_isLoaded",void 0),i([s.flow],u.prototype,"addAddressBook",null),i([s.flow],u.prototype,"removeAddressBook",null),i([s.flow],u.prototype,"editAddressBookAt",null),i([s.flow],u.prototype,"loadAddressBookDatas",null),t.AddressBookConfig=u;class d extends a.HasMapStore{constructor(e,t){super(r=>new u(e,t,r)),this.kvStore=e,this.chainGetter=t}getAddressBookConfig(e){return this.get(e)}}t.AddressBookConfigMap=d;t.useAddressBookConfig=(e,t,r,i)=>{const[n]=c.useState(()=>new d(e,t)),s=n.getAddressBookConfig(r);return s.setSelectHandler(i),s}},1767:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1768),t),n(r(1769),t)},1768:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useSignDocAmountConfig=t.SignDocAmountConfig=void 0;const n=r(379),s=r(7),o=r(32),a=r(0),c=r(252),u=r(8);class d extends n.TxChainSetter{constructor(e,t,r,i){super(e,r),this.accountStore=t,this.signDocHelper=void 0,this._disableBalanceCheck=!1,this.getAmountPrimitive=c.computedFn(()=>{var e;return this.disableBalanceCheck||!(null===(e=this.signDocHelper)||void 0===e?void 0:e.signDocWrapper)||0===this.chainInfo.feeCurrencies.length?{amount:"0",denom:this.sendCurrency.coinMinimalDenom}:"amino"===this.signDocHelper.signDocWrapper.mode?this.computeAmountInAminoMsgs(this.signDocHelper.signDocWrapper.aminoSignDoc.msgs):this.computeAmountInProtoMsgs(this.signDocHelper.signDocWrapper.protoSignDoc.txMsgs)}),this._sender=i,s.makeObservable(this)}setSignDocHelper(e){this.signDocHelper=e}get amount(){const e=this.getAmountPrimitive();return new o.CoinPretty(this.sendCurrency,new o.Int(e.amount)).toString()}get sendCurrency(){const e=this.chainInfo;return e.feeCurrencies.length>0?e.feeCurrencies[0]:e.currencies[0]}get sendableCurrencies(){return[this.sendCurrency]}setSender(e){this._sender=e}get sender(){return this._sender}computeAmountInAminoMsgs(e){const t=new o.Coin(this.sendCurrency.coinMinimalDenom,new o.Int(0)),r=this.accountStore.getAccount(this.chainId);for(const i of e)try{switch(i.type){case r.cosmos.msgOpts.send.native.type:if(i.value.from_address&&i.value.from_address!==this.sender)return{amount:"0",denom:this.sendCurrency.coinMinimalDenom};if(i.value.amount&&Array.isArray(i.value.amount))for(const e of i.value.amount)e.denom===t.denom&&(t.amount=t.amount.add(new o.Int(e.amount)));break;case r.cosmos.msgOpts.delegate.type:if(i.value.delegator_address&&i.value.delegator_address!==this.sender)return{amount:"0",denom:this.sendCurrency.coinMinimalDenom};i.value.amount&&i.value.amount.denom===t.denom&&(t.amount=t.amount.add(new o.Int(i.value.amount.amount)))}}catch(e){console.log("Error on the parsing the msg: "+(e.message||e.toString()))}return{amount:t.amount.toString(),denom:t.denom}}computeAmountInProtoMsgs(e){var t;const r=new o.Coin(this.sendCurrency.coinMinimalDenom,new o.Int(0));for(const i of e)try{if(!(i instanceof u.UnknownMessage)&&"unpacked"in i)switch(i.typeUrl){case"/cosmos.bank.v1beta1.MsgSend":{const e=i.unpacked;if(e.fromAddress&&e.fromAddress!==this.sender)return{amount:"0",denom:this.sendCurrency.coinMinimalDenom};for(const t of e.amount)t.denom===r.denom&&t.amount&&(r.amount=r.amount.add(new o.Int(t.amount)));break}case"/cosmos.staking.v1beta1.MsgDelegate":{const e=i.unpacked;if(e.delegatorAddress&&e.delegatorAddress!==this.sender)return{amount:"0",denom:this.sendCurrency.coinMinimalDenom};(null===(t=e.amount)||void 0===t?void 0:t.denom)===r.denom&&e.amount.amount&&(r.amount=r.amount.add(new o.Int(e.amount.amount)));break}}}catch(e){console.log("Error on the parsing the msg: "+(e.message||e.toString()))}return{amount:r.amount.toString(),denom:r.denom}}get error(){}setIsMax(e){}toggleIsMax(){}get isMax(){return!1}get fraction(){}setFraction(e){}setAmount(){}setSendCurrency(){}setDisableBalanceCheck(e){this._disableBalanceCheck=e}get disableBalanceCheck(){return this._disableBalanceCheck}}i([s.observable.ref],d.prototype,"signDocHelper",void 0),i([s.observable],d.prototype,"_sender",void 0),i([s.observable],d.prototype,"_disableBalanceCheck",void 0),i([s.action],d.prototype,"setSignDocHelper",null),i([s.computed],d.prototype,"amount",null),i([s.action],d.prototype,"setSender",null),i([s.action],d.prototype,"setDisableBalanceCheck",null),t.SignDocAmountConfig=d;t.useSignDocAmountConfig=(e,t,r,i)=>{const[n]=a.useState(()=>new d(e,t,r,i));return n.setChain(r),n.setSender(i),n}},1769:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.useSignDocHelper=t.SignDocHelper=void 0;const n=r(7),s=r(0),o=r(8),a=r(136),c=r(29);class u{constructor(e,t){this.feeConfig=e,this.memoConfig=t,this._signDocWrapper=void 0,n.makeObservable(this)}get signDocWrapper(){var e,t;if(!this._signDocWrapper)return;if(this._signDocWrapper.isADR36SignDoc)return this._signDocWrapper;const r=this.feeConfig.toStdFee();if("amino"===this._signDocWrapper.mode){const e=this._signDocWrapper.aminoSignDoc,t=Object.assign(Object.assign({},e),{fee:(()=>{const t=Object.assign({},r);return e.fee.feePayer&&(t.feePayer=e.fee.feePayer),e.fee.granter&&(t.granter=e.fee.granter),e.fee.payer&&(t.payer=e.fee.payer),t})(),memo:c.escapeHTML(this.memoConfig.memo)});return o.SignDocWrapper.fromAminoSignDoc(t)}const i=this._signDocWrapper.protoSignDoc,n=a.Fee.fromPartial({gasLimit:r.gas,amount:r.amount.map(e=>({amount:e.amount,denom:e.denom})),granter:null===(e=i.authInfo.fee)||void 0===e?void 0:e.granter,payer:null===(t=i.authInfo.fee)||void 0===t?void 0:t.payer}),s=Object.assign(Object.assign({},i.signDoc),{bodyBytes:a.TxBody.encode(Object.assign(Object.assign({},i.txBody),{memo:this.memoConfig.memo})).finish(),authInfoBytes:a.AuthInfo.encode(Object.assign(Object.assign({},i.authInfo),{fee:n})).finish()});return o.SignDocWrapper.fromDirectSignDoc(s)}get signDocJson(){if(this.signDocWrapper)return"amino"===this.signDocWrapper.mode?this.signDocWrapper.aminoSignDoc:this.signDocWrapper.protoSignDoc.toJSON()}setSignDocWrapper(e){this._signDocWrapper=e}}i([n.observable.ref],u.prototype,"_signDocWrapper",void 0),i([n.computed],u.prototype,"signDocWrapper",null),i([n.computed],u.prototype,"signDocJson",null),i([n.action],u.prototype,"setSignDocWrapper",null),t.SignDocHelper=u;t.useSignDocHelper=(e,t)=>{const[r]=s.useState(()=>new u(e,t));return r}},1770:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1443),t),n(r(1444),t),n(r(1445),t),n(r(1446),t),n(r(1771),t),n(r(1773),t)},1771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCTransferConfig=void 0;const i=r(379),n=r(1443),s=r(1446),o=r(1444),a=r(1772);t.useIBCTransferConfig=(e,t,r,c,u,d={})=>{const h=n.useIBCAmountConfig(e,t,c,u),l=i.useMemoConfig(e,c),p=s.useIBCTransferGasConfig(e,r,c),f=i.useFeeConfig(e,t,c,u,h,p);h.setFeeConfig(f);const g=o.useIBCChannelConfig();return{amountConfig:h,memoConfig:l,gasConfig:p,feeConfig:f,recipientConfig:a.useIBCRecipientConfig(e,c,g,d),channelConfig:g}}},1772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIBCRecipientConfig=t.IBCRecipientConfig=void 0;const i=r(379),n=r(0);class s extends i.RecipientConfig{constructor(e,t,r){super(e,t),this.channelConfig=r}get chainId(){return this.channelConfig.channel?this.channelConfig.channel.counterpartyChainId:super.chainId}}t.IBCRecipientConfig=s;t.useIBCRecipientConfig=(e,t,r,i={})=>{const[o]=n.useState(()=>new s(e,t,r));return o.setChain(t),o.setAllowHexAddressOnEthermint(i.allowHexAddressOnEthermint),o.setICNS(i.icns),o}},1773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},186:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(511),t),n(r(230),t),n(r(318),t),n(r(316),t),n(r(518),t)},209:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(501),t),n(r(929),t),n(r(930),t),n(r(502),t)},223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveSuggestedChainInfoMsg=t.SuggestChainInfoMsg=t.GetChainInfosWithoutEndpointsMsg=t.GetChainInfosMsg=void 0;const i=r(4),n=r(500);class s extends i.Message{static type(){return"get-chain-infos"}validateBasic(){}route(){return n.ROUTE}type(){return s.type()}}t.GetChainInfosMsg=s;class o extends i.Message{static type(){return"get-chain-infos-without-endpoints"}validateBasic(){}approveExternal(){return!0}route(){return n.ROUTE}type(){return o.type()}}t.GetChainInfosWithoutEndpointsMsg=o;class a extends i.Message{constructor(e){super(),this.chainInfo=e}static type(){return"suggest-chain-info"}validateBasic(){if(!this.chainInfo)throw new i.KeplrError("chains",100,"Chain info not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return a.type()}}t.SuggestChainInfoMsg=a;class c extends i.Message{constructor(e){super(),this.chainId=e}static type(){return"remove-suggested-chain-info"}validateBasic(){if(!this.chainId)throw new i.KeplrError("chains",101,"Chain id not set")}route(){return n.ROUTE}type(){return c.type()}}t.RemoveSuggestedChainInfoMsg=c},230:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeKeyRingNameMsg=t.InitNonDefaultLedgerAppMsg=t.ExportKeyRingDatasMsg=t.CheckPasswordMsg=t.SetKeyStoreCoinTypeMsg=t.GetIsKeyStoreCoinTypeSetMsg=t.ChangeKeyRingMsg=t.GetMultiKeyStoreInfoMsg=t.RequestSignDirectMsg=t.RequestVerifyADR36AminoSignDoc=t.RequestICNSAdr36SignaturesMsg=t.RequestSignEIP712CosmosTxMsg_v0=t.RequestSignAminoMsg=t.GetKeyMsg=t.UnlockKeyRingMsg=t.LockKeyRingMsg=t.AddLedgerKeyMsg=t.AddKeystoneKeyMsg=t.AddPrivateKeyMsg=t.CreateLedgerKeyMsg=t.CreateKeystoneKeyMsg=t.CreatePrivateKeyMsg=t.AddMnemonicKeyMsg=t.CreateMnemonicKeyMsg=t.ShowKeyRingMsg=t.UpdateNameKeyRingMsg=t.DeleteKeyRingMsg=t.RestoreKeyRingMsg=void 0;const i=r(4),n=r(520),s=r(316),o=r(8),a=r(98),c=r(198),u=r(136),d=r(2),h=r(57);class l extends i.Message{static type(){return"restore-keyring"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return l.type()}}t.RestoreKeyRingMsg=l;class p extends i.Message{constructor(e,t){super(),this.index=e,this.password=t}static type(){return"delete-keyring"}validateBasic(){if(!Number.isInteger(this.index))throw new i.KeplrError("keyring",201,"Invalid index");if(!this.password)throw new i.KeplrError("keyring",274,"password not set")}route(){return n.ROUTE}type(){return p.type()}}t.DeleteKeyRingMsg=p;class f extends i.Message{constructor(e,t){super(),this.index=e,this.name=t}static type(){return"update-name-keyring"}validateBasic(){if(!Number.isInteger(this.index))throw new i.KeplrError("keyring",201,"Invalid index");if(!this.name)throw new i.KeplrError("keyring",273,"name not set")}route(){return n.ROUTE}type(){return f.type()}}t.UpdateNameKeyRingMsg=f;class g extends i.Message{constructor(e,t){super(),this.index=e,this.password=t}static type(){return"show-keyring"}validateBasic(){if(!Number.isInteger(this.index))throw new i.KeplrError("keyring",201,"Invalid index");if(!this.password)throw new i.KeplrError("keyring",274,"password not set")}route(){return n.ROUTE}type(){return g.type()}}t.ShowKeyRingMsg=g;class y extends i.Message{constructor(e,t,r,i,n){super(),this.kdf=e,this.mnemonic=t,this.password=r,this.meta=i,this.bip44HDPath=n}static type(){return"create-mnemonic-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");if(!this.mnemonic)throw new i.KeplrError("keyring",272,"mnemonic not set");if(!this.password)throw new i.KeplrError("keyring",274,"password not set");try{c.mnemonicToEntropy(this.mnemonic)}catch(e){if("Invalid mnemonic checksum"!==e.message)throw e}s.KeyRing.validateBIP44Path(this.bip44HDPath)}route(){return n.ROUTE}type(){return y.type()}}t.CreateMnemonicKeyMsg=y;class m extends i.Message{constructor(e,t,r,i){super(),this.kdf=e,this.mnemonic=t,this.meta=r,this.bip44HDPath=i}static type(){return"add-mnemonic-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");if(!this.mnemonic)throw new i.KeplrError("keyring",272,"mnemonic not set");try{c.mnemonicToEntropy(this.mnemonic)}catch(e){if("Invalid mnemonic checksum"!==e.message)throw e}s.KeyRing.validateBIP44Path(this.bip44HDPath)}route(){return n.ROUTE}type(){return m.type()}}t.AddMnemonicKeyMsg=m;class v extends i.Message{constructor(e,t,r,i){super(),this.kdf=e,this.privateKey=t,this.password=r,this.meta=i}static type(){return"create-private-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");if(!this.privateKey||0===this.privateKey.length)throw new i.KeplrError("keyring",275,"private key not set");if(32!==this.privateKey.length)throw new i.KeplrError("keyring",260,"invalid length of private key");if(!this.password)throw new i.KeplrError("keyring",274,"password not set")}route(){return n.ROUTE}type(){return v.type()}}t.CreatePrivateKeyMsg=v;class b extends i.Message{constructor(e,t,r,i){super(),this.kdf=e,this.password=t,this.meta=r,this.bip44HDPath=i}static type(){return"create-keystone-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");if(!this.password)throw new i.KeplrError("keyring",274,"password not set");s.KeyRing.validateBIP44Path(this.bip44HDPath)}route(){return n.ROUTE}type(){return b.type()}}t.CreateKeystoneKeyMsg=b;class w extends i.Message{constructor(e,t,r,i,n){super(),this.kdf=e,this.password=t,this.meta=r,this.bip44HDPath=i,this.cosmosLikeApp=n}static type(){return"create-ledger-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");if(!this.password)throw new i.KeplrError("keyring",274,"password not set");s.KeyRing.validateBIP44Path(this.bip44HDPath)}route(){return n.ROUTE}type(){return w.type()}}t.CreateLedgerKeyMsg=w;class S extends i.Message{constructor(e,t,r){super(),this.kdf=e,this.privateKey=t,this.meta=r}static type(){return"add-private-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");if(!this.privateKey||0===this.privateKey.length)throw new i.KeplrError("keyring",275,"private key not set");if(32!==this.privateKey.length)throw new i.KeplrError("keyring",260,"invalid length of private key")}route(){return n.ROUTE}type(){return S.type()}}t.AddPrivateKeyMsg=S;class _ extends i.Message{constructor(e,t,r){super(),this.kdf=e,this.meta=t,this.bip44HDPath=r}static type(){return"add-keystone-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");s.KeyRing.validateBIP44Path(this.bip44HDPath)}route(){return n.ROUTE}type(){return _.type()}}t.AddKeystoneKeyMsg=_;class k extends i.Message{constructor(e,t,r,i){super(),this.kdf=e,this.meta=t,this.bip44HDPath=r,this.cosmosLikeApp=i}static type(){return"add-ledger-key"}validateBasic(){if("scrypt"!==this.kdf&&"sha256"!==this.kdf&&"pbkdf2"!==this.kdf)throw new i.KeplrError("keyring",202,"Invalid kdf");s.KeyRing.validateBIP44Path(this.bip44HDPath)}route(){return n.ROUTE}type(){return k.type()}}t.AddLedgerKeyMsg=k;class C extends i.Message{static type(){return"lock-keyring"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return C.type()}}t.LockKeyRingMsg=C;class E extends i.Message{constructor(e=""){super(),this.password=e}static type(){return"unlock-keyring"}validateBasic(){if(!this.password)throw new i.KeplrError("keyring",274,"password not set")}route(){return n.ROUTE}type(){return E.type()}}t.UnlockKeyRingMsg=E;class M extends i.Message{constructor(e){super(),this.chainId=e}static type(){return"get-key"}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return M.type()}}t.GetKeyMsg=M;class P extends i.Message{constructor(e,t,r,i={}){super(),this.chainId=e,this.signer=t,this.signDoc=r,this.signOptions=i}static type(){return"request-sign-amino"}validateBasic(){var e,t;if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(o.Bech32Address.validate(this.signer),o.checkAndValidateADR36AminoSignDoc(this.signDoc)){if(this.signDoc.msgs[0].value.signer!==this.signer)throw new i.KeplrError("keyring",233,"Unmatched signer in sign doc");if(this.signOptions.ethSignType)switch(this.signOptions.ethSignType){case a.EthSignType.EIP712:{const r=JSON.parse(d.Buffer.from(this.signDoc.msgs[0].value.data,"base64").toString()),{ethChainId:i}=o.EthermintChainIdHelper.parse(this.chainId);if(parseFloat(null===(e=r.domain)||void 0===e?void 0:e.chainId)!==i)throw new Error(`Unmatched chain id for eth (expected: ${i}, actual: ${null===(t=r.domain)||void 0===t?void 0:t.chainId})`)}}}else{if(this.signOptions.ethSignType)throw new Error("Eth sign type can be requested with only ADR-36 amino sign doc");if(this.signDoc.chain_id!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id")}if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return n.ROUTE}type(){return P.type()}}t.RequestSignAminoMsg=P;class O extends i.Message{constructor(e,t,r,i,n){super(),this.chainId=e,this.signer=t,this.eip712=r,this.signDoc=i,this.signOptions=n}static type(){return"request-sign-eip-712-cosmos-tx-v0"}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(o.Bech32Address.validate(this.signer),o.checkAndValidateADR36AminoSignDoc(this.signDoc))throw new Error("Can't sign ADR-36 with EIP-712");{if(this.signDoc.chain_id!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id");const{ethChainId:e}=o.EthermintChainIdHelper.parse(this.chainId);if(!h.BigNumber.from(this.eip712.domain.chainId).eq(e))throw new Error(`Unmatched chain id for eth (expected: ${e}, actual: ${this.eip712.domain.chainId})`)}if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return n.ROUTE}type(){return O.type()}}t.RequestSignEIP712CosmosTxMsg_v0=O;class I extends i.Message{constructor(e,t,r,i,n){super(),this.chainId=e,this.contractAddress=t,this.owner=r,this.username=i,this.addressChainIds=n}static type(){return"request-icns-adr-36-signatures"}validateBasic(){if(!this.chainId)throw new Error("chain id not set");if(!this.contractAddress)throw new Error("contract address not set");if(o.Bech32Address.validate(this.contractAddress),!this.owner)throw new Error("signer not set");if(o.Bech32Address.validate(this.owner),!this.username)throw new Error("username not set");if(!this.addressChainIds||0===this.addressChainIds.length)throw new Error("address chain ids not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return I.type()}}t.RequestICNSAdr36SignaturesMsg=I;class K extends i.Message{constructor(e,t,r,i){super(),this.chainId=e,this.signer=t,this.data=r,this.signature=i}static type(){return"request-verify-adr-36-amino-doc"}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(!this.signature)throw new i.KeplrError("keyring",271,"Signature not set");o.Bech32Address.validate(this.signer)}approveExternal(){return!0}route(){return n.ROUTE}type(){return K.type()}}t.RequestVerifyADR36AminoSignDoc=K;class A extends i.Message{constructor(e,t,r,i={}){super(),this.chainId=e,this.signer=t,this.signDoc=r,this.signOptions=i}static type(){return"request-sign-direct"}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");o.Bech32Address.validate(this.signer);if(u.SignDoc.fromPartial({bodyBytes:this.signDoc.bodyBytes,authInfoBytes:this.signDoc.authInfoBytes,chainId:this.signDoc.chainId,accountNumber:this.signDoc.accountNumber}).chainId!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id");if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return n.ROUTE}type(){return A.type()}}t.RequestSignDirectMsg=A;class R extends i.Message{static type(){return"get-multi-key-store-info"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return R.type()}}t.GetMultiKeyStoreInfoMsg=R;class T extends i.Message{constructor(e){super(),this.index=e}static type(){return"change-keyring"}validateBasic(){if(this.index<0)throw new i.KeplrError("keyring",200,"Index is negative");if(!Number.isInteger(this.index))throw new i.KeplrError("keyring",201,"Invalid index")}route(){return n.ROUTE}type(){return T.type()}}t.ChangeKeyRingMsg=T;class x extends i.Message{constructor(e,t){super(),this.chainId=e,this.paths=t}static type(){return"get-is-keystore-coin-type-set"}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(0===this.paths.length)throw new i.KeplrError("keyring",250,"empty bip44 path list")}route(){return n.ROUTE}type(){return x.type()}}t.GetIsKeyStoreCoinTypeSetMsg=x;class D extends i.Message{constructor(e,t){super(),this.chainId=e,this.coinType=t}static type(){return"set-keystore-coin-type"}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(this.coinType<0)throw new i.KeplrError("keyring",240,"coin type can not be negative");if(!Number.isInteger(this.coinType))throw new i.KeplrError("keyring",241,"coin type should be integer")}route(){return n.ROUTE}type(){return D.type()}}t.SetKeyStoreCoinTypeMsg=D;class j extends i.Message{constructor(e){super(),this.password=e}static type(){return"check-keyring-password"}validateBasic(){if(!this.password)throw new i.KeplrError("keyring",274,"password not set")}route(){return n.ROUTE}type(){return j.type()}}t.CheckPasswordMsg=j;class B extends i.Message{constructor(e){super(),this.password=e}static type(){return"export-keyring-datas"}validateBasic(){if(!this.password)throw new i.KeplrError("keyring",274,"password not set")}route(){return n.ROUTE}type(){return B.type()}}t.ExportKeyRingDatasMsg=B;class U extends i.Message{constructor(e){super(),this.ledgerApp=e}static type(){return"init-non-default-ledger-app"}validateBasic(){if(!this.ledgerApp)throw new Error("ledger app not set")}route(){return n.ROUTE}type(){return U.type()}}t.InitNonDefaultLedgerAppMsg=U;class N extends i.Message{constructor(e,t){super(),this.defaultName=e,this.editable=t}static type(){return"change-keyring-name-msg"}validateBasic(){if(!this.defaultName)throw new Error("default name not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return N.type()}}t.ChangeKeyRingNameMsg=N},238:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetSecret20ViewingKey=t.RemoveTokenMsg=t.AddTokenMsg=t.SuggestTokenMsg=t.GetTokensMsg=void 0;const i=r(4),n=r(589);class s extends i.Message{constructor(e){super(),this.chainId=e}static type(){return"get-tokens"}validateBasic(){if(!this.chainId)throw new i.KeplrError("tokens",100,"Chain id is empty")}route(){return n.ROUTE}type(){return s.type()}}t.GetTokensMsg=s;class o extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.contractAddress=t,this.viewingKey=r}static type(){return"suggest-token"}approveExternal(){return!0}validateBasic(){if(!this.chainId)throw new i.KeplrError("tokens",100,"Chain id is empty");if(!this.contractAddress)throw new i.KeplrError("tokens",101,"Contract address is empty")}route(){return n.ROUTE}type(){return o.type()}}t.SuggestTokenMsg=o;class a extends i.Message{constructor(e,t){super(),this.chainId=e,this.currency=t}static type(){return"add-token"}validateBasic(){if(!this.chainId)throw new i.KeplrError("tokens",100,"Chain id is empty")}route(){return n.ROUTE}type(){return a.type()}}t.AddTokenMsg=a;class c extends i.Message{constructor(e,t){super(),this.chainId=e,this.currency=t}static type(){return"remove-token"}validateBasic(){if(!this.chainId)throw new i.KeplrError("tokens",100,"Chain id is empty")}route(){return n.ROUTE}type(){return c.type()}}t.RemoveTokenMsg=c;class u extends i.Message{constructor(e,t){super(),this.chainId=e,this.contractAddress=t}static type(){return"get-secret20-viewing-key"}validateBasic(){if(!this.chainId)throw new i.KeplrError("tokens",100,"Chain id is empty");if(!this.contractAddress)throw new i.KeplrError("tokens",101,"Contract address is empty")}approveExternal(){return!0}route(){return n.ROUTE}type(){return u.type()}}t.GetSecret20ViewingKey=u},273:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(521),t),n(r(320),t),n(r(977),t)},285:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseKVStore=void 0;t.BaseKVStore=class{constructor(e,t){this.provider=e,this._prefix=t}get(e){return i(this,void 0,void 0,(function*(){const t=this.prefix()+"/"+e;return(yield this.provider.get())[t]}))}set(e,t){const r=this.prefix()+"/"+e;return this.provider.set({[r]:t})}prefix(){return this._prefix}}},29:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(757),t),n(r(763),t),n(r(899),t),n(r(900),t),n(r(902),t),n(r(903),t),n(r(905),t)},307:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPersistentMemoryMsg=t.SetPersistentMemoryMsg=void 0;const i=r(4),n=r(498);class s extends i.Message{constructor(e){super(),this.data=e}static type(){return"set-persistent-memory"}validateBasic(){}route(){return n.ROUTE}type(){return s.type()}}t.SetPersistentMemoryMsg=s;class o extends i.Message{static type(){return"get-persistent-memory"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return o.type()}}t.GetPersistentMemoryMsg=o},308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveGlobalPermissionOriginMsg=t.RemovePermissionOrigin=t.AddPermissionOrigin=t.GetGlobalPermissionOriginsMsg=t.GetOriginPermittedChainsMsg=t.GetPermissionOriginsMsg=t.DisableAccessMsg=t.EnableAccessMsg=void 0;const i=r(4),n=r(506);class s extends i.Message{constructor(e){super(),this.chainIds=e}static type(){return"enable-access"}validateBasic(){if(!this.chainIds||0===this.chainIds.length)throw new i.KeplrError("permission",100,"chain id not set")}route(){return n.ROUTE}approveExternal(){return!0}type(){return s.type()}}t.EnableAccessMsg=s;class o extends i.Message{constructor(e){super(),this.chainIds=e}static type(){return"disable-access"}validateBasic(){if(!this.chainIds)throw new i.KeplrError("permission",100,"chain id not set")}route(){return n.ROUTE}approveExternal(){return!0}type(){return o.type()}}t.DisableAccessMsg=o;class a extends i.Message{constructor(e,t){super(),this.chainId=e,this.permissionType=t}static type(){return"get-permission-origins"}validateBasic(){if(!this.chainId)throw new i.KeplrError("permission",100,"chain id not set");if(!this.permissionType)throw new i.KeplrError("permission",110,"empty permission type")}route(){return n.ROUTE}type(){return a.type()}}t.GetPermissionOriginsMsg=a;class c extends i.Message{constructor(e,t){super(),this.permissionOrigin=e,this.permissionType=t}static type(){return"get-origin-permitted-chains"}validateBasic(){if(!this.permissionOrigin)throw new i.KeplrError("permission",101,"origin not set");if(!this.permissionType)throw new i.KeplrError("permission",110,"empty permission type")}route(){return n.ROUTE}type(){return c.type()}}t.GetOriginPermittedChainsMsg=c;class u extends i.Message{constructor(e){super(),this.permissionType=e}static type(){return"get-global-permission-origins"}validateBasic(){if(!this.permissionType)throw new i.KeplrError("permission",110,"empty permission type")}route(){return n.ROUTE}type(){return u.type()}}t.GetGlobalPermissionOriginsMsg=u;class d extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.permissionType=t,this.permissionOrigin=r}static type(){return"add-permission-origin"}validateBasic(){if(!this.chainId)throw new i.KeplrError("permission",100,"chain id not set");if(!this.permissionType)throw new i.KeplrError("permission",110,"empty permission type");if(!this.permissionOrigin)throw new i.KeplrError("permission",111,"empty permission origin")}route(){return n.ROUTE}type(){return d.type()}}t.AddPermissionOrigin=d;class h extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.permissionType=t,this.permissionOrigin=r}static type(){return"remove-permission-origin"}validateBasic(){if(!this.chainId)throw new i.KeplrError("permission",100,"chain id not set");if(!this.permissionType)throw new i.KeplrError("permission",110,"empty permission type");if(!this.permissionOrigin)throw new i.KeplrError("permission",111,"empty permission origin")}route(){return n.ROUTE}type(){return h.type()}}t.RemovePermissionOrigin=h;class l extends i.Message{constructor(e,t){super(),this.permissionType=e,this.permissionOrigin=t}static type(){return"remove-global-permission-origin"}validateBasic(){if(!this.permissionType)throw new i.KeplrError("permission",110,"empty permission type");if(!this.permissionOrigin)throw new i.KeplrError("permission",111,"empty permission origin")}route(){return n.ROUTE}type(){return l.type()}}t.RemoveGlobalPermissionOriginMsg=l},316:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRing=t.KeyRingStatus=void 0;const a=r(973),c=r(60),u=r(516),d=r(318),h=r(98),l=r(4),p=r(2),f=r(8),g=r(605),y=s(r(1)),m=r(48),v=r(518),b=r(519),w=r(133);var S;!function(e){e[e.NOTLOADED=0]="NOTLOADED",e[e.EMPTY=1]="EMPTY",e[e.LOCKED=2]="LOCKED",e[e.UNLOCKED=3]="UNLOCKED"}(S=t.KeyRingStatus||(t.KeyRingStatus={}));class _{constructor(e,t,r,i,n){this.embedChainInfos=e,this.kvStore=t,this.ledgerKeeper=r,this.keystoneService=i,this.crypto=n,this.cached=new Map,this.password="",this.loaded=!1,this.keyStore=null,this.multiKeyStore=[]}static getTypeOfKeyStore(e){const t=e.type;if(null==t)return"mnemonic";if("mnemonic"!==t&&"privateKey"!==t&&"ledger"!==t&&"keystone"!==t)throw new l.KeplrError("keyring",132,"Invalid type of key store");return t}get type(){return this.keyStore?_.getTypeOfKeyStore(this.keyStore):"none"}isLocked(){return null==this.privateKey&&null==this.mnemonicMasterSeed&&null==this.ledgerPublicKeyCache&&null==this.keystonePublicKey}get privateKey(){return this._privateKey}set privateKey(e){this._privateKey=e,this._mnemonicMasterSeed=void 0,this._ledgerPublicKeyCache=void 0,this._keystonePublicKeyCache=void 0,this.cached=new Map}get mnemonicMasterSeed(){return this._mnemonicMasterSeed}set mnemonicMasterSeed(e){this._mnemonicMasterSeed=e,this._privateKey=void 0,this._ledgerPublicKeyCache=void 0,this._keystonePublicKeyCache=void 0,this.cached=new Map}get keystonePublicKey(){return this._keystonePublicKeyCache}set keystonePublicKey(e){this._keystonePublicKeyCache=e,this._mnemonicMasterSeed=void 0,this._privateKey=void 0,this._ledgerPublicKeyCache=void 0,this.cached=new Map}get ledgerPublicKeyCache(){return this._ledgerPublicKeyCache}set ledgerPublicKeyCache(e){this._mnemonicMasterSeed=void 0,this._privateKey=void 0,this._ledgerPublicKeyCache=e,this.cached=new Map}get status(){return this.loaded?this.keyStore?this.isLocked()?S.LOCKED:S.UNLOCKED:S.EMPTY:S.NOTLOADED}getKeyStoreCoinType(e){if(this.keyStore&&this.keyStore.coinTypeForChain)return this.keyStore.coinTypeForChain[f.ChainIdHelper.parse(e).identifier]}getKey(e,t,r){return this.loadKey(this.computeKeyStoreCoinType(e,t),r)}getKeyStoreMeta(e){var t;return this.keyStore&&null!=this.keyStore.meta&&null!==(t=this.keyStore.meta[e])&&void 0!==t?t:""}computeKeyStoreCoinType(e,t){var r;if(!this.keyStore)throw new l.KeplrError("keyring",130,"Key store is empty");return 60===t?60:this.keyStore.coinTypeForChain&&null!==(r=this.keyStore.coinTypeForChain[f.ChainIdHelper.parse(e).identifier])&&void 0!==r?r:t}getKeyFromCoinType(e,t){return this.loadKey(e,t)}createMnemonicKey(e,t,r,i,n){return o(this,void 0,void 0,(function*(){if(this.status!==S.EMPTY)throw new l.KeplrError("keyring",142,"Key ring is not loaded or not empty");return this.mnemonicMasterSeed=c.Mnemonic.generateMasterSeedFromMnemonic(t),this.keyStore=yield _.CreateMnemonicKeyStore(this.crypto,e,t,r,yield this.assignKeyStoreIdMeta(i),n),this.password=r,this.multiKeyStore.push(this.keyStore),yield this.save(),{status:this.status,multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}createPrivateKey(e,t,r,i){return o(this,void 0,void 0,(function*(){if(this.status!==S.EMPTY)throw new l.KeplrError("keyring",142,"Key ring is not loaded or not empty");return this.privateKey=t,this.keyStore=yield _.CreatePrivateKeyStore(this.crypto,e,t,r,yield this.assignKeyStoreIdMeta(i)),this.password=r,this.multiKeyStore.push(this.keyStore),yield this.save(),{status:this.status,multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}createKeystoneKey(e,t,r,i,n){return o(this,void 0,void 0,(function*(){if(this.status!==S.EMPTY)throw new l.KeplrError("keyring",142,"Key ring is not loaded or not empty");const s=yield this.keystoneService.getPubkey(e,n),o=yield _.CreateKeystoneKeyStore(this.crypto,t,s,r,yield this.assignKeyStoreIdMeta(i),n);return this.password=r,this.keyStore=o,this.multiKeyStore.push(this.keyStore),this.keystonePublicKey=s,yield this.save(),{status:this.status,multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}createLedgerKey(e,t,r,i,n,s){return o(this,void 0,void 0,(function*(){if(this.status!==S.EMPTY)throw new l.KeplrError("keyring",142,"Key ring is not loaded or not empty");s&&(i=Object.assign(Object.assign({},i),{__ledger__cosmos_app_like__:s}));const o=yield this.ledgerKeeper.getPublicKey(e,u.LedgerApp.Cosmos,n,s),a={[u.LedgerApp.Cosmos]:o},c=yield _.CreateLedgerKeyStore(this.crypto,t,a,r,yield this.assignKeyStoreIdMeta(i),n);return this.password=r,this.keyStore=c,this.multiKeyStore.push(this.keyStore),this.ledgerPublicKeyCache=a,yield this.save(),{status:this.status,multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}lock(){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");this.mnemonicMasterSeed=void 0,this.privateKey=void 0,this.ledgerPublicKeyCache=void 0,this.keystonePublicKey=void 0,this.password=""}unlock(e){return o(this,void 0,void 0,(function*(){if(!this.keyStore||"none"===this.type)throw new l.KeplrError("keyring",144,"Key ring not initialized");if("mnemonic"===this.type)this.mnemonicMasterSeed=c.Mnemonic.generateMasterSeedFromMnemonic(p.Buffer.from(yield a.Crypto.decrypt(this.crypto,this.keyStore,e)).toString());else if("privateKey"===this.type)this.privateKey=p.Buffer.from(p.Buffer.from(yield a.Crypto.decrypt(this.crypto,this.keyStore,e)).toString(),"hex");else if("ledger"===this.type){const t={},r=yield a.Crypto.decrypt(this.crypto,this.keyStore,e);try{const e=JSON.parse(p.Buffer.from(r).toString());Object.keys(e).forEach(r=>t[r]=p.Buffer.from(e[r],"hex"))}catch(e){t[u.LedgerApp.Cosmos]=p.Buffer.from(p.Buffer.from(r).toString(),"hex")}this.ledgerPublicKeyCache=t}else{if("keystone"!==this.type)throw new l.KeplrError("keyring",145,"Unexpected type of keyring");{const t=yield a.Crypto.decrypt(this.crypto,this.keyStore,e);try{this.keystonePublicKey=JSON.parse(p.Buffer.from(t).toString())}catch(e){throw new l.KeplrError("keyring",146,"Unexpected content of Keystone public keys")}}}this.password=e}))}save(){return o(this,void 0,void 0,(function*(){yield this.kvStore.set("key-store",this.keyStore),yield this.kvStore.set("key-multi-store",this.multiKeyStore)}))}restore(){return o(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("key-store");this.keyStore=e||null;const t=yield this.kvStore.get("key-multi-store");t?this.multiKeyStore=t:(e?(e.meta=yield this.assignKeyStoreIdMeta({}),this.multiKeyStore=[e]):this.multiKeyStore=[],yield this.save());let r=!1;this.keyStore&&("1"!==this.keyStore.version&&"1.1"!==this.keyStore.version||(r=!0,this.updateLegacyKeyStore(this.keyStore)));for(const e of this.multiKeyStore)"1"!==e.version&&"1.1"!==e.version||(r=!0,this.updateLegacyKeyStore(e));r&&(yield this.save()),this.loaded=!0}))}updateLegacyKeyStore(e){e.version="1.2";for(const t of this.embedChainInfos){const r=t.alternativeBIP44s&&t.alternativeBIP44s.length>0?t.alternativeBIP44s[0].coinType:t.bip44.coinType;e.coinTypeForChain=Object.assign(Object.assign({},e.coinTypeForChain),{[f.ChainIdHelper.parse(t.chainId).identifier]:r})}}isKeyStoreCoinTypeSet(e){if(!this.keyStore)throw new l.KeplrError("keyring",130,"Key store is empty");return this.keyStore.coinTypeForChain&&void 0!==this.keyStore.coinTypeForChain[f.ChainIdHelper.parse(e).identifier]}setKeyStoreCoinType(e,t){return o(this,void 0,void 0,(function*(){if(!this.keyStore)throw new l.KeplrError("keyring",130,"Key store is empty");if(this.keyStore.coinTypeForChain&&void 0!==this.keyStore.coinTypeForChain[f.ChainIdHelper.parse(e).identifier])throw new l.KeplrError("keyring",110,"Coin type already set");this.keyStore.coinTypeForChain=Object.assign(Object.assign({},this.keyStore.coinTypeForChain),{[f.ChainIdHelper.parse(e).identifier]:t});const r=this.multiKeyStore.find(e=>_.getKeyStoreId(e)===_.getKeyStoreId(this.keyStore));r&&(r.coinTypeForChain=Object.assign({},this.keyStore.coinTypeForChain)),yield this.save()}))}removeAllKeyStoreCoinType(e){var t,r;const i=f.ChainIdHelper.parse(e).identifier;if(this.keyStore){const e=null!==(t=this.keyStore.coinTypeForChain)&&void 0!==t?t:{};delete e[i],this.keyStore.coinTypeForChain=e}for(const e of this.multiKeyStore){const t=null!==(r=e.coinTypeForChain)&&void 0!==r?r:{};delete t[i],e.coinTypeForChain=t}this.save()}deleteKeyRing(e,t){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");if(this.password!==t)throw new l.KeplrError("keyring",121,"Invalid password");const r=this.multiKeyStore[e];if(!r)throw new l.KeplrError("keyring",130,"Key store is empty");const i=this.multiKeyStore.slice(0,e).concat(this.multiKeyStore.slice(e+1));yield a.Crypto.decrypt(this.crypto,r,t);let n=!1;return this.keyStore&&_.getKeyStoreId(r)===_.getKeyStoreId(this.keyStore)&&(i.length>0?(yield this.lock(),this.keyStore=i[0],yield this.unlock(t)):(this.keyStore=null,this.mnemonicMasterSeed=void 0,this.privateKey=void 0,this.ledgerPublicKeyCache=void 0),n=!0),this.multiKeyStore=i,yield this.save(),{multiKeyStoreInfo:this.getMultiKeyStoreInfo(),keyStoreChanged:n}}))}updateNameKeyRing(e,t){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");const r=this.multiKeyStore[e];if(!r)throw new l.KeplrError("keyring",130,"Key store is empty");return r.meta=Object.assign(Object.assign({},r.meta),{name:t}),this.keyStore&&_.getKeyStoreId(this.keyStore)===_.getKeyStoreId(r)&&(this.keyStore=r),yield this.save(),this.getMultiKeyStoreInfo()}))}loadKey(e,t=!1){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");if(!this.keyStore)throw new l.KeplrError("keyring",130,"Key store is empty");if("ledger"===this.keyStore.type){if(!this.ledgerPublicKeyCache)throw new l.KeplrError("keyring",150,"Ledger public key not set");if(t){const e=this.ensureLedgerPublicKey(u.LedgerApp.Ethereum),t=m.computeAddress(e);return{algo:"ethsecp256k1",pubKey:e,address:p.Buffer.from(t.replace("0x",""),"hex"),isKeystone:!1,isNanoLedger:!0}}const e=new c.PubKeySecp256k1(this.ensureLedgerPublicKey(u.LedgerApp.Cosmos));return{algo:"secp256k1",pubKey:e.toBytes(),address:e.getAddress(),isKeystone:!1,isNanoLedger:!0}}if("keystone"===this.keyStore.type){if(!this.keystonePublicKey||0===this.keystonePublicKey.keys.length)throw new l.KeplrError("keyring",160,"Keystone public key not set");const r=this.keystonePublicKey.keys.find(t=>t.coinType===e);if(!r)throw new l.KeplrError("keyring",161,"CoinType is not available");if(t){const e=w.publicKeyConvert(p.Buffer.from(r.pubKey,"hex"),!0),t=m.computeAddress(e);return{algo:"ethsecp256k1",pubKey:e,address:p.Buffer.from(t.replace(/^0x/,""),"hex"),isKeystone:!0,isNanoLedger:!1}}const i=new c.PubKeySecp256k1(p.Buffer.from(r.pubKey,"hex"));return{algo:"secp256k1",pubKey:i.toBytes(),address:i.getAddress(),isKeystone:!0,isNanoLedger:!1}}{const r=this.loadPrivKey(e),i=r.getPubKey();if(t){const e=new g.Wallet(r.toBytes());return{algo:"ethsecp256k1",pubKey:i.toBytes(),address:p.Buffer.from(e.address.replace("0x",""),"hex"),isKeystone:!1,isNanoLedger:!1}}return{algo:"secp256k1",pubKey:i.toBytes(),address:i.getAddress(),isKeystone:!1,isNanoLedger:!1}}}loadPrivKey(e){if(this.status!==S.UNLOCKED||"none"===this.type||!this.keyStore)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");const t=_.getKeyStoreBIP44Path(this.keyStore);if("mnemonic"===this.type){const r=`m/44'/${e}'/${t.account}'/${t.change}/${t.addressIndex}`,i=this.cached.get(r);if(i)return new c.PrivKeySecp256k1(i);if(!this.mnemonicMasterSeed)throw new l.KeplrError("keyring",133,"Key store type is mnemonic and it is unlocked. But, mnemonic is not loaded unexpectedly");const n=c.Mnemonic.generatePrivateKeyFromMasterSeed(this.mnemonicMasterSeed,r);return this.cached.set(r,n),new c.PrivKeySecp256k1(n)}if("privateKey"===this.type){if(!this.privateKey)throw new l.KeplrError("keyring",134,"Key store type is private key and it is unlocked. But, private key is not loaded unexpectedly");return new c.PrivKeySecp256k1(this.privateKey)}throw new l.KeplrError("keyring",145,"Unexpected type of keyring")}sign(e,t,r,i,n,s=d.SignMode.Amino){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");if(!this.keyStore)throw new l.KeplrError("keyring",130,"Key store is empty");if("ledger"===this.keyStore.type){if(!this.ledgerPublicKeyCache)throw new l.KeplrError("keyring",151,"Ledger public key is not initialized");if(n)throw new Error("Can't sign cosmos sign doc by ethereum app on ledger");const t=(this.keyStore.meta?this.keyStore.meta.__ledger__cosmos_app_like__:void 0)||"Cosmos";return yield this.ledgerKeeper.sign(e,_.getKeyStoreBIP44Path(this.keyStore),yield this.ensureLedgerPublicKey(u.LedgerApp.Cosmos),i,t)}if("keystone"===this.keyStore.type){const o=this.computeKeyStoreCoinType(t,r);return n?yield this.keystoneService.signEthereum(e,o,t,_.getKeyStoreBIP44Path(this.keyStore),this.loadKey(o,!0),this.keystonePublicKey,i,h.EthSignType.MESSAGE):yield this.keystoneService.sign(e,o,_.getKeyStoreBIP44Path(this.keyStore),this.loadKey(o,n),this.keystonePublicKey,i,s)}{const e=this.computeKeyStoreCoinType(t,r),s=this.loadPrivKey(e),o=n?s.signDigest32(c.Hash.keccak256(i)):s.sign(i);return this.isKeyStoreCoinTypeSet(t)||(yield this.setKeyStoreCoinType(t,e)),o}}))}signEthereum(e,t,r,i,n){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");if(!this.keyStore)throw new l.KeplrError("keyring",130,"Key store is empty");if("ledger"===this.keyStore.type){if(!this.ledgerPublicKeyCache)throw new l.KeplrError("keyring",151,"Ledger public key is not initialized");return this.ledgerKeeper.signEthereum(e,n,_.getKeyStoreBIP44Path(this.keyStore),yield this.ensureLedgerPublicKey(u.LedgerApp.Ethereum),i)}if("keystone"===this.keyStore.type){const s=this.computeKeyStoreCoinType(t,r);return this.keystoneService.signEthereum(e,s,t,_.getKeyStoreBIP44Path(this.keyStore),this.loadKey(s,!0),this.keystonePublicKey,i,n)}const s=this.computeKeyStoreCoinType(t,r),o=this.loadPrivKey(s),a=new g.Wallet(o.toBytes());switch(n){case h.EthSignType.MESSAGE:{const e=yield a.signMessage(i);return y.arrayify(e)}case h.EthSignType.TRANSACTION:{const e=yield a.signTransaction(JSON.parse(p.Buffer.from(i).toString()));return y.arrayify(e)}case h.EthSignType.EIP712:{const e=yield v.EIP712MessageValidator.validateAsync(JSON.parse(p.Buffer.from(i).toString())),t=yield a._signingKey().signDigest(c.Hash.keccak256(p.Buffer.concat([p.Buffer.from("19","hex"),p.Buffer.from("01","hex"),p.Buffer.from(b.domainHash(e).replace("0x",""),"hex"),p.Buffer.from(b.messageHash(e).replace("0x",""),"hex")])));return p.Buffer.concat([p.Buffer.from(t.r.replace("0x",""),"hex"),p.Buffer.from(t.s.replace("0x",""),"hex"),t.recoveryParam?p.Buffer.from("1c","hex"):p.Buffer.from("1b","hex")])}default:throw new Error("Unknown sign type: "+n)}}))}showKeyRing(e,t){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED)throw new l.KeplrError("keyring",143,"Key ring is not unlocked");if(this.password!==t)throw new l.KeplrError("keyring",121,"Invalid password");const r=this.multiKeyStore[e];if(!r)throw new l.KeplrError("keyring",130,"Key store is empty");return r.type,p.Buffer.from(yield a.Crypto.decrypt(this.crypto,r,t)).toString()}))}get canSetPath(){return"mnemonic"===this.type||"ledger"===this.type}addMnemonicKey(e,t,r,i){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED||""==this.password)throw new l.KeplrError("keyring",141,"Key ring is locked or not initialized");const n=yield _.CreateMnemonicKeyStore(this.crypto,e,t,this.password,yield this.assignKeyStoreIdMeta(r),i);return this.multiKeyStore.push(n),yield this.save(),{multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}addPrivateKey(e,t,r){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED||""==this.password)throw new l.KeplrError("keyring",141,"Key ring is locked or not initialized");const i=yield _.CreatePrivateKeyStore(this.crypto,e,t,this.password,yield this.assignKeyStoreIdMeta(r));return this.multiKeyStore.push(i),yield this.save(),{multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}addKeystoneKey(e,t,r,i){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED||""==this.password)throw new l.KeplrError("keyring",141,"Key ring is locked or not initialized");const n=yield this.keystoneService.getPubkey(e,i),s=yield _.CreateKeystoneKeyStore(this.crypto,t,n,this.password,yield this.assignKeyStoreIdMeta(r),i);return this.multiKeyStore.push(s),yield this.save(),{multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}addLedgerKey(e,t,r,i,n){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED||""==this.password)throw new l.KeplrError("keyring",141,"Key ring is locked or not initialized");n&&(r=Object.assign(Object.assign({},r),{__ledger__cosmos_app_like__:n}));const s=yield this.ledgerKeeper.getPublicKey(e,u.LedgerApp.Cosmos,i,n),o={[u.LedgerApp.Cosmos]:s},a=yield _.CreateLedgerKeyStore(this.crypto,t,o,this.password,yield this.assignKeyStoreIdMeta(r),i);return this.multiKeyStore.push(a),yield this.save(),{multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}changeKeyStoreFromMultiKeyStore(e){return o(this,void 0,void 0,(function*(){if(this.status!==S.UNLOCKED||""==this.password)throw new l.KeplrError("keyring",141,"Key ring is locked or not initialized");const t=this.multiKeyStore[e];if(!t)throw new l.KeplrError("keyring",120,"Invalid keystore");return this.keyStore=t,yield this.unlock(this.password),yield this.save(),{multiKeyStoreInfo:this.getMultiKeyStoreInfo()}}))}getMultiKeyStoreInfo(){const e=[];for(const t of this.multiKeyStore)e.push({version:t.version,type:t.type,meta:t.meta,coinTypeForChain:t.coinTypeForChain,bip44HDPath:t.bip44HDPath,selected:!!this.keyStore&&_.getKeyStoreId(t)===_.getKeyStoreId(this.keyStore)});return e}checkPassword(e){if(!this.password)throw new l.KeplrError("keyring",100,"Keyring is locked");return this.password===e}exportKeyRingDatas(e){var t,r,i,n,s;return o(this,void 0,void 0,(function*(){if(!this.password)throw new l.KeplrError("keyring",100,"Keyring is locked");if(this.password!==e)throw new l.KeplrError("keyring",121,"Invalid password");const o=[];for(const c of this.multiKeyStore){switch(null!==(t=c.type)&&void 0!==t?t:"mnemonic"){case"mnemonic":{const t=p.Buffer.from(yield a.Crypto.decrypt(this.crypto,c,e)).toString();o.push({bip44HDPath:null!==(r=c.bip44HDPath)&&void 0!==r?r:{account:0,change:0,addressIndex:0},coinTypeForChain:c.coinTypeForChain,key:t,meta:null!==(i=c.meta)&&void 0!==i?i:{},type:"mnemonic"});break}case"privateKey":{const t=p.Buffer.from(yield a.Crypto.decrypt(this.crypto,c,e)).toString();o.push({bip44HDPath:null!==(n=c.bip44HDPath)&&void 0!==n?n:{account:0,change:0,addressIndex:0},coinTypeForChain:c.coinTypeForChain,key:t,meta:null!==(s=c.meta)&&void 0!==s?s:{},type:"privateKey"});break}}}return o}))}static CreateMnemonicKeyStore(e,t,r,i,n,s){return o(this,void 0,void 0,(function*(){return yield a.Crypto.encrypt(e,t,"mnemonic",r,i,n,s)}))}static CreatePrivateKeyStore(e,t,r,i,n){return o(this,void 0,void 0,(function*(){return yield a.Crypto.encrypt(e,t,"privateKey",p.Buffer.from(r).toString("hex"),i,n)}))}static CreateKeystoneKeyStore(e,t,r,i,n,s){return o(this,void 0,void 0,(function*(){return yield a.Crypto.encrypt(e,t,"keystone",JSON.stringify(r),i,n,s)}))}static CreateLedgerKeyStore(e,t,r,i,n,s){return o(this,void 0,void 0,(function*(){const o={};return Object.keys(r).filter(e=>null!=r[e]).forEach(e=>o[e]=p.Buffer.from(r[e]).toString("hex")),yield a.Crypto.encrypt(e,t,"ledger",JSON.stringify(o),i,n,s)}))}assignKeyStoreIdMeta(e){return o(this,void 0,void 0,(function*(){return Object.assign({},e,{__id__:(yield this.getIncrementalNumber()).toString()})}))}static getKeyStoreId(e){var t;const r=null===(t=e.meta)||void 0===t?void 0:t.__id__;if(!r)throw new l.KeplrError("keyring",131,"Key store's id is empty");return r}static getKeyStoreBIP44Path(e){return e.bip44HDPath?(_.validateBIP44Path(e.bip44HDPath),e.bip44HDPath):{account:0,change:0,addressIndex:0}}static validateBIP44Path(e){if(!Number.isInteger(e.account)||e.account<0)throw new l.KeplrError("keyring",100,"Invalid account in hd path");if(!Number.isInteger(e.change)||0!==e.change&&1!==e.change)throw new l.KeplrError("keyring",102,"Invalid change in hd path");if(!Number.isInteger(e.addressIndex)||e.addressIndex<0)throw new l.KeplrError("keyring",101,"Invalid address index in hd path")}getIncrementalNumber(){return o(this,void 0,void 0,(function*(){let e=yield this.kvStore.get("incrementalNumber");return void 0===e&&(e=0),e++,yield this.kvStore.set("incrementalNumber",e),e}))}throwErrorIfEthermintWithLedgerButNotSupported(e){if(this.keyStore&&"ledger"===this.keyStore.type&&!e.startsWith("evmos_")&&!e.startsWith("injective"))throw new l.KeplrError("keyring",152,"Ledger is unsupported for this chain")}ensureLedgerPublicKey(e){if(!this.keyStore)throw new l.KeplrError("keyring",130,"Keystore is empty");if("ledger"!==this.keyStore.type)throw new Error("Keystore is not ledger");if(!this.ledgerPublicKeyCache)throw new l.KeplrError("keyring",150,"Ledger not initialized");const t=this.ledgerPublicKeyCache[e];if(t)return t;throw new l.KeplrError("keyring",901,"Please initialize ethereum app on ledger first")}initializeNonDefaultLedgerApp(e,t){var r,i;return o(this,void 0,void 0,(function*(){if(!this.keyStore)throw new l.KeplrError("keyring",130,"Keystore is empty");if("ledger"!==this.keyStore.type)throw new Error("Keystore is not ledger");if(!this.ledgerPublicKeyCache)throw new l.KeplrError("keyring",150,"Ledger not initialized");if(this.ledgerPublicKeyCache[t])throw new Error(`Ledger app (${t}) has been initialized`);const n=yield this.ledgerKeeper.getPublicKey(e,t,_.getKeyStoreBIP44Path(this.keyStore)),s=Object.assign(Object.assign({},this.ledgerPublicKeyCache),{[t]:n}),o=yield _.CreateLedgerKeyStore(this.crypto,this.keyStore.crypto.kdf,s,this.password,null!==(r=this.keyStore.meta)&&void 0!==r?r:{},null!==(i=this.keyStore.bip44HDPath)&&void 0!==i?i:{account:0,change:0,addressIndex:0});let a;if(this.multiKeyStore.forEach((e,t)=>{this.keyStore&&_.getKeyStoreId(this.keyStore)===_.getKeyStoreId(e)&&(a=t)}),void 0===a)throw new Error("Could not find keystore in keyring");return this.ledgerPublicKeyCache=s,this.keyStore=o,this.multiKeyStore[a]=o,this.save(),n}))}}t.KeyRing=_},317:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerSetWebHIDFlagMsg=t.LedgerGetWebHIDFlagMsg=void 0;const i=r(4),n=r(517);class s extends i.Message{static type(){return"ledger-get-webhid-flag"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return s.type()}}t.LedgerGetWebHIDFlagMsg=s;class o extends i.Message{constructor(e){super(),this.flag=e}static type(){return"ledger-set-webhid-flag"}validateBasic(){if(null==this.flag)throw new i.KeplrError("ledger",101,"Flag is null")}route(){return n.ROUTE}type(){return o.type()}}t.LedgerSetWebHIDFlagMsg=o},318:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignMode=void 0,function(e){e.Amino="amino",e.Direct="direct",e.Message="message"}(t.SignMode||(t.SignMode={}))},320:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_DESCRIPTION=t.ERROR_CODE=t.P2_VALUES=t.PAYLOAD_TYPE=t.INS=t.APP_KEY=t.CHUNK_SIZE=t.CLA=void 0,t.CLA=85,t.CHUNK_SIZE=250,t.APP_KEY="CSM",t.INS={GET_VERSION:0,INS_PUBLIC_KEY_SECP256K1:1,SIGN_SECP256K1:2,GET_ADDR_SECP256K1:4},t.PAYLOAD_TYPE={INIT:0,ADD:1,LAST:2},t.P2_VALUES={JSON:0,TEXTUAL:1},t.ERROR_CODE={NoError:36864},t.ERROR_DESCRIPTION={1:"U2F: Unknown",2:"U2F: Bad request",3:"U2F: Configuration unsupported",4:"U2F: Device Ineligible",5:"U2F: Timeout",14:"Timeout",36864:"No errors",36865:"Device is busy",26626:"Error deriving keys",25600:"Execution Error",26368:"Wrong Length",27010:"Empty Buffer",27011:"Output buffer too small",27012:"Data is invalid",27013:"Conditions not satisfied",27014:"Transaction rejected",27264:"Bad key handle",27392:"Invalid P1/P2",27904:"Instruction not supported",28160:"App does not seem to be open",28416:"Unknown error",28417:"Sign/verify error"}},357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetTxEncryptionKeyMsg=t.RequestDecryptMsg=t.ReqeustEncryptMsg=t.GetPubkeyMsg=void 0;const i=r(4),n=r(583);class s extends i.Message{constructor(e){super(),this.chainId=e}static type(){return"get-pubkey-msg"}validateBasic(){if(!this.chainId)throw new i.KeplrError("secret-wasm",100,"chain id not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return s.type()}}t.GetPubkeyMsg=s;class o extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.contractCodeHash=t,this.msg=r}static type(){return"request-encrypt-msg"}validateBasic(){if(!this.chainId)throw new i.KeplrError("secret-wasm",100,"chain id not set");if(!this.contractCodeHash)throw new i.KeplrError("secret-wasm",103,"contract code hash not set");if(!this.msg)throw new i.KeplrError("secret-wasm",101,"msg not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return o.type()}}t.ReqeustEncryptMsg=o;class a extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.cipherText=t,this.nonce=r}static type(){return"request-decrypt-msg"}validateBasic(){if(!this.chainId)throw new i.KeplrError("secret-wasm",100,"chain id not set");if(!this.cipherText||0===this.cipherText.length)throw new i.KeplrError("secret-wasm",102,"ciphertext not set");if(!this.nonce||0===this.nonce.length)throw new i.KeplrError("secret-wasm",110,"nonce not set")}approveExternal(){return!0}route(){return n.ROUTE}type(){return a.type()}}t.RequestDecryptMsg=a;class c extends i.Message{constructor(e,t){super(),this.chainId=e,this.nonce=t}static type(){return"get-tx-encryption-key-msg"}validateBasic(){if(!this.chainId)throw new i.KeplrError("secret-wasm",100,"chain id not set");if(!this.nonce)throw new i.KeplrError("secret-wasm",111,"nonce is null")}approveExternal(){return!0}route(){return n.ROUTE}type(){return c.type()}}t.GetTxEncryptionKeyMsg=c},358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendTxMsg=void 0;const i=r(4),n=r(585);class s extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.tx=t,this.mode=r}static type(){return"send-tx-to-background"}validateBasic(){if(!this.chainId)throw new i.KeplrError("tx",100,"chain id is empty");if(!this.tx)throw new i.KeplrError("tx",101,"tx is empty");if(!this.mode||"sync"!==this.mode&&"async"!==this.mode&&"block"!==this.mode)throw new i.KeplrError("tx",120,"invalid mode")}approveExternal(){return!0}route(){return n.ROUTE}type(){return s.type()}}t.SendTxMsg=s},359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResetChainEndpointsMsg=t.SetChainEndpointsMsg=t.TryUpdateChainMsg=void 0;const i=r(4),n=r(587);class s extends i.Message{constructor(e){super(),this.chainId=e}static type(){return"try-update-chain"}validateBasic(){if(!this.chainId)throw new i.KeplrError("updater",100,"Empty chain id")}route(){return n.ROUTE}type(){return s.type()}}t.TryUpdateChainMsg=s;class o extends i.Message{constructor(e,t,r){super(),this.chainId=e,this.rpc=t,this.rest=r}static type(){return"set-chain-endpoints"}validateBasic(){if(!this.chainId)throw new i.KeplrError("updater",100,"Empty chain id");if(this.rpc){const e=new URL(this.rpc);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error("RPC has invalid protocol: "+e.protocol)}if(this.rest){const e=new URL(this.rest);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error("LCD has invalid protocol: "+e.protocol)}}route(){return n.ROUTE}type(){return o.type()}}t.SetChainEndpointsMsg=o;class a extends i.Message{constructor(e){super(),this.chainId=e}static type(){return"reset-chain-endpoints"}validateBasic(){if(!this.chainId)throw new i.KeplrError("updater",100,"Empty chain id")}route(){return n.ROUTE}type(){return a.type()}}t.ResetChainEndpointsMsg=a},360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushEventDataMsg=t.PushInteractionDataMsg=void 0;const i=r(4),n=r(593);class s extends i.Message{constructor(e){super(),this.data=e}static type(){return"push-interaction-data"}validateBasic(){if(!this.data.type)throw new i.KeplrError("interaction",101,"Type should not be empty")}route(){return n.ROUTE}type(){return s.type()}}t.PushInteractionDataMsg=s;class o extends i.Message{constructor(e){super(),this.data=e}static type(){return"push-event-data"}validateBasic(){if(!this.data.type)throw new i.KeplrError("interaction",101,"Type should not be empty")}route(){return n.ROUTE}type(){return o.type()}}t.PushEventDataMsg=o},361:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RejectInteractionMsg=t.ApproveInteractionMsg=void 0;const i=r(4),n=r(594);class s extends i.Message{constructor(e,t){super(),this.id=e,this.result=t}static type(){return"approve-interaction"}validateBasic(){}route(){return n.ROUTE}type(){return s.type()}}t.ApproveInteractionMsg=s;class o extends i.Message{constructor(e){super(),this.id=e}static type(){return"reject-interaction"}validateBasic(){}route(){return n.ROUTE}type(){return o.type()}}t.RejectInteractionMsg=o},362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBadTwitterIdMsg=t.URLTempAllowMsg=t.CheckURLIsPhishingMsg=void 0;const i=r(4),n=r(597),s=r(596);class o extends i.Message{static type(){return"check-url-is-phishing"}constructor(){super()}validateBasic(){const e=new URL(this.origin);s.parseDomainUntilSecondLevel(e.origin)}approveExternal(){return!0}route(){return n.ROUTE}type(){return o.type()}}t.CheckURLIsPhishingMsg=o;class a extends i.Message{constructor(e){super(),this.url=e}static type(){return"url-temp-allow"}validateBasic(){const e=new URL(this.url);s.parseDomainUntilSecondLevel(e.origin)}route(){return n.ROUTE}type(){return a.type()}}t.URLTempAllowMsg=a;class c extends i.Message{constructor(e){super(),this.id=e}static type(){return"check-bad-twitter-id"}validateBasic(){}approveExternal(){return!0}route(){return n.ROUTE}type(){return c.type()}}t.CheckBadTwitterIdMsg=c},363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StartAutoLockMonitoringMsg=t.UpdateAutoLockAccountDurationMsg=t.GetAutoLockAccountDurationMsg=void 0;const i=r(4),n=r(599);class s extends i.Message{static type(){return"get-auto-lock-account-duration"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return s.type()}}t.GetAutoLockAccountDurationMsg=s;class o extends i.Message{constructor(e){super(),this.duration=e}static type(){return"update-auto-lock-account-duration"}validateBasic(){if(this.duration<0)throw new i.KeplrError("auto-lock-account",101,"duration cannot be set to a negative number.")}route(){return n.ROUTE}type(){return o.type()}}t.UpdateAutoLockAccountDurationMsg=o;class a extends i.Message{static type(){return"start-auto-lock-monitoring"}constructor(){super()}validateBasic(){}route(){return n.ROUTE}type(){return a.type()}}t.StartAutoLockMonitoringMsg=a},364:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetAnalyticsIdMsg=void 0;const i=r(4),n=r(601);class s extends i.Message{static type(){return"get-analytics-id"}constructor(){super()}validateBasic(){}approveExternal(){return!0}route(){return n.ROUTE}type(){return s.type()}}t.GetAnalyticsIdMsg=s},379:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(626),t),n(r(1417),t),n(r(1665),t),n(r(1666),t),n(r(1418),t),n(r(1667),t),n(r(1419),t),n(r(1420),t),n(r(1668),t),n(r(419),t),n(r(1669),t),n(r(1670),t),n(r(1671),t),n(r(1672),t)},419:function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.TxChainSetter=void 0;const n=r(7);class s{constructor(e,t){this.chainGetter=e,this._chainId=t,n.makeObservable(this)}get chainInfo(){return this.chainGetter.getChain(this.chainId)}get chainId(){return this._chainId}setChain(e){this._chainId=e}}i([n.observable],s.prototype,"_chainId",void 0),i([n.computed],s.prototype,"chainInfo",null),i([n.action],s.prototype,"setChain",null),t.TxChainSetter=s},423:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Bech32Address=void 0;const o=s(r(284)),a=r(2),c=r(370);class u{constructor(e){this.address=e}static shortenAddress(e,t){if(t>=e.length)return e;const r=e.indexOf("1"),i=e.slice(0,r),n=e.slice(r+1);if(t-=i.length,t-=3,(t-=1)<=0)return"";const s=Math.floor(n.length/2);let o=n.slice(0,s),a=n.slice(s);for(;t<o.length+a.length;)(o.length+a.length)%2==1&&o.length>0?o=o.slice(0,o.length-1):a=a.slice(1);return i+"1"+o+"..."+a}static fromBech32(e,t){const r=o.default.decode(e);if(t&&r.prefix!==t)throw new Error("Unmatched prefix");return new u(new Uint8Array(o.fromWords(r.words)))}static validate(e,t){const{prefix:r}=o.default.decode(e);if(t&&t!==r)throw new Error(`Unexpected prefix (expected: ${t}, actual: ${r})`)}static defaultBech32Config(e,t="val",r="cons",i="pub",n="oper"){return{bech32PrefixAccAddr:e,bech32PrefixAccPub:e+i,bech32PrefixValAddr:e+t+n,bech32PrefixValPub:e+t+n+i,bech32PrefixConsAddr:e+t+r,bech32PrefixConsPub:e+t+r+i}}toBech32(e){const t=o.default.toWords(this.address);return o.default.encode(e,t)}toHex(e=!0){const t=a.Buffer.from(this.address).toString("hex");if(0===t.length)throw new Error("Empty address");return e?c.getAddress("0x"+t):"0x"+t}}t.Bech32Address=u},424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChainIdHelper=void 0;class i{static parse(e){const t=e.split(i.VersionFormatRegExp).filter(Boolean);return 2!==t.length?{identifier:e,version:0}:{identifier:t[0],version:parseInt(t[1])}}static hasChainVersion(e){return i.parse(e).identifier!==e}}t.ChainIdHelper=i,i.VersionFormatRegExp=/(.+)-([\d]+)/},425:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProtoCodec=t.ProtoCodec=void 0;const s=r(669),o=r(670),a=r(750),c=r(671),u=r(673),d=r(674),h=r(675),l=r(429);n(r(429),t);class p{constructor(){this.typeUrlMap=new Map}unpackAny(e){if(!this.typeUrlMap.has(e.typeUrl))return new l.UnknownMessage(e.typeUrl,e.value);const t=this.typeUrlMap.get(e.typeUrl),r=t.decode(e.value);return Object.assign(Object.assign({},e),{unpacked:r,factory:t})}registerAny(e,t){this.typeUrlMap.set(e,t)}}t.ProtoCodec=p,t.defaultProtoCodec=new p,t.defaultProtoCodec.registerAny("/cosmos.bank.v1beta1.MsgSend",s.MsgSend),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgDelegate",o.MsgDelegate),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgUndelegate",o.MsgUndelegate),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgBeginRedelegate",o.MsgBeginRedelegate),t.defaultProtoCodec.registerAny("/cosmwasm.wasm.v1.MsgExecuteContract",d.MsgExecuteContract),t.defaultProtoCodec.registerAny("/cosmwasm.wasm.v1.MsgInstantiateContract",d.MsgInstantiateContract),t.defaultProtoCodec.registerAny("/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",u.MsgWithdrawDelegatorReward),t.defaultProtoCodec.registerAny("/ibc.applications.transfer.v1.MsgTransfer",h.MsgTransfer),t.defaultProtoCodec.registerAny("/cosmos.gov.v1beta1.MsgVote",c.MsgVote),t.defaultProtoCodec.registerAny("/cosmos.authz.v1beta1.MsgGrant",a.MsgGrant),t.defaultProtoCodec.registerAny("/cosmos.authz.v1beta1.MsgRevoke",a.MsgRevoke)},429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownMessage=void 0;const i=r(2);t.UnknownMessage=class{constructor(e,t){this._typeUrl=e,this._value=t}get typeUrl(){return this._typeUrl}get value(){return this._value}toJSON(){return{type_url:this._typeUrl,value:i.Buffer.from(this._value).toString("base64")}}}},430:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtoSignDocDecoder=void 0;const i=r(136),n=r(425);class s{constructor(e,t=n.defaultProtoCodec){this.signDoc=e,this.protoCodec=t}static decode(e){return new s(i.SignDoc.decode(e))}get txBody(){return this._txBody||(this._txBody=i.TxBody.decode(this.signDoc.bodyBytes)),this._txBody}get txMsgs(){const e=[];for(const t of this.txBody.messages)e.push(this.protoCodec.unpackAny(t));return e}get authInfo(){return this._authInfo||(this._authInfo=i.AuthInfo.decode(this.signDoc.authInfoBytes)),this._authInfo}get chainId(){return this.signDoc.chainId}get accountNumber(){return this.signDoc.accountNumber.toString()}toBytes(){return i.SignDoc.encode(this.signDoc).finish()}toJSON(){return{txBody:Object.assign(Object.assign({},i.TxBody.toJSON(this.txBody)),{messages:this.txMsgs.map(e=>{if(e){if(e instanceof n.UnknownMessage)return e.toJSON();if("factory"in e)return e.factory.toJSON(e.unpacked)}return e})}),authInfo:i.AuthInfo.toJSON(this.authInfo),chainId:this.chainId,accountNumber:this.accountNumber}}}t.ProtoSignDocDecoder=s},432:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(755),t)},433:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(756),t)},487:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=void 0;const i=r(140),n=r(1258),s=r(2);t.Hash=class{static sha256(e){return new Uint8Array((new i.sha256).update(e).digest())}static keccak256(e){return s.Buffer.from(n.keccak256(e).replace("0x",""),"hex")}static truncHashPortion(e,t=e.length,r=0){return e.substring(0,t)+"…"+e.substring(e.length-r,e.length)}}},497:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentMemoryService=void 0;t.PersistentMemoryService=class{constructor(){this.data={}}init(){}set(e){this.data=Object.assign(Object.assign({},this.data),e)}get(){return this.data}}},498:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="persistent-memory"},499:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainsService=void 0;const n=r(29),s=r(4),o=r(223),a=r(8),c=r(209),u=r(503);t.ChainsService=class{constructor(e,t,r={}){this.kvStore=e,this.embedChainInfos=t,this.experimentalOptions=r,this.onChainRemovedHandlers=[],this.getChainInfos=n.Debouncer.promise(()=>i(this,void 0,void 0,(function*(){if(this.cachedChainInfos)return this.cachedChainInfos;const e=this.embedChainInfos.map(e=>Object.assign(Object.assign({},e),{embeded:!0})),t=new Map;for(const r of e)t.set(a.ChainIdHelper.parse(r.chainId).identifier,!0);const r=(yield this.getSuggestedChainInfos()).filter(e=>!t.get(a.ChainIdHelper.parse(e.chainId).identifier)).map(e=>Object.assign(Object.assign({},e),{embeded:!1}));let n=e.concat(r);return n=yield Promise.all(n.map(e=>i(this,void 0,void 0,(function*(){const t=yield this.chainUpdaterService.replaceChainInfo(e);return Object.assign(Object.assign({},t),{embeded:e.embeded})})))),this.cachedChainInfos=n,n}))),(null==r?void 0:r.useMemoryKVStoreForSuggestChain)?this.kvStoreForSuggestChain=new n.MemoryKVStore("suggest-chain"):this.kvStoreForSuggestChain=e}init(e,t,r){this.chainUpdaterService=e,this.interactionService=t,this.permissionService=r}getChainInfosWithoutEndpoints(){return i(this,void 0,void 0,(function*(){return(yield this.getChainInfos()).map(e=>{const t=Object.assign({},e);return delete t.rpc,delete t.rpcConfig,delete t.rest,delete t.restConfig,delete t.nodeProvider,delete t.updateFromRepoDisabled,delete t.embeded,t})}))}clearCachedChainInfos(){this.cachedChainInfos=void 0}getChainInfo(e){return i(this,void 0,void 0,(function*(){const t=(yield this.getChainInfos()).find(t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e).identifier);if(!t)throw new s.KeplrError("chains",411,"There is no chain info for "+e);return t}))}getChainCoinType(e){return i(this,void 0,void 0,(function*(){const t=yield this.getChainInfo(e);if(!t)throw new s.KeplrError("chains",411,"There is no chain info for "+e);return t.bip44.coinType}))}hasChainInfo(e){return i(this,void 0,void 0,(function*(){return null!=(yield this.getChainInfos()).find(t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e).identifier)}))}suggestChainInfo(e,t,r){return i(this,void 0,void 0,(function*(){t=yield c.validateBasicChainInfoType(t);let i=yield this.interactionService.waitApprove(e,"/suggest-chain",o.SuggestChainInfoMsg.type(),{chainInfo:t,origin:r});i=Object.assign(Object.assign({},yield c.validateBasicChainInfoType(i)),{beta:t.beta,updateFromRepoDisabled:i.updateFromRepoDisabled}),i.updateFromRepoDisabled?console.log(`Chain ${i.chainName}(${i.chainId}) added with updateFromRepoDisabled`):console.log(`Chain ${i.chainName}(${i.chainId}) added`),yield this.permissionService.addPermission([t.chainId],u.getBasicAccessPermissionType(),[r]),yield this.addChainInfo(i)}))}getSuggestedChainInfos(){var e;return i(this,void 0,void 0,(function*(){return null!==(e=yield this.kvStoreForSuggestChain.get("chain-infos"))&&void 0!==e?e:[]}))}addChainInfo(e){var t;return i(this,void 0,void 0,(function*(){if(yield this.hasChainInfo(e.chainId))throw new s.KeplrError("chains",121,"Same chain is already registered");const r=null!==(t=yield this.kvStoreForSuggestChain.get("chain-infos"))&&void 0!==t?t:[];r.push(e),yield this.kvStoreForSuggestChain.set("chain-infos",r),this.clearCachedChainInfos()}))}removeChainInfo(e){var t;return i(this,void 0,void 0,(function*(){if(!(yield this.hasChainInfo(e)))throw new s.KeplrError("chains",120,"Chain is not registered");if((yield this.getChainInfo(e)).embeded)throw new s.KeplrError("chains",122,"Can't remove the embedded chain");const r=(null!==(t=yield this.kvStoreForSuggestChain.get("chain-infos"))&&void 0!==t?t:[]).filter(t=>a.ChainIdHelper.parse(t.chainId).identifier!==a.ChainIdHelper.parse(e).identifier);yield this.kvStoreForSuggestChain.set("chain-infos",r),yield this.chainUpdaterService.clearUpdatedProperty(e);for(const t of this.onChainRemovedHandlers)t(e,a.ChainIdHelper.parse(e).identifier);this.clearCachedChainInfos()}))}getChainEthereumKeyFeatures(e){var t,r,n,s;return i(this,void 0,void 0,(function*(){const i=yield this.getChainInfo(e);return{address:null!==(r=null===(t=i.features)||void 0===t?void 0:t.includes("eth-address-gen"))&&void 0!==r&&r,signing:null!==(s=null===(n=i.features)||void 0===n?void 0:n.includes("eth-key-sign"))&&void 0!==s&&s}}))}addChainRemovedHandler(e){this.onChainRemovedHandlers.push(e)}}},500:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="chains"},501:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainInfoSchema=t.SuggestingBIP44Schema=t.Bech32ConfigSchema=t.FeeCurrencySchema=t.Secret20CurrencySchema=t.CW20CurrencySchema=t.CurrencySchema=void 0;const n=r(502),s=i(r(50));t.CurrencySchema=s.default.object({coinDenom:s.default.string().required(),coinMinimalDenom:s.default.string().required(),coinDecimals:s.default.number().strict().integer().min(0).max(18).required(),coinGeckoId:s.default.string(),coinImageUrl:s.default.string().uri()}),t.CW20CurrencySchema=t.CurrencySchema.keys({type:s.default.string().equal("cw20").required(),contractAddress:s.default.string().required()}).custom(e=>e.coinMinimalDenom.startsWith(`${e.type}:${e.contractAddress}:`)?e:Object.assign(Object.assign({},e),{coinMinimalDenom:`${e.type}:${e.contractAddress}:`+e.coinMinimalDenom})),t.Secret20CurrencySchema=t.CurrencySchema.keys({type:s.default.string().equal("secret20").required(),contractAddress:s.default.string().required(),viewingKey:s.default.string().required()}).custom(e=>e.coinMinimalDenom.startsWith(`${e.type}:${e.contractAddress}:`)?e:Object.assign(Object.assign({},e),{coinMinimalDenom:`${e.type}:${e.contractAddress}:`+e.coinMinimalDenom}));const o=s.default.object({low:s.default.number().strict().required(),average:s.default.number().strict().required(),high:s.default.number().strict().required()}).custom(e=>{if(e.low>e.average)throw new Error("Low gas price step can not be greater than average");if(e.average>e.high)throw new Error("Average gas price step can not be greater than high");return e});t.FeeCurrencySchema=t.CurrencySchema.keys({gasPriceStep:o}),t.Bech32ConfigSchema=s.default.object({bech32PrefixAccAddr:s.default.string().required(),bech32PrefixAccPub:s.default.string().required(),bech32PrefixValAddr:s.default.string().required(),bech32PrefixValPub:s.default.string().required(),bech32PrefixConsAddr:s.default.string().required(),bech32PrefixConsPub:s.default.string().required()}),t.SuggestingBIP44Schema=s.default.object({coinType:s.default.number().strict().integer().min(0).required()}).unknown(!0),t.ChainInfoSchema=s.default.object({rpc:s.default.string().uri().custom(e=>{if(e.includes("?"))throw new Error("rpc should not have query string");return e}).required(),rest:s.default.string().uri().custom(e=>{if(e.includes("?"))throw new Error("rest should not have query string");return e}).required(),nodeProvider:s.default.object({name:s.default.string().min(1).max(30).required(),email:s.default.string().email({tlds:{allow:!1}}).required(),website:s.default.string().uri()}),chainId:s.default.string().required().min(1).max(30),chainName:s.default.string().required().min(1).max(30),stakeCurrency:t.CurrencySchema.required(),walletUrl:s.default.string().uri(),walletUrlForStaking:s.default.string().uri(),bip44:t.SuggestingBIP44Schema.required(),alternativeBIP44s:s.default.array().items(t.SuggestingBIP44Schema).custom(e=>{const t={};for(const r of e){if(t[r.coinType])throw new Error(`coin type ${r.coinType} is duplicated`);t[r.coinType]=!0}return e}),bech32Config:t.Bech32ConfigSchema.required(),currencies:s.default.array().min(1).items(t.CurrencySchema,t.CW20CurrencySchema,t.Secret20CurrencySchema).custom(e=>{const t={};for(const r of e){if(t[r.coinMinimalDenom])throw new Error(r.coinMinimalDenom+" is duplicated");t[r.coinMinimalDenom]=!0}return e}).required(),feeCurrencies:s.default.array().min(1).items(t.FeeCurrencySchema).custom(e=>{const t={};for(const r of e){if(t[r.coinMinimalDenom])throw new Error(r.coinMinimalDenom+" is duplicated");t[r.coinMinimalDenom]=!0}return e}).required(),coinType:s.default.number().strict().integer(),beta:s.default.boolean(),features:s.default.array().items(s.default.string().valid(...n.SupportedChainFeatures)).unique().custom(e=>{if(e.indexOf("cosmwasm")>=0&&e.indexOf("secretwasm")>=0)throw new Error("cosmwasm and secretwasm are not compatible");return e}),chainSymbolImageUrl:s.default.string().uri()}).custom(e=>{var t;if(null===(t=e.alternativeBIP44s)||void 0===t?void 0:t.find(t=>t.coinType===e.bip44.coinType))throw new Error(`coin type ${e.bip44.coinType} is duplicated`);return e})},502:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hasFeature=t.checkChainFeatures=t.NonRecognizableChainFeatures=t.RecognizableChainFeatures=t.RecognizableChainFeaturesMethod=t.SupportedChainFeatures=void 0;const s=n(r(62));t.SupportedChainFeatures=["stargate","cosmwasm","wasmd_0.24+","secretwasm","ibc-transfer","no-legacy-stdTx","ibc-go","eth-address-gen","eth-key-sign","query:/cosmos/bank/v1beta1/spendable_balances","axelar-evm-bridge","osmosis-txfees","terra-classic-fee"],t.RecognizableChainFeaturesMethod=[{feature:"ibc-go",fetch:(e,t,r)=>i(void 0,void 0,void 0,(function*(){return 200===(yield r.get("/ibc/apps/transfer/v1/params",{validateStatus:e=>200===e||501===e})).status}))},{feature:"ibc-transfer",fetch:(e,t,r)=>i(void 0,void 0,void 0,(function*(){const t=e.includes("ibc-go")?"/ibc/apps/transfer/v1/params":"/ibc/applications/transfer/v1beta1/params",i=yield r.get(t,{validateStatus:e=>200===e||501===e});return 200===i.status&&i.data.params.receive_enabled&&i.data.params.send_enabled}))},{feature:"wasmd_0.24+",fetch:(e,t,r)=>i(void 0,void 0,void 0,(function*(){if(e.includes("cosmwasm")){if(400===(yield r.get("/cosmwasm/wasm/v1/contract/test/smart/test",{validateStatus:e=>400===e||501===e})).status)return!0}return!1}))},{feature:"query:/cosmos/bank/v1beta1/spendable_balances",fetch:(e,t,r)=>i(void 0,void 0,void 0,(function*(){return 400===(yield r.get("/cosmos/bank/v1beta1/spendable_balances/test",{validateStatus:e=>400===e||501===e})).status}))}],t.RecognizableChainFeatures=t.RecognizableChainFeaturesMethod.map(e=>e.feature),t.NonRecognizableChainFeatures=(()=>{const e={};for(const r of t.RecognizableChainFeatures)e[r]=!0;const r=[];for(const i of t.SupportedChainFeatures)e[i]||r.push(i);return r})(),t.checkChainFeatures=function(e){var r,n;return i(this,void 0,void 0,(function*(){const i=[],o=null!==(n=null===(r=e.features)||void 0===r?void 0:r.slice())&&void 0!==n?n:[],a=s.default.create({baseURL:e.rpc}),c=s.default.create({baseURL:e.rest});for(const e of t.RecognizableChainFeaturesMethod)if(!o.includes(e.feature))try{(yield e.fetch(o,a,c))&&(i.push(e.feature),o.push(e.feature))}catch(t){console.log(`Failed to try to fetch feature (${e.feature}): ${t.message||t}`)}return i}))},t.hasFeature=function(e,r){var n,o,a;return i(this,void 0,void 0,(function*(){if(null===(n=e.features)||void 0===n?void 0:n.includes(r))return!0;const i=t.RecognizableChainFeaturesMethod.find(e=>e.feature===r);if(!i)throw new Error(r+" not exist on RecognizableChainFeaturesMethod");const c=s.default.create({baseURL:e.rpc}),u=s.default.create({baseURL:e.rest});return i.fetch(null!==(a=null===(o=e.features)||void 0===o?void 0:o.slice())&&void 0!==a?a:[],c,u)}))}},503:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(504),t),n(r(505),t),n(r(308),t)},504:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionService=void 0;const n=r(4),s=r(505),o=r(8);t.PermissionService=class{constructor(e,t){this.kvStore=e,this.globalPermissionMap={},this.permissionMap={},this.privilegedOrigins=new Map,this.onChainRemoved=e=>{this.removeAllPermissions(e)};for(const e of t)this.privilegedOrigins.set(e,!0);this.restore()}init(e,t,r){this.interactionService=e,this.chainsService=t,this.keyRingService=r,this.chainsService.addChainRemovedHandler(this.onChainRemoved)}checkOrGrantBasicAccessPermission(e,t,r){return i(this,void 0,void 0,(function*(){yield this.keyRingService.enable(e),"string"==typeof t&&(t=[t]);const i=[];for(const e of t)this.hasPermisson(e,s.getBasicAccessPermissionType(),r)||i.push(e);i.length>0&&(yield this.grantBasicAccessPermission(e,i,[r])),yield this.checkBasicAccessPermission(e,t,r)}))}disable(e,t,r){return i(this,void 0,void 0,(function*(){if(yield this.keyRingService.enable(e),"string"==typeof t&&(t=[t]),t.length>0)for(const e of t)yield this.removeAllTypePermissionToChainId(e,[r]);else yield this.removeAllTypePermission([r]),yield this.removeAllTypeGlobalPermission([r])}))}checkOrGrantPermission(e,t,r,n,s){return i(this,void 0,void 0,(function*(){yield this.keyRingService.enable(e);const i=[];for(const e of r)this.hasPermisson(e,n,s)||i.push(e);i.length>0&&(yield this.grantPermission(e,t,i,n,[s]));for(const t of r)this.checkPermission(e,t,n,s)}))}checkOrGrantGlobalPermission(e,t,r,n){return i(this,void 0,void 0,(function*(){yield this.keyRingService.enable(e),this.hasGlobalPermission(r,n)||(yield this.grantGlobalPermission(e,t,r,[n])),this.checkGlobalPermission(e,r,n)}))}grantPermission(e,t,r,n,o){return i(this,void 0,void 0,(function*(){if(e.isInternalMsg)return;const i={chainIds:r,type:n,origins:o};yield this.interactionService.waitApprove(e,t,s.INTERACTION_TYPE_PERMISSION,i),yield this.addPermission(r,n,o)}))}grantBasicAccessPermission(e,t,r){return i(this,void 0,void 0,(function*(){for(const e of t)yield this.chainsService.getChainInfo(e);yield this.grantPermission(e,"/access",t,s.getBasicAccessPermissionType(),r)}))}grantGlobalPermission(e,t,r,n){return i(this,void 0,void 0,(function*(){if(e.isInternalMsg)return;const i={type:r,origins:n};yield this.interactionService.waitApprove(e,t,s.INTERACTION_TYPE_GLOBAL_PERMISSION,i),yield this.addGlobalPermission(r,n)}))}checkPermission(e,t,r,i){if(!e.isInternalMsg&&!this.hasPermisson(t,r,i))throw new n.KeplrError("permission",130,i+" is not permitted")}checkBasicAccessPermission(e,t,r){return i(this,void 0,void 0,(function*(){for(const i of t)yield this.chainsService.getChainInfo(i),this.checkPermission(e,i,s.getBasicAccessPermissionType(),r)}))}checkGlobalPermission(e,t,r){if(!e.isInternalMsg&&!this.hasGlobalPermission(t,r))throw new n.KeplrError("permission",130,r+" is not permitted")}hasPermisson(e,t,r){if(this.privilegedOrigins.get(r))return!0;const i=this.permissionMap[o.ChainIdHelper.parse(e).identifier];if(!i)return!1;const n=i[t];return!(!n||!n[r])}hasGlobalPermission(e,t){if(this.privilegedOrigins.get(t))return!0;const r=this.globalPermissionMap[e];return!!r&&!!r[t]}getPermissionOrigins(e,t){const r=[],i=this.permissionMap[o.ChainIdHelper.parse(e).identifier];if(!i)return[];const n=i[t];if(!n)return[];for(const e of Object.keys(n))n[e]&&r.push(e);return r}getGlobalPermissionOrigins(e){const t=Object.assign({},this.globalPermissionMap[e]);return Object.keys(t).filter(e=>t[e])}getOriginPermittedChains(e,t){var r;const i=[];for(const n of Object.keys(this.permissionMap)){const s=this.permissionMap[n],o=null!==(r=s?s[t]:void 0)&&void 0!==r?r:{};for(const t of Object.keys(o))t===e&&o[t]&&i.push(n)}return i}addPermission(e,t,r){return i(this,void 0,void 0,(function*(){for(const i of e){let e=this.permissionMap[o.ChainIdHelper.parse(i).identifier];e||(e={},this.permissionMap[o.ChainIdHelper.parse(i).identifier]=e);let n=e[t];n||(n={},e[t]=n);for(const e of r)n[e]=!0}yield this.save()}))}addGlobalPermission(e,t){return i(this,void 0,void 0,(function*(){const r=Object.assign({},this.globalPermissionMap[e]);for(const e of t)r[e]=!0;this.globalPermissionMap[e]=r,yield this.save()}))}removePermission(e,t,r){return i(this,void 0,void 0,(function*(){const i=this.permissionMap[o.ChainIdHelper.parse(e).identifier];if(!i)return;const n=i[t];if(n){for(const e of r)delete n[e];yield this.save()}}))}removeAllTypePermission(e){return i(this,void 0,void 0,(function*(){for(const t of Object.keys(this.permissionMap)){const r=this.permissionMap[t];if(!r)return;for(const t of Object.keys(r)){const i=r[t];if(!i)return;for(const t of e)delete i[t]}}yield this.save()}))}removeAllTypePermissionToChainId(e,t){return i(this,void 0,void 0,(function*(){const r=this.permissionMap[o.ChainIdHelper.parse(e).identifier];if(r){for(const e of Object.keys(r)){const i=r[e];if(!i)return;for(const e of t)delete i[e]}yield this.save()}}))}removeGlobalPermission(e,t){return i(this,void 0,void 0,(function*(){const r=Object.assign({},this.globalPermissionMap[e]);for(const e of t)delete r[e];this.globalPermissionMap[e]=r,yield this.save()}))}removeAllTypeGlobalPermission(e){return i(this,void 0,void 0,(function*(){for(const t of Object.keys(this.globalPermissionMap)){const r=Object.assign({},this.globalPermissionMap[t]);for(const t of e)delete r[t];this.globalPermissionMap[t]=r}yield this.save()}))}removeAllPermissions(e){return i(this,void 0,void 0,(function*(){this.permissionMap[o.ChainIdHelper.parse(e).identifier]=void 0,yield this.save()}))}restore(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("permissionMap");e&&(this.permissionMap=e);const t=yield this.kvStore.get("globalPermissionMap");t&&(this.globalPermissionMap=t)}))}save(){return i(this,void 0,void 0,(function*(){yield this.kvStore.set("permissionMap",this.permissionMap),yield this.kvStore.set("globalPermissionMap",this.globalPermissionMap)}))}}},505:function(e,t,r){"use strict";function i(){return"basic-access"}Object.defineProperty(t,"__esModule",{value:!0}),t.isBasicAccessPermissionType=t.getBasicAccessPermissionType=t.INTERACTION_TYPE_GLOBAL_PERMISSION=t.INTERACTION_TYPE_PERMISSION=void 0,t.INTERACTION_TYPE_PERMISSION="permission",t.INTERACTION_TYPE_GLOBAL_PERMISSION="global_permission",t.getBasicAccessPermissionType=i,t.isBasicAccessPermissionType=function(e){return"basic-access"===e}},506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="permission"},507:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerService=void 0;const s=r(508),o=n(r(253)),a=r(4),c=r(2);t.LedgerService=class{constructor(e,t){var r;this.kvStore=e,this.options={defaultMode:t.defaultMode||"webusb",transportIniters:null!==(r=t.transportIniters)&&void 0!==r?r:{}},this.options.transportIniters.webusb||(this.options.transportIniters.webusb=s.LedgerWebUSBIniter),this.options.transportIniters.webhid||(this.options.transportIniters.webhid=s.LedgerWebHIDIniter)}init(e){this.interactionService=e}getPublicKey(e,t,r,n="Cosmos"){return i(this,void 0,void 0,(function*(){return yield this.useLedger(e,t,(e,n)=>i(this,void 0,void 0,(function*(){try{return yield e.getPublicKey(t,r)}finally{n>0&&this.interactionService.dispatchEvent(a.APP_PORT,"ledger-init",{event:"get-pubkey",success:!0})}})),n)}))}sign(e,t,r,n,o="Cosmos"){return i(this,void 0,void 0,(function*(){const u=s.LedgerApp.Cosmos;return yield this.useLedger(e,u,(e,s)=>i(this,void 0,void 0,(function*(){try{const i=yield e.getPublicKey(u,t);if(c.Buffer.from(r).toString("hex")!==c.Buffer.from(i).toString("hex"))throw new a.KeplrError("ledger",110,"Unmatched public key");const o=yield e.sign(t,n);return s>0&&this.interactionService.dispatchEvent(a.APP_PORT,"ledger-init",{event:"sign",success:!0}),o}catch(e){throw s>0&&this.interactionService.dispatchEvent(a.APP_PORT,"ledger-init",{event:"sign",success:!1}),e}})),o)}))}signEthereum(e,t,r,n,o){return i(this,void 0,void 0,(function*(){const u=s.LedgerApp.Ethereum;return yield this.useLedger(e,u,(e,s)=>i(this,void 0,void 0,(function*(){try{const i=yield e.getPublicKey(u,r);if(c.Buffer.from(n).toString("hex")!==c.Buffer.from(i).toString("hex"))throw new a.KeplrError("ledger",110,"Unmatched public key");const d=yield e.signEthereum(r,t,o);return s>0&&this.interactionService.dispatchEvent(a.APP_PORT,"ledger-init",{event:"sign",success:!0}),d}catch(e){throw s>0&&this.interactionService.dispatchEvent(a.APP_PORT,"ledger-init",{event:"sign",success:!1}),e}})))}))}useLedger(e,t,r,n="Cosmos"){return i(this,void 0,void 0,(function*(){let i;try{return i=yield this.initLedger(e,t,n),yield r(i.ledger,i.retryCount)}finally{i&&(yield i.ledger.close())}}))}initLedger(e,t,r="Cosmos"){return i(this,void 0,void 0,(function*(){this.previousInitAborter&&this.previousInitAborter(new Error("New ledger request occurred before the ledger was initialized"));const n=(()=>{let e;return{wait:()=>new Promise((t,r)=>{e=r}),abort:t=>{e&&e(t)}}})();this.previousInitAborter=n.abort;let c=0,u=[];for(;;){const d=yield this.getMode();try{const e=this.options.transportIniters[d];if(!e)throw new a.KeplrError("ledger",112,"Unknown mode: "+d);const i=yield s.Ledger.init(e,u,t,r);return this.previousInitAborter=void 0,{ledger:i,retryCount:c}}catch(s){console.log(s);const c=new AbortController;try{const s=[(()=>i(this,void 0,void 0,(function*(){const i=yield this.interactionService.waitApprove(e,"/ledger-grant","ledger-init",{event:"init-failed",ledgerApp:t,mode:d,cosmosLikeApp:r},{forceOpenWindow:!0,channel:"ledger"});if(null==i?void 0:i.abort)throw new a.KeplrError("ledger",120,"Ledger init aborted");(null==i?void 0:i.initArgs)&&(u=i.initArgs)})))()];s.push((()=>i(this,void 0,void 0,(function*(){let e=!1;try{yield o.default(3e5,{signal:c.signal})}catch(t){if("AbortError"!==t.name)throw t;e=!0}if(!e)throw this.interactionService.dispatchEvent(a.APP_PORT,"ledger-init",{event:"init-aborted",mode:d}),new a.KeplrError("ledger",121,"Ledger init timeout")})))()),s.push(n.wait()),"undefined"!=typeof browser&&s.push(this.testLedgerGrantUIOpened()),yield Promise.race(s)}finally{c.abort()}}c++}}))}testLedgerGrantUIOpened(){return i(this,void 0,void 0,(function*(){for(yield o.default(1e3);;){const e=browser.extension.getViews();let t=!1;for(const r of e)if(r.location.href.includes(browser.runtime.getURL("popup.html#/ledger-grant"))){t=!0;break}if(!t)throw new a.KeplrError("ledger",120,"Ledger init aborted");yield o.default(1e3)}}))}getMode(){return i(this,void 0,void 0,(function*(){return(yield this.getWebHIDFlag())?"webhid":this.options.defaultMode}))}getWebHIDFlag(){return i(this,void 0,void 0,(function*(){return!!(yield this.kvStore.get("webhid"))}))}setWebHIDFlag(e){return i(this,void 0,void 0,(function*(){yield this.kvStore.set("webhid",e)}))}}},508:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ledger=t.LedgerInitError=t.LedgerWebHIDIniter=t.LedgerWebUSBIniter=t.LedgerInitErrorOn=t.LedgerApp=void 0;const s=n(r(603)),o=n(r(644)),a=r(133),c=r(4),u=n(r(645)),d=r(98),h=r(186),l=r(48),p=r(2),f=r(519),g=r(273);var y,m;!function(e){e.Cosmos="cosmos",e.Ethereum="ethereum"}(y=t.LedgerApp||(t.LedgerApp={})),function(e){e[e.Transport=0]="Transport",e[e.App=1]="App",e[e.Unknown=2]="Unknown"}(m=t.LedgerInitErrorOn||(t.LedgerInitErrorOn={}));t.LedgerWebUSBIniter=()=>i(void 0,void 0,void 0,(function*(){return yield o.default.create()}));t.LedgerWebHIDIniter=()=>i(void 0,void 0,void 0,(function*(){return yield s.default.create()}));class v extends Error{constructor(e,t){super(t),this.errorOn=e,Object.setPrototypeOf(this,v.prototype)}}t.LedgerInitError=v;class b{constructor(e,t){this.cosmosApp=e,this.ethereumApp=t}static init(e,t=[],r,n){return i(this,void 0,void 0,(function*(){const i=yield e(...t);try{if(r===y.Ethereum){const e=new u.default(i);return yield e.getAddress("m/44'/60'/0'/0/0"),new b(void 0,e)}const e=new g.CosmosApp(n,i),t=new b(e,void 0);if((yield t.getVersion()).deviceLocked)throw new c.KeplrError("ledger",102,"Device is on screen saver");let s="";try{s=(yield e.getAppInfo()).app_name}catch(e){console.log(e)}if(s&&s!==n)throw new c.KeplrError("ledger",122,"Invalid cosmos app selected");return t}catch(e){if(i&&(yield i.close()),"Device is on screen saver"===e.message)throw new v(m.Transport,e.message);throw new v(m.App,e.message)}}))}getVersion(){var e;return i(this,void 0,void 0,(function*(){if(!this.cosmosApp)throw new c.KeplrError("ledger",100,"Cosmos App not initialized");const t=yield this.cosmosApp.getVersion();if("No errors"!==t.error_message)throw new Error(t.error_message);return{deviceLocked:null!==(e=t.device_locked)&&void 0!==e&&e,major:t.major,minor:t.minor,patch:t.patch,targetId:t.target_id,testMode:t.test_mode}}))}getPublicKey(e,t){return i(this,void 0,void 0,(function*(){if(e!==y.Ethereum){if(!this.cosmosApp)throw new c.KeplrError("ledger",100,"Cosmos App not initialized");const e=yield this.cosmosApp.getPublicKey(t.account,t.change,t.addressIndex);if("No errors"!==e.error_message)throw new Error(e.error_message);return e.compressed_pk}if(!this.ethereumApp)throw new c.KeplrError("ledger",100,"Ethereum App not initialized");try{const e=yield this.ethereumApp.getAddress(b.pathToString(b.createPath(60,t))),r=p.Buffer.from(e.publicKey,"hex");return a.publicKeyConvert(r,!0)}catch(e){throw new Error(e)}}))}sign(e,t){return i(this,void 0,void 0,(function*(){if(!this.cosmosApp)throw new c.KeplrError("ledger",100,"Cosmos App not initialized");const r=yield this.cosmosApp.sign(e.account,e.change,e.addressIndex,t);if("No errors"!==r.error_message)throw new Error(r.error_message);return a.signatureImport(r.signature)}))}signEthereum(e,t,r){return i(this,void 0,void 0,(function*(){if(!this.ethereumApp)throw new c.KeplrError("ledger",100,"Ethereum App not initialized");const i=b.pathToString(b.createPath(60,e));switch(t){case d.EthSignType.MESSAGE:{const e=yield this.ethereumApp.signPersonalMessage(i,p.Buffer.from(r).toString("hex"));return b.ethSignatureToBytes(e)}case d.EthSignType.TRANSACTION:{const e=JSON.parse(p.Buffer.from(r).toString()),t=l.serialize(e).replace("0x",""),n=yield this.ethereumApp.signTransaction(i,t),s=l.serialize(e,{r:"0x"+n.r,s:"0x"+n.s,v:parseInt(n.v,16)}).replace("0x","");return p.Buffer.from(s,"hex")}case d.EthSignType.EIP712:{const e=yield h.EIP712MessageValidator.validateAsync(JSON.parse(p.Buffer.from(r).toString()));return b.ethSignatureToBytes(yield this.ethereumApp.signEIP712HashedMessage(i,f.domainHash(e),f.messageHash(e)))}default:throw new Error("Unknown sign type: "+t)}}))}close(){return i(this,void 0,void 0,(function*(){this.cosmosApp&&(yield this.cosmosApp.transport.close()),this.ethereumApp&&(yield this.ethereumApp.transport.close())}))}static isWebHIDSupported(){return i(this,void 0,void 0,(function*(){return yield s.default.isSupported()}))}static createPath(e,t){return[44,e,t.account,t.change,t.addressIndex]}static pathToString(e){if(5!==e.length)throw new Error("Invalid path for bip44: "+e.join(","));let t="m",r=0;return e.forEach(e=>{t=t.concat("/"+e),r<3&&(t=t.concat("'")),r++}),t}static ethSignatureToBytes(e){const t=p.Buffer.from(e.r,"hex"),r=p.Buffer.from(e.s,"hex");if(32!==t.length||32!==r.length)throw new Error("Unable to process signature: malformed fields");if(!Number.isInteger(e.v))throw new Error("Unable to process signature: malformed fields");return p.Buffer.concat([t,r,p.Buffer.from([e.v])])}}t.Ledger=b},511:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingService=void 0;const s=r(316),o=r(8),a=r(318),c=r(29),u=r(98),d=r(4),h=r(136),l=n(r(25)),p=r(2),f=r(976),g=r(230),y=r(60),m=r(192);t.KeyRingService=class{constructor(e,t,r){this.kvStore=e,this.embedChainInfos=t,this.crypto=r,this.onChainRemoved=e=>{this.keyRing.removeAllKeyStoreCoinType(e)}}init(e,t,r,i,n){this.interactionService=e,this.chainsService=t,this.permissionService=r,this.keyRing=new s.KeyRing(this.embedChainInfos,this.kvStore,i,n,this.crypto),this.chainsService.addChainRemovedHandler(this.onChainRemoved)}restore(){return i(this,void 0,void 0,(function*(){return yield this.keyRing.restore(),{status:this.keyRing.status,multiKeyStoreInfo:this.keyRing.getMultiKeyStoreInfo()}}))}enable(e){return i(this,void 0,void 0,(function*(){if(this.keyRing.status===s.KeyRingStatus.EMPTY)throw new d.KeplrError("keyring",261,"key doesn't exist");return this.keyRing.status===s.KeyRingStatus.NOTLOADED&&(yield this.keyRing.restore()),this.keyRing.status===s.KeyRingStatus.LOCKED?(yield this.interactionService.waitApprove(e,"/unlock","unlock",{}),this.keyRing.status):this.keyRing.status}))}get keyRingStatus(){return this.keyRing.status}deleteKeyRing(e,t){return i(this,void 0,void 0,(function*(){let r=!1;try{const i=yield this.keyRing.deleteKeyRing(e,t);return r=i.keyStoreChanged,{multiKeyStoreInfo:i.multiKeyStoreInfo,status:this.keyRing.status}}finally{r&&this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{})}}))}updateNameKeyRing(e,t){return i(this,void 0,void 0,(function*(){return{multiKeyStoreInfo:yield this.keyRing.updateNameKeyRing(e,t)}}))}showKeyRing(e,t){return i(this,void 0,void 0,(function*(){return yield this.keyRing.showKeyRing(e,t)}))}createMnemonicKey(e,t,r,n,s){return i(this,void 0,void 0,(function*(){return yield this.keyRing.createMnemonicKey(e,t,r,n,s)}))}createPrivateKey(e,t,r,n){return i(this,void 0,void 0,(function*(){return yield this.keyRing.createPrivateKey(e,t,r,n)}))}createKeystoneKey(e,t,r,n,s){return i(this,void 0,void 0,(function*(){return yield this.keyRing.createKeystoneKey(e,t,r,n,s)}))}createLedgerKey(e,t,r,n,s,o){return i(this,void 0,void 0,(function*(){return yield this.keyRing.createLedgerKey(e,t,r,n,s,o)}))}lock(){return this.keyRing.lock(),this.keyRing.status}unlock(e){return i(this,void 0,void 0,(function*(){return yield this.keyRing.unlock(e),this.keyRing.status}))}getKey(e){return i(this,void 0,void 0,(function*(){const t=yield this.chainsService.getChainEthereumKeyFeatures(e);return(t.address||t.signing)&&this.keyRing.throwErrorIfEthermintWithLedgerButNotSupported(e),this.keyRing.getKey(e,yield this.chainsService.getChainCoinType(e),t.address)}))}getKeyStoreMeta(e){return this.keyRing.getKeyStoreMeta(e)}getKeyRingType(){return this.keyRing.type}requestSignAmino(e,t,r,n,s,u){return i(this,void 0,void 0,(function*(){s=Object.assign(Object.assign({},s),{memo:c.escapeHTML(s.memo)}),s=f.trimAminoSignDoc(s),s=c.sortObjectByKey(s);const i=yield this.chainsService.getChainCoinType(r),h=yield this.chainsService.getChainEthereumKeyFeatures(r);(h.address||h.signing)&&this.keyRing.throwErrorIfEthermintWithLedgerButNotSupported(r);const l=yield this.keyRing.getKey(r,i,h.address),g=(yield this.chainsService.getChainInfo(r)).bech32Config.bech32PrefixAccAddr,y=new o.Bech32Address(l.address).toBech32(g);if(n!==y)throw new d.KeplrError("keyring",231,"Signer mismatched");const m=o.checkAndValidateADR36AminoSignDoc(s,g);if(m&&s.msgs[0].value.signer!==n)throw new d.KeplrError("keyring",233,"Unmatched signer in sign doc");if(null!=u.isADR36WithString&&!m)throw new d.KeplrError("keyring",236,'Sign doc is not for ADR-36. But, "isADR36WithString" option is defined');if(u.ethSignType&&!m)throw new Error("Eth sign type can be requested with only ADR-36 amino sign doc");let v=yield this.interactionService.waitApprove(e,"/sign","request-sign",{msgOrigin:t,chainId:r,mode:"amino",signDoc:s,signer:n,signOptions:u,isADR36SignDoc:m,isADR36WithString:u.isADR36WithString,ethSignType:u.ethSignType});if(v=Object.assign(Object.assign({},v),{memo:c.escapeHTML(v.memo)}),m){if(!o.checkAndValidateADR36AminoSignDoc(s,g))throw new d.KeplrError("keyring",237,"Signing request was for ADR-36. But, accidentally, new sign doc is not for ADR-36");if(s.msgs[0].value.signer!==n)throw new d.KeplrError("keyring",232,"Unmatched signer in new sign doc")}if(u.ethSignType){if(1!==v.msgs.length)throw new Error("Invalid number of messages for Ethereum sign request");const t=p.Buffer.from(v.msgs[0].value.data,"base64");try{const n=yield this.keyRing.signEthereum(e,r,i,t,u.ethSignType);return{signed:v,signature:{pub_key:o.encodeSecp256k1Pubkey(l.pubKey),signature:p.Buffer.from(n).toString("base64")}}}finally{this.interactionService.dispatchEvent(d.APP_PORT,"request-sign-end",{})}}try{const t=yield this.keyRing.sign(e,r,i,o.serializeSignDoc(v),h.signing,a.SignMode.Amino);return{signed:v,signature:o.encodeSecp256k1Signature(l.pubKey,t)}}finally{this.interactionService.dispatchEvent(d.APP_PORT,"request-sign-end",{})}}))}requestSignEIP712CosmosTx_v0(e,t,r,n,s,a,h){return i(this,void 0,void 0,(function*(){a=Object.assign(Object.assign({},a),{memo:c.escapeHTML(a.memo)}),a=f.trimAminoSignDoc(a),a=c.sortObjectByKey(a);const i=yield this.chainsService.getChainCoinType(r),l=yield this.chainsService.getChainEthereumKeyFeatures(r);(l.address||l.signing)&&this.keyRing.throwErrorIfEthermintWithLedgerButNotSupported(r);const g=yield this.keyRing.getKey(r,i,l.address),y=(yield this.chainsService.getChainInfo(r)).bech32Config.bech32PrefixAccAddr,m=new o.Bech32Address(g.address).toBech32(y);if(n!==m)throw new d.KeplrError("keyring",231,"Signer mismatched");let v=yield this.interactionService.waitApprove(e,"/sign","request-sign",{msgOrigin:t,chainId:r,mode:"amino",signDoc:a,signer:n,signOptions:h,isADR36SignDoc:!1,ethSignType:u.EthSignType.EIP712});v=Object.assign(Object.assign({},v),{memo:c.escapeHTML(v.memo)});try{const t=yield this.keyRing.signEthereum(e,r,i,p.Buffer.from(JSON.stringify({types:s.types,domain:s.domain,primaryType:s.primaryType,message:v})),u.EthSignType.EIP712);return{signed:v,signature:{pub_key:o.encodeSecp256k1Pubkey(g.pubKey),signature:p.Buffer.from(t).toString("base64")}}}finally{this.interactionService.dispatchEvent(d.APP_PORT,"request-sign-end",{})}}))}requestSignDirect(e,t,r,n,s,c){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainCoinType(r),u=yield this.chainsService.getChainEthereumKeyFeatures(r);(u.address||u.signing)&&this.keyRing.throwErrorIfEthermintWithLedgerButNotSupported(r);const p=yield this.keyRing.getKey(r,i,u.address),f=new o.Bech32Address(p.address).toBech32((yield this.chainsService.getChainInfo(r)).bech32Config.bech32PrefixAccAddr);if(n!==f)throw new d.KeplrError("keyring",231,"Signer mismatched");const g=yield this.interactionService.waitApprove(e,"/sign","request-sign",{msgOrigin:t,chainId:r,mode:"direct",signDocBytes:h.SignDoc.encode(s).finish(),signer:n,signOptions:c}),y=h.SignDoc.decode(g);try{const t=yield this.keyRing.sign(e,r,i,g,u.signing,a.SignMode.Direct);return{signed:Object.assign(Object.assign({},y),{accountNumber:l.default.fromString(y.accountNumber)}),signature:o.encodeSecp256k1Signature(p.pubKey,t)}}finally{this.interactionService.dispatchEvent(d.APP_PORT,"request-sign-end",{})}}))}requestICNSAdr36Signatures(e,t,r,n,s,c){return i(this,void 0,void 0,(function*(){const i=[],u={chainId:t,owner:n,username:s,accountInfos:[]};{const e=yield this.chainsService.getChainInfo(t);o.Bech32Address.validate(r,e.bech32Config.bech32PrefixAccAddr);const i=yield this.getKey(t),s=new o.Bech32Address(i.address).toBech32(e.bech32Config.bech32PrefixAccAddr);if(s!==n)throw new Error(`Unmatched owner: (expected: ${s}, actual: ${n})`)}const d=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);for(const e of c){const t=yield this.chainsService.getChainInfo(e),r=yield this.getKey(e),i=new o.Bech32Address(r.address).toBech32(t.bech32Config.bech32PrefixAccAddr);u.accountInfos.push({chainId:t.chainId,bech32Prefix:t.bech32Config.bech32PrefixAccAddr,bech32Address:i,pubKey:r.pubKey})}yield this.interactionService.waitApprove(e,"/icns/adr36-signatures",g.RequestICNSAdr36SignaturesMsg.type(),u);const h=o.Bech32Address.fromBech32(n);for(const c of u.accountInfos)if(h.toHex(!1)!==o.Bech32Address.fromBech32(c.bech32Address).toHex(!1)){const u=`The following is the information for ICNS registration for ${s}.${c.bech32Prefix}.\n\nChain id: ${t}\nContract Address: ${r}\nOwner: ${n}\nSalt: ${d}`,h=o.makeADR36AminoSignDoc(c.bech32Address,u),l=yield this.chainsService.getChainCoinType(c.chainId),p=yield this.chainsService.getChainEthereumKeyFeatures(c.chainId),f=yield this.keyRing.sign(e,c.chainId,l,o.serializeSignDoc(h),p.signing,a.SignMode.Message).finally(()=>{"keystone"===this.keyRing.type&&m.closePopupWindow("default")});i.push({chainId:c.chainId,bech32Prefix:c.bech32Prefix,bech32Address:c.bech32Address,addressHash:p.signing?"ethereum":"cosmos",pubKey:new y.PubKeySecp256k1(c.pubKey).toBytes(p.signing),signatureSalt:d,signature:f})}else{const e=yield this.chainsService.getChainEthereumKeyFeatures(c.chainId);i.push({chainId:c.chainId,bech32Prefix:c.bech32Prefix,bech32Address:c.bech32Address,addressHash:e.signing?"ethereum":"cosmos",pubKey:new y.PubKeySecp256k1(c.pubKey).toBytes(e.signing),signatureSalt:0,signature:new Uint8Array(0)})}return i}))}verifyADR36AminoSignDoc(e,t,r,n){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainCoinType(e),s=yield this.chainsService.getChainEthereumKeyFeatures(e),a=yield this.keyRing.getKey(e,i,s.address),c=(yield this.chainsService.getChainInfo(e)).bech32Config.bech32PrefixAccAddr,u=new o.Bech32Address(a.address).toBech32(c);if(t!==u)throw new d.KeplrError("keyring",231,"Signer mismatched");if("tendermint/PubKeySecp256k1"!==n.pub_key.type)throw new d.KeplrError("keyring",211,"Unsupported type of pub key: "+n.pub_key.type);if(p.Buffer.from(a.pubKey).toString("base64")!==n.pub_key.value)throw new d.KeplrError("keyring",210,"Pub key unmatched");const h=o.makeADR36AminoSignDoc(t,r);return o.verifyADR36AminoSignDoc(c,h,p.Buffer.from(n.pub_key.value,"base64"),p.Buffer.from(n.signature,"base64"))}))}sign(e,t,r){return i(this,void 0,void 0,(function*(){return this.keyRing.sign(e,t,yield this.chainsService.getChainCoinType(t),r,(yield this.chainsService.getChainEthereumKeyFeatures(t)).signing)}))}addMnemonicKey(e,t,r,n){return i(this,void 0,void 0,(function*(){return this.keyRing.addMnemonicKey(e,t,r,n)}))}addPrivateKey(e,t,r){return i(this,void 0,void 0,(function*(){return this.keyRing.addPrivateKey(e,t,r)}))}addKeystoneKey(e,t,r,n){return i(this,void 0,void 0,(function*(){return this.keyRing.addKeystoneKey(e,t,r,n)}))}addLedgerKey(e,t,r,n,s){return i(this,void 0,void 0,(function*(){return this.keyRing.addLedgerKey(e,t,r,n,s)}))}changeKeyStoreFromMultiKeyStore(e){return i(this,void 0,void 0,(function*(){try{return yield this.keyRing.changeKeyStoreFromMultiKeyStore(e)}finally{this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{})}}))}checkPassword(e){return this.keyRing.checkPassword(e)}getMultiKeyStoreInfo(){return this.keyRing.getMultiKeyStoreInfo()}isKeyStoreCoinTypeSet(e){return this.keyRing.isKeyStoreCoinTypeSet(e)}setKeyStoreCoinType(e,t){return i(this,void 0,void 0,(function*(){const r=this.keyRing.computeKeyStoreCoinType(e,yield this.chainsService.getChainCoinType(e));yield this.keyRing.setKeyStoreCoinType(e,t),r!==t&&this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{})}))}getKeyStoreBIP44Selectables(e,t){return i(this,void 0,void 0,(function*(){if(this.isKeyStoreCoinTypeSet(e))return[];const r=[],i=yield this.chainsService.getChainInfo(e);for(const n of t){const t=yield this.keyRing.getKeyFromCoinType(n.coinType,(yield this.chainsService.getChainEthereumKeyFeatures(e)).address),s=new o.Bech32Address(t.address).toBech32(i.bech32Config.bech32PrefixAccAddr);r.push({path:n,bech32Address:s})}return r}))}exportKeyRingDatas(e){return i(this,void 0,void 0,(function*(){return yield this.keyRing.exportKeyRingDatas(e)}))}initializeNonDefaultLedgerApp(e,t){return i(this,void 0,void 0,(function*(){return yield this.keyRing.initializeNonDefaultLedgerApp(e,t)}))}changeKeyRingName(e,t,{defaultName:r,editable:n}){return i(this,void 0,void 0,(function*(){const i=yield this.interactionService.waitApprove(e,"/setting/keyring/change/name/"+t,"change-keyring-name",{defaultName:r,editable:n});return yield this.updateNameKeyRing(t,i),i}))}}},512:function(e,t){var r=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!=t)throw new TypeError("Bad key length")}},513:function(e,t,r){(function(t,r){var i;if(t.process&&t.process.browser)i="utf-8";else if(t.process&&t.process.version){i=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else i="utf-8";e.exports=i}).call(this,r(17),r(27))},514:function(e,t,r){var i=r(291),n=r(180),s=r(140),o=r(16).Buffer,a=r(512),c=r(513),u=r(515),d=o.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(e,t,r){var a=function(e){function t(t){return s(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new n).update(e).digest()}:"md5"===e?i:t}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=a(t):t.length<c&&(t=o.concat([t,d],c));for(var u=o.allocUnsafe(c+h[e]),l=o.allocUnsafe(c+h[e]),p=0;p<c;p++)u[p]=54^t[p],l[p]=92^t[p];var f=o.allocUnsafe(c+r+4);u.copy(f,0,0,c),this.ipad1=f,this.ipad2=u,this.opad=l,this.alg=e,this.blocksize=c,this.hash=a,this.size=h[e]}l.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,i,n){a(r,i);var s=new l(n=n||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),d=o.allocUnsafe(i),p=o.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);for(var f=0,g=h[n],y=Math.ceil(i/g),m=1;m<=y;m++){p.writeUInt32BE(m,t.length);for(var v=s.run(p,s.ipad1),b=v,w=1;w<r;w++){b=s.run(b,s.ipad2);for(var S=0;S<g;S++)v[S]^=b[S]}v.copy(d,f),f+=g}return d}},515:function(e,t,r){var i=r(16).Buffer;e.exports=function(e,t,r){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,t);if(ArrayBuffer.isView(e))return i.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},516:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(507),t),n(r(317),t),n(r(508),t)},517:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="ledger"},518:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EIP712MessageValidator=t.EIP712DomainTypeValidator=t.EIP712PropertyFieldValidator=void 0;const n=i(r(50));t.EIP712PropertyFieldValidator=n.default.object({name:n.default.string().min(1).required(),type:n.default.string().min(1).required()}),t.EIP712DomainTypeValidator=n.default.array().items(n.default.object({name:n.default.string().valid("name").required(),type:n.default.string().valid("string").required()}),n.default.object({name:n.default.string().valid("version").required(),type:n.default.string().valid("string").required()}),n.default.object({name:n.default.string().valid("chainId").required(),type:n.default.string().valid("uint256").required()}),n.default.object({name:n.default.string().valid("verifyingContract").required(),type:n.default.string().valid("address","string").required()}),n.default.object({name:n.default.string().valid("salt").required(),type:n.default.string().valid("bytes32","string").required()})).unique().min(1).custom(e=>{const t=["name","version","chainId","verifyingContract","salt"];return e.sort((e,r)=>t.indexOf(e.name)-t.indexOf(r.name))}),t.EIP712MessageValidator=n.default.object({types:n.default.object({EIP712Domain:t.EIP712DomainTypeValidator.required()}).unknown(!0).required(),primaryType:n.default.string().min(1).required(),domain:n.default.object().required(),message:n.default.object().required()})},519:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messageHash=t.domainHash=void 0;const i=r(208);t.domainHash=e=>i._TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:e.types.EIP712Domain},e.domain);t.messageHash=e=>i._TypedDataEncoder.from((()=>{const t=Object.assign({},e.types);delete t.EIP712Domain;const r=t[e.primaryType];if(!r)throw new Error("No matched primary type: "+e.primaryType);return delete t[e.primaryType],Object.assign({[e.primaryType]:r},t)})()).hash(e.message)},520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="keyring"},521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerError=t.AppHRP=t.AppCoinType=void 0,t.AppCoinType={Cosmos:118,Terra:330},t.AppHRP={Cosmos:"cosmos",Terra:"terra"};class i extends Error{constructor(e){super(e),this.name="LedgerError"}}t.LedgerError=i},522:function(e,t,r){"use strict";(function(e){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeystoneService=t.TYPE_KEYSTONE_SIGN=t.TYPE_KEYSTONE_GET_PUBKEY=void 0;const s=r(4),o=r(186),a=r(982),c=r(98),u=r(1022),d=r(556),h=r(48),l=r(133),p=n(r(342)),f=r(8);var g,y;t.TYPE_KEYSTONE_GET_PUBKEY="keystone-get-pubkey",t.TYPE_KEYSTONE_SIGN="keystone-sign",function(e){e.Amino="signAminoTransaction",e.Direct="signDirectTransaction",e.Message="signMessage"}(g||(g={})),function(e){e.Transaction="signTransaction",e.Message="signMessage",e.Data="signTypedData"}(y||(y={}));t.KeystoneService=class{constructor(e){this.kvStore=e}init(e){this.interactionService=e}getPubkey(e,r){return i(this,void 0,void 0,(function*(){const n=a.useKeystoneCosmosKeyring({readUR:()=>i(this,void 0,void 0,(function*(){const i=yield this.interactionService.waitApprove(e,"/keystone/import-pubkey",t.TYPE_KEYSTONE_GET_PUBKEY,{bip44HDPath:r},{forceOpenWindow:!0,channel:"keystone"});if(i.abort)throw new s.KeplrError("keystone",301,"The process has been canceled.");if(!i.publicKey||!i.publicKey.cbor||!i.publicKey.type)throw new s.KeplrError("keystone",302,"Public key is empty.");return i.publicKey}))});return yield n.readKeyring(),n.getKeyringData()}))}sign(r,n,c,u,d,h,l){return i(this,void 0,void 0,(function*(){let p,f;const y=a.useKeystoneCosmosKeyring({keyringData:d,playUR:e=>i(this,void 0,void 0,(function*(){(()=>{i(this,void 0,void 0,(function*(){try{const i=yield this.interactionService.waitApprove(r,"/keystone/sign",t.TYPE_KEYSTONE_SIGN,{coinType:n,bip44HDPath:c,ur:e,message:h});if(i.abort)throw new s.KeplrError("keystone",301,"The process has been canceled.");if(!i.signature)throw new s.KeplrError("keystone",303,"Signature is empty.");p(i.signature)}catch(e){f(e)}}))})()})),readUR:()=>new Promise((e,t)=>{p=e,f=t})}),m={[o.SignMode.Amino]:g.Amino,[o.SignMode.Direct]:g.Direct,[o.SignMode.Message]:g.Message}[l];return(yield y[m](e.from(u.pubKey).toString("hex"),h,[e.from(u.address).toString("hex")],"Keplr")).signature}))}signEthereum(r,n,o,a,g,m,v,b){return i(this,void 0,void 0,(function*(){let w,S;const _=u.useKeystoneEthereumKeyring({keyringData:m,playUR:e=>i(this,void 0,void 0,(function*(){(()=>{i(this,void 0,void 0,(function*(){try{const i=yield this.interactionService.waitApprove(r,"/keystone/sign",t.TYPE_KEYSTONE_SIGN,{coinType:n,bip44HDPath:a,ur:e,message:v});if(i.abort)throw new s.KeplrError("keystone",301,"The process has been canceled.");if(!i.signature)throw new s.KeplrError("keystone",303,"Signature is empty.");w(i.signature)}catch(e){S(e)}}))})()})),readUR:()=>new Promise((e,t)=>{w=e,S=t})}),k={[c.EthSignType.TRANSACTION]:y.Transaction,[c.EthSignType.MESSAGE]:y.Message,[c.EthSignType.EIP712]:y.Data}[b];let C="";if(b===c.EthSignType.TRANSACTION){const t=JSON.parse(e.from(v).toString()),r=+t.type;if(2===r)C=new d.FeeMarketEIP1559Transaction(t);else if(1===r)C=new d.AccessListEIP2930Transaction(t);else{const e=f.EthermintChainIdHelper.parse(o);C=new d.Transaction(t,{common:p.default.custom({chainId:e.ethChainId})})}}else b===c.EthSignType.MESSAGE?C=e.from(v).toString("hex"):b===c.EthSignType.EIP712&&(C=JSON.parse(e.from(v).toString()));const E=yield _[k](h.computeAddress(l.publicKeyConvert(g.pubKey,!1)),C);if(b===c.EthSignType.TRANSACTION){return E.serialize()}return e.from(E.replace(/^0x/,""),"hex")}))}}}).call(this,r(2).Buffer)},557:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretWasmService=void 0;const n=r(1114),s=r(60),o=r(29),a=r(8),c=r(4),u=r(2);t.SecretWasmService=class{constructor(e){this.kvStore=e,this.debouncerMap=new Map,this.cacheEnigmaUtils=new Map,this.onChainRemoved=()=>{this.cacheEnigmaUtils=new Map}}init(e,t,r){this.chainsService=e,this.keyRingService=t,this.permissionService=r,this.chainsService.addChainRemovedHandler(this.onChainRemoved)}getPubkey(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.chainsService.getChainInfo(t);if("none"===(yield this.keyRingService.getKeyRingType()))throw new c.KeplrError("secret-wasm",130,"Key ring is not initialized");const i=yield this.getSeed(e,r);return this.getEnigmaUtils(r,i).pubkey}))}getTxEncryptionKey(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainInfo(t);if("none"===(yield this.keyRingService.getKeyRingType()))throw new c.KeplrError("secret-wasm",130,"Key ring is not initialized");const n=yield this.getSeed(e,i);return this.getEnigmaUtils(i,n).getTxEncryptionKey(r)}))}encrypt(e,t,r,n){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainInfo(t);if("none"===(yield this.keyRingService.getKeyRingType()))throw new c.KeplrError("secret-wasm",130,"Key ring is not initialized");const s=yield this.getSeed(e,i),o=this.getEnigmaUtils(i,s);return yield o.encrypt(r,n)}))}decrypt(e,t,r,n){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainInfo(t);if("none"===(yield this.keyRingService.getKeyRingType()))throw new c.KeplrError("secret-wasm",130,"Key ring is not initialized");const s=yield this.getSeed(e,i),o=this.getEnigmaUtils(i,s);return yield o.decrypt(r,n)}))}getEnigmaUtils(e,t){const r=`${e.chainId}-${u.Buffer.from(t).toString("hex")}`;if(this.cacheEnigmaUtils.has(r))return this.cacheEnigmaUtils.get(r);const i=new n.EnigmaUtils(e.rest,t);return this.cacheEnigmaUtils.set(r,i),i}getSeed(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.keyRingService.getKey(t.chainId),i=new a.Bech32Address(r.address).toBech32(t.bech32Config.bech32PrefixAccAddr),n=`${e.isInternalMsg}/${t.chainId}/${i}`;this.debouncerMap.has(n)||this.debouncerMap.set(n,o.Debouncer.promise(this.getSeedInner.bind(this)));const s=this.debouncerMap.get(n);return yield s(e,t,i)}))}getSeedInner(e,t,r){return i(this,void 0,void 0,(function*(){const i=`seed-${t.chainId}-${r}`,n=yield this.kvStore.get(i);if(n)return u.Buffer.from(n,"hex");const o=s.Hash.sha256(u.Buffer.from(yield this.keyRingService.sign(e,t.chainId,u.Buffer.from(JSON.stringify({account_number:0,chain_id:t.chainId,fee:[],memo:"Create Keplr Secret encryption key. Only approve requests by Keplr.",msgs:[],sequence:0})))));return yield this.kvStore.set(i,u.Buffer.from(o).toString("hex")),o}))}}},583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="secret-wasm"},584:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundTxService=void 0;const s=n(r(62)),o=r(8),a=r(2);class c{constructor(e){this.notification=e}init(e,t){this.chainsService=e,this.permissionService=t}sendTx(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainInfo(e),n=s.default.create(Object.assign({baseURL:i.rest},i.restConfig));this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx is pending...",message:"Wait a second"});const u=a.Buffer.isBuffer(t)||t instanceof Uint8Array,d=u?{tx_bytes:a.Buffer.from(t).toString("base64"),mode:(()=>{switch(r){case"async":return"BROADCAST_MODE_ASYNC";case"block":return"BROADCAST_MODE_BLOCK";case"sync":return"BROADCAST_MODE_SYNC";default:return"BROADCAST_MODE_UNSPECIFIED"}})()}:{tx:t,mode:r};try{const e=yield n.post(u?"/cosmos/tx/v1beta1/txs":"/txs",d),t=u?e.data.tx_response:e.data;if(null!=t.code&&0!==t.code)throw new Error(t.raw_log);const r=a.Buffer.from(t.txhash,"hex"),s=new o.TendermintTxTracer(i.rpc,"/websocket");return s.traceTx(r).then(e=>{s.close(),c.processTxResultNotification(this.notification,e)}),r}catch(e){throw console.log(e),c.processTxErrorNotification(this.notification,e),e}}))}static processTxResultNotification(e,t){var r;try{if("commit"===t.mode){if(void 0!==t.checkTx.code&&0!==t.checkTx.code)throw new Error(t.checkTx.log);if(void 0!==t.deliverTx.code&&0!==t.deliverTx.code)throw new Error(t.deliverTx.log)}else if(null!=t.code&&0!==t.code){const e=null!==(r=t.log)&&void 0!==r?r:t.raw_log;throw new Error(e)}e.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx succeeds",message:"Congratulations!"})}catch(t){c.processTxErrorNotification(e,t)}}static processTxErrorNotification(e,t){console.log(t);let r=t.message;const i=/code:\s*(-?\d+),\s*message:\s*(.+),\sdata:\s(.+)/g.exec(t.message);i&&4===i.length&&(r=i[3]);try{const e=JSON.parse(t.message);(null==e?void 0:e.message)&&(r=e.message)}catch(e){}try{const e=JSON.parse(t.message);if(e&&e.length>0)for(const t of e)if(!t.success){const e=JSON.parse(t.log);if(null==e?void 0:e.message){r=e.message;break}}}catch(e){}e.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx failed",message:r})}}t.BackgroundTxService=c},585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="background-tx"},586:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainUpdaterService=void 0;const s=r(29),o=r(8),a=r(209),c=n(r(62));t.ChainUpdaterService=class{constructor(e,t){this.kvStore=e,this.communityChainInfoRepo=t}init(e){this.chainsService=e}replaceChainInfo(e){return i(this,void 0,void 0,(function*(){const t=o.ChainIdHelper.parse(e.chainId).identifier;let r=e;const i=yield this.kvStore.get("updated-chain-info/"+t);i&&(r=Object.assign(Object.assign({},i),{walletUrlForStaking:i.walletUrlForStaking||e.walletUrlForStaking,features:(()=>{var e,t;const n=null!==(e=r.features)&&void 0!==e?e:[];for(const e of null!==(t=i.features)&&void 0!==t?t:[])n.includes(e)||n.push(e);return n})(),beta:e.beta}));const n=yield this.kvStore.get(t);n&&(r=Object.assign(Object.assign({},r),{chainId:n.chainId||r.chainId,features:(()=>{var e;if(!n.features)return r.features;const t=null!==(e=r.features)&&void 0!==e?e:[];for(const e of n.features)t.includes(e)||t.push(e);return t})()})),118!==r.bip44.coinType&&60!==r.bip44.coinType&&(r=Object.assign(Object.assign({},r),{alternativeBIP44s:(()=>{var e;let t=null!==(e=r.alternativeBIP44s)&&void 0!==e?e:[];return t.find(e=>118===e.coinType)||(t=[...t,{coinType:118}]),t})()}));const s=yield this.getChainEndpoints(e.chainId);return Object.assign(Object.assign({},r),{rpc:s.rpc||r.rpc,rest:s.rest||r.rest})}))}tryUpdateChainInfo(e){var t;return i(this,void 0,void 0,(function*(){if((yield this.chainsService.getChainInfo(e)).updateFromRepoDisabled)return!1;try{const r=o.ChainIdHelper.parse(e).identifier;let i=!1;try{let t=(yield c.default.get(`/cosmos/${r}.json`,{baseURL:`https://raw.githubusercontent.com/${this.communityChainInfoRepo.organizationName}/${this.communityChainInfoRepo.repoName}/${this.communityChainInfoRepo.branchName}`})).data;const n=o.ChainIdHelper.parse(t.chainId).identifier;if(r!==n)return console.log(`The chainId is not valid.(${e} -> ${n})`),!1;const u=yield this.kvStore.get("updated-chain-info/"+r);u&&s.sortedJsonByKeyStringify(u)===s.sortedJsonByKeyStringify(t)||(i=!0,t=yield a.validateBasicChainInfoType(t),yield this.kvStore.set("updated-chain-info/"+r,t),this.chainsService.clearCachedChainInfos())}catch(e){console.log(e)}const n=yield this.chainsService.getChainInfo(e);let u=!1;const d=yield this.checkChainIdFromRPC(n.rpc);if(o.ChainIdHelper.parse(d).identifier!==r)throw new Error(`Chain id is different from rpc: (expected: ${e}, actual: ${d})`);if(n.chainId!==d){u=!0;const e=yield this.kvStore.get(r);yield this.kvStore.set(r,Object.assign(Object.assign({},e),{chainId:d}))}const h=yield a.checkChainFeatures(n),l=0!==h.length;if(l){const e=yield this.kvStore.get(r);yield this.kvStore.set(r,Object.assign(Object.assign({},e),{features:[...new Set([...h,...null!==(t=null==e?void 0:e.features)&&void 0!==t?t:[]])]}))}return(u||l)&&this.chainsService.clearCachedChainInfos(),i||u||l}catch(t){console.log("Failed to try to update chain info for "+e,t)}return!1}))}clearUpdatedProperty(e){return i(this,void 0,void 0,(function*(){yield this.kvStore.set(o.ChainIdHelper.parse(e).identifier,null),yield this.kvStore.set("updated-chain-info/"+o.ChainIdHelper.parse(e).identifier,null),this.chainsService.clearCachedChainInfos()}))}setChainEndpoints(e,t,r){return i(this,void 0,void 0,(function*(){return yield this.kvStore.set("chain-info-endpoints/"+o.ChainIdHelper.parse(e).identifier,{rpc:t,rest:r}),this.chainsService.clearCachedChainInfos(),yield this.chainsService.getChainInfos()}))}getChainEndpoints(e){return i(this,void 0,void 0,(function*(){const t=yield this.kvStore.get("chain-info-endpoints/"+o.ChainIdHelper.parse(e).identifier);return t||{rpc:void 0,rest:void 0}}))}resetChainEndpoints(e){return i(this,void 0,void 0,(function*(){return yield this.kvStore.set("chain-info-endpoints/"+o.ChainIdHelper.parse(e).identifier,null),this.chainsService.clearCachedChainInfos(),yield this.chainsService.getChainInfos()}))}checkChainIdFromRPC(e){return i(this,void 0,void 0,(function*(){return(yield c.default.get("/status",{baseURL:e})).data.result.node_info.network}))}}},587:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="chain-updator"},588:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TokensService=void 0;const n=r(4),s=r(209),o=r(8),a=r(186),c=r(2),u=r(238),d=r(590);class h{constructor(e){this.kvStore=e,this.onChainRemoved=e=>{this.clearTokens(e)}}init(e,t,r,i){this.interactionService=e,this.permissionService=t,this.chainsService=r,this.keyRingService=i,this.chainsService.addChainRemovedHandler(this.onChainRemoved)}suggestToken(e,t,r,n){return i(this,void 0,void 0,(function*(){const i=yield this.chainsService.getChainInfo(t),s=(yield this.getTokens(t)).find(e=>"contractAddress"in e&&e.contractAddress===r);if(s)return n?void("type"in s&&"secret20"===s.type&&(yield this.addToken(t,Object.assign(Object.assign({},s),{viewingKey:n})))):void 0;o.Bech32Address.validate(r,i.bech32Config.bech32PrefixAccAddr);const a={chainId:t,contractAddress:r,viewingKey:n},c=yield this.interactionService.waitApprove(e,"/setting/token/add",u.SuggestTokenMsg.type(),a);yield this.addToken(t,c)}))}addToken(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.chainsService.getChainInfo(e);t=yield h.validateCurrency(r,t);const i=yield this.getTokens(e),n="type"in t&&"secret20"===t.type;let s=!1;for(const e of i)if(t.coinMinimalDenom===e.coinMinimalDenom){if(!n)return;s=!0}if(n){const r=yield this.getTokensFromChainAndAccount(e);if(s){const i=r.findIndex(e=>e.coinMinimalDenom===t.coinMinimalDenom);i>=0&&(r[i]=t,yield this.saveTokensToChainAndAccount(e,r))}else r.push(t),yield this.saveTokensToChainAndAccount(e,r)}else{const r=yield this.getTokensFromChain(e);r.push(t),yield this.saveTokensToChain(e,r)}}))}removeToken(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.chainsService.getChainInfo(e);t=yield h.validateCurrency(r,t);const i=yield this.getTokens(e),n="type"in t&&"secret20"===t.type;let s=!1;for(const e of i)if(t.coinMinimalDenom===e.coinMinimalDenom){s=!0;break}if(s)if(n){const r=(yield this.getTokensFromChainAndAccount(e)).filter(e=>e.coinMinimalDenom!==t.coinMinimalDenom);yield this.saveTokensToChainAndAccount(e,r)}else{const r=(yield this.getTokensFromChain(e)).filter(e=>e.coinMinimalDenom!==t.coinMinimalDenom);yield this.saveTokensToChain(e,r)}}))}getTokens(e){var t,r;return i(this,void 0,void 0,(function*(){const i=o.ChainIdHelper.parse(e),n=null!==(t=yield this.kvStore.get(i.identifier))&&void 0!==t?t:[];let s=[];if(this.keyRingService.keyRingStatus===a.KeyRingStatus.UNLOCKED){const t=yield this.keyRingService.getKey(e);s=null!==(r=yield this.kvStore.get(`${i.identifier}-${c.Buffer.from(t.address).toString("hex")}`))&&void 0!==r?r:[]}return n.concat(s)}))}clearTokens(e){return i(this,void 0,void 0,(function*(){const t=o.ChainIdHelper.parse(e);yield this.kvStore.set(t.identifier,null);const r=yield this.getTokensToAccountReverse(e);for(const e of r)yield this.kvStore.set(`${t.identifier}-${e}`,null);yield this.setTokensToAccountReverse(e,[])}))}getTokensFromChain(e){var t;return i(this,void 0,void 0,(function*(){const r=o.ChainIdHelper.parse(e);return null!==(t=yield this.kvStore.get(r.identifier))&&void 0!==t?t:[]}))}saveTokensToChain(e,t){return i(this,void 0,void 0,(function*(){const r=o.ChainIdHelper.parse(e);yield this.kvStore.set(r.identifier,t)}))}getTokensFromChainAndAccount(e){var t;return i(this,void 0,void 0,(function*(){const r=o.ChainIdHelper.parse(e),i=yield this.keyRingService.getKey(e);return null!==(t=yield this.kvStore.get(`${r.identifier}-${c.Buffer.from(i.address).toString("hex")}`))&&void 0!==t?t:[]}))}saveTokensToChainAndAccount(e,t){return i(this,void 0,void 0,(function*(){const r=o.ChainIdHelper.parse(e),i=yield this.keyRingService.getKey(e),n=c.Buffer.from(i.address).toString("hex");yield this.kvStore.set(`${r.identifier}-${n}`,t),yield this.insertTokensToAccountReverse(e,n)}))}getTokensToAccountReverse(e){var t;return i(this,void 0,void 0,(function*(){const r=o.ChainIdHelper.parse(e);return null!==(t=yield this.kvStore.get(r.identifier+"-addresses"))&&void 0!==t?t:[]}))}setTokensToAccountReverse(e,t){return i(this,void 0,void 0,(function*(){const r=o.ChainIdHelper.parse(e);yield this.kvStore.set(r.identifier+"-addresses",t)}))}insertTokensToAccountReverse(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.getTokensToAccountReverse(e);r.indexOf(t)<0&&(r.push(t),yield this.setTokensToAccountReverse(e,r))}))}getSecret20ViewingKey(e,t){return i(this,void 0,void 0,(function*(){const r=yield this.getTokens(e);for(const e of r)if("type"in e&&"secret20"===e.type&&e.contractAddress===t)return e.viewingKey;throw new n.KeplrError("tokens",111,"There is no matched secret20")}))}checkOrGrantSecret20ViewingKeyPermission(e,t,r,n){return i(this,void 0,void 0,(function*(){yield this.getSecret20ViewingKey(t,r);const i=d.getSecret20ViewingKeyPermissionType(r);this.permissionService.hasPermisson(t,i,n)||(yield this.permissionService.grantPermission(e,"/access/viewing-key",[t],i,[n])),this.permissionService.checkPermission(e,t,i,n)}))}static validateCurrency(e,t){return i(this,void 0,void 0,(function*(){if("type"in t)switch(t.type){case"cw20":t=yield h.validateCW20Currency(e,t);break;case"secret20":t=yield h.validateSecret20Currency(e,t);break;default:throw new n.KeplrError("tokens",110,"Unknown type of currency")}else t=yield s.CurrencySchema.validateAsync(t);return t}))}static validateCW20Currency(e,t){return i(this,void 0,void 0,(function*(){return t=yield s.CW20CurrencySchema.validateAsync(t),o.Bech32Address.validate(t.contractAddress,e.bech32Config.bech32PrefixAccAddr),t}))}static validateSecret20Currency(e,t){return i(this,void 0,void 0,(function*(){return t=yield s.Secret20CurrencySchema.validateAsync(t),o.Bech32Address.validate(t.contractAddress,e.bech32Config.bech32PrefixAccAddr),t}))}}t.TokensService=h},589:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="tokens"},590:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitSecret20ViewingKeyPermissionType=t.isSecret20ViewingKeyPermissionType=t.getSecret20ViewingKeyPermissionType=void 0,t.getSecret20ViewingKeyPermissionType=function(e){return"viewing-key/"+e},t.isSecret20ViewingKeyPermissionType=function(e){return e.startsWith("viewing-key/")},t.splitSecret20ViewingKeyPermissionType=function(e){return e.replace("viewing-key/","")}},591:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionService=void 0;const n=r(4),s=r(592);t.InteractionService=class{constructor(e,t){this.eventMsgRequester=e,this.rng=t,this.waitingMap=new Map,this.resolverMap=new Map}init(){}dispatchEvent(e,t,r){if(!t)throw new n.KeplrError("interaction",101,"Type should not be empty");const i=new s.PushEventDataMsg({type:t,data:r});this.eventMsgRequester.sendMessage(e,i).catch(t=>{console.log(`Failed to send the event to ${e}: ${t.message}`)})}waitApprove(e,t,r,o,a){return i(this,void 0,void 0,(function*(){if(!r)throw new n.KeplrError("interaction",101,"Type should not be empty");const i=yield this.addDataToMap(r,e.isInternalMsg,o),c=new s.PushInteractionDataMsg(i);return yield this.wait(c.data.id,()=>{e.requestInteraction(t,c,a)})}))}wait(e,t){return i(this,void 0,void 0,(function*(){if(this.resolverMap.has(e))throw new n.KeplrError("interaction",100,"Id is aleady in use");return new Promise((r,i)=>{this.resolverMap.set(e,{onApprove:r,onReject:i}),t()})}))}approve(e,t){this.resolverMap.has(e)&&(this.resolverMap.get(e).onApprove(t),this.resolverMap.delete(e)),this.removeDataFromMap(e)}reject(e){this.resolverMap.has(e)&&(this.resolverMap.get(e).onReject(new Error("Request rejected")),this.resolverMap.delete(e)),this.removeDataFromMap(e)}addDataToMap(e,t,r){return i(this,void 0,void 0,(function*(){const i=new Uint8Array(12),s=Array.from(yield this.rng(i)).map(e=>{let t=e.toString(16);return 1===t.length&&(t="0"+t),t}).join(""),o={id:s,type:e,isInternal:t,data:r};if(this.waitingMap.has(s))throw new n.KeplrError("interaction",100,"Id is aleady in use");return this.waitingMap.set(s,o),o}))}removeDataFromMap(e){this.waitingMap.delete(e)}}},592:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1211),t),n(r(360),t),n(r(1212),t),n(r(1213),t)},593:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="interaction-foreground"},594:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="interaction"},595:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PhishingListService=void 0;const s=n(r(62)),o=r(596);class a{constructor(e,t){this.opts=e,this.handler=t,this._hasInited=!1,this._hasStopped=!1}get hasInited(){return this._hasInited}start(){this.fetch()}stop(){null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this._hasStopped=!0}fetch(){return i(this,void 0,void 0,(function*(){if(null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this._hasStopped)return;let e=!1;try{const e=yield s.default.get(this.opts.url);this.handler(e),this._hasInited=!0}catch(t){e=!0,console.log(t)}this._hasStopped||(this.timeoutId=setTimeout(()=>{this.fetch()},e?this.opts.retryIntervalMs:this.opts.fetchingIntervalMs))}))}}t.PhishingListService=class{constructor(e){this.opts=e,this.urlMap=new Map,this.allowedUrlMap=new Map,this.twitterMap=new Map,this.urlFetcher=new a(Object.assign(Object.assign({},this.opts),{url:this.opts.blockListUrl}),e=>{const t=e.data.split(/(\r?\n)|,|;|\s|\t/).filter(e=>null!=e).map(e=>e.trim()).filter(e=>e.length>0),r=new Map;for(const e of t)try{r.set(o.parseDomainUntilSecondLevel(e),!0)}catch(e){console.log(e)}this.urlMap=r}),this.opts.twitterListUrl&&(this.twitterFetcher=new a(Object.assign(Object.assign({},this.opts),{url:this.opts.twitterListUrl}),e=>{const t=e.data.split(/(\r?\n)|,|;|\s|\t/).filter(e=>null!=e).map(e=>e.trim()).filter(e=>e.length>0),r=new Map;for(const e of t)r.set(e.replace("@","").toLowerCase(),!0);this.twitterMap=r}))}init(){this.urlFetcher.start(),this.twitterFetcher&&this.twitterFetcher.start()}get hasInited(){return this.urlFetcher.hasInited&&(!this.twitterFetcher||this.twitterFetcher.hasInited)}stop(){this.urlFetcher.stop(),this.twitterFetcher&&this.twitterFetcher.stop()}checkURLIsPhishing(e){const t=o.parseDomainUntilSecondLevel(new URL(e).origin);if(!0===this.urlMap.get(t)){const e=this.allowedUrlMap.get(t);return!(e&&e+this.opts.allowTimeoutMs>=(new Date).getTime())}return!1}allowUrlTemp(e){const t=new URL(e);this.allowedUrlMap.set(o.parseDomainUntilSecondLevel(t.origin),(new Date).getTime())}checkBadTwitterId(e){return!0===this.twitterMap.get(e.replace("@","").toLowerCase())}}},596:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDomainUntilSecondLevel=void 0,t.parseDomainUntilSecondLevel=function(e){let t=e;t.match(/^[a-zA-Z0-9-]+:\/\/.+$/)&&(t=t.replace(/^[a-zA-Z0-9-]+:\/\//,""));const r=t.indexOf("/");r>=0&&(t=t.slice(0,r));const i=t.indexOf("?");i>=0&&(t=t.slice(0,i));const n=t.split(".").map(e=>e.trim()).filter(e=>e.length>0);if(n.length<2)throw new Error("Invalid domain: "+e);const s=n[n.length-1].indexOf(":");return s>=0&&(n[n.length-1]=n[n.length-1].slice(0,s)),n[n.length-2]+"."+n[n.length-1]}},597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="phishing-list"},598:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLockAccountService=void 0;const n=r(186);t.AutoLockAccountService=class{constructor(e,t={monitoringInterval:1e4}){this.kvStore=e,this.opts=t,this.autoLockDuration=0,this.appStateCheckTimer=null,this.autoLockTimer=null}init(e){return i(this,void 0,void 0,(function*(){this.keyringService=e,browser.idle.onStateChanged.addListener(e=>{this.stateChangedHandler(e)}),yield this.loadDuration()}))}stateChangedHandler(e){this.autoLockDuration>0&&"locked"===e&&(this.stopAppStateCheckTimer(),this.stopAutoLockTimer(),this.lock())}startAppStateCheckTimer(){this.stopAppStateCheckTimer(),this.autoLockDuration>0&&this.keyRingIsUnlocked&&(this.appStateCheckTimer=setTimeout(()=>{this.checkAppIsActive()?(this.stopAutoLockTimer(),this.startAppStateCheckTimer()):(this.keyRingIsUnlocked&&this.startAutoLockTimer(),this.stopAppStateCheckTimer())},this.opts.monitoringInterval))}stopAppStateCheckTimer(){null!=this.appStateCheckTimer&&(clearTimeout(this.appStateCheckTimer),this.appStateCheckTimer=null)}checkAppIsActive(){const e=browser.extension.getBackgroundPage(),t=browser.extension.getViews();if(e){for(const r of t)if(e.location.href!==r.location.href)return!0}else if(t.length>0)return!0;return!1}startAutoLockTimer(){if(!this.keyRingIsUnlocked)throw new Error("Keyring is not unlocked");this.autoLockDuration<=0||(this.autoLockTimer=setTimeout(()=>{this.stopAppStateCheckTimer(),this.stopAutoLockTimer(),this.lock()},this.autoLockDuration))}stopAutoLockTimer(){null!=this.autoLockTimer&&(clearTimeout(this.autoLockTimer),this.autoLockTimer=null)}lock(){if(this.keyRingIsUnlocked){this.keyringService.lock();const e=browser.extension.getBackgroundPage(),t=browser.extension.getViews();for(const r of t)e&&e.location.href===r.location.href||r.close()}}get keyRingIsUnlocked(){if(null==this.keyringService)throw new Error("Keyring service is null");return this.keyringService.keyRingStatus===n.KeyRingStatus.UNLOCKED}getAutoLockDuration(){return this.autoLockDuration}setDuration(e){return this.autoLockDuration=e,e<=0&&(this.stopAppStateCheckTimer(),this.stopAutoLockTimer()),this.kvStore.set("autoLockDuration",e)}loadDuration(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("autoLockDuration");this.autoLockDuration=null==e?0:e}))}}},599:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="auto-lock-account"},60:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(764),t),n(r(827),t),n(r(487),t)},600:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsService=void 0;t.AnalyticsService=class{constructor(e,t,r){this.kvStore=e,this.rng=t,this.privilegedOrigins=r,this.analyticsId=""}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("analyticsId");if(e)return void(this.analyticsId=e);const t=new Uint8Array(20),r=Array.from(yield this.rng(t)).map(e=>{let t=e.toString(16);return 1===t.length&&(t="0"+t),t}).join("");this.analyticsId=r,yield this.kvStore.set("analyticsId",r)}))}getAnalyticsIdOnlyIfPrivileged(e,t){return i(this,void 0,void 0,(function*(){if(!e.isInternalMsg&&!this.privilegedOrigins.includes(t))throw new Error("Rejected");return this.analyticsId}))}}},601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="analytics"},604:function(e,t,r){t.pbkdf2=r(974),t.pbkdf2Sync=r(514)},61:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const a=s(r(925)),c=s(r(928)),u=s(r(933)),d=s(r(981)),h=s(r(1110)),l=s(r(1113)),p=s(r(1201)),f=s(r(1204)),g=s(r(1207)),y=s(r(1210)),m=s(r(1217)),v=s(r(1220)),b=s(r(1223)),w=s(r(1226));o(r(1229),t),o(r(1230),t),o(r(516),t),o(r(1232),t),o(r(186),t),o(r(1233),t),o(r(1234),t),o(r(1236),t),o(r(1237),t),o(r(1238),t),o(r(503),t),o(r(1240),t),o(r(1241),t),o(r(1242),t),t.init=function(e,t,r,i,n,s,o,S,_,k={},C={}){var E;const M=new y.InteractionService(r,S.rng),P=new a.PersistentMemoryService,O=new m.PermissionService(t("permission"),n),I=new f.ChainUpdaterService(t("updator"),o),K=new g.TokensService(t("tokens")),A=new c.ChainsService(t("chains"),i,{useMemoryKVStoreForSuggestChain:null===(E=C.suggestChain)||void 0===E?void 0:E.useMemoryKVStore}),R=new u.LedgerService(t("ledger"),k),T=new d.KeystoneService(t("keystone")),x=new h.KeyRingService(t("keyring"),i,S),D=new l.SecretWasmService(t("secretwasm")),j=new p.BackgroundTxService(_),B=new v.PhishingListService({blockListUrl:"https://raw.githubusercontent.com/chainapsis/phishing-block-list/main/block-list.txt",twitterListUrl:"https://raw.githubusercontent.com/chainapsis/phishing-block-list/main/twitter-scammer-list.txt",fetchingIntervalMs:108e5,retryIntervalMs:6e5,allowTimeoutMs:6e5}),U=new b.AutoLockAccountService(t("auto-lock-account")),N=new w.AnalyticsService(t("background.analytics"),S.rng,s);P.init(),O.init(M,A,x),I.init(A),K.init(M,O,A,x),A.init(I,M,O),R.init(M),T.init(M),x.init(M,A,O,R,T),D.init(A,x,O),j.init(A,O),B.init(),U.init(x),N.init(),y.init(e,M),a.init(e,P),m.init(e,O),f.init(e,I),g.init(e,K),c.init(e,A),u.init(e,R),h.init(e,x),l.init(e,D),p.init(e,j),v.init(e,B),b.init(e,U),w.init(e,N)}},626:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoSuspectMnemonicInclusion=t.InvalidHexError=t.UnknownCurrencyError=t.InsufficientFeeError=t.NotLoadedFeeError=t.InsufficientAmountError=t.NegativeAmountError=t.ZeroAmountError=t.InvalidNumberAmountError=t.EmptyAmountError=t.ICNSFailedToFetchError=t.ICNSIsFetchingError=t.InvalidBech32Error=t.EmptyAddressError=void 0;class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}t.EmptyAddressError=i;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.InvalidBech32Error=n;class s extends Error{constructor(e){super(e),Object.setPrototypeOf(this,s.prototype)}}t.ICNSIsFetchingError=s;class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}t.ICNSFailedToFetchError=o;class a extends Error{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}t.EmptyAmountError=a;class c extends Error{constructor(e){super(e),Object.setPrototypeOf(this,c.prototype)}}t.InvalidNumberAmountError=c;class u extends Error{constructor(e){super(e),Object.setPrototypeOf(this,u.prototype)}}t.ZeroAmountError=u;class d extends Error{constructor(e){super(e),Object.setPrototypeOf(this,d.prototype)}}t.NegativeAmountError=d;class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,h.prototype)}}t.InsufficientAmountError=h;class l extends Error{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}}t.NotLoadedFeeError=l;class p extends Error{constructor(e){super(e),Object.setPrototypeOf(this,p.prototype)}}t.InsufficientFeeError=p;class f extends Error{constructor(e){super(e),Object.setPrototypeOf(this,f.prototype)}}t.UnknownCurrencyError=f;class g extends Error{constructor(e){super(e),Object.setPrototypeOf(this,g.prototype)}}t.InvalidHexError=g;class y extends Error{constructor(e){super(e),Object.setPrototypeOf(this,y.prototype)}}t.MemoSuspectMnemonicInclusion=y},65:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1661),t),n(r(379),t),n(r(1673),t),n(r(1674),t),n(r(1767),t),n(r(1770),t)},722:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAccount=void 0;const n=r(32);class s{constructor(e,t,r,i){this.type=e,this.address=t,this.accountNumber=r,this.sequence=i}static fetchFromRest(e,t,r=!1){return i(this,void 0,void 0,(function*(){const i=yield e.get("/cosmos/auth/v1beta1/accounts/"+t,{validateStatus:function(e){return e>=200&&e<300||404===e}});return s.fromProtoJSON(i.data,r?t:"")}))}static fromProtoJSON(e,t=""){if(!e.account){if(!t)throw new Error("Account's address is unknown: "+JSON.stringify(e));return new s("",t,new n.Int(0),new n.Int(0))}let r=e.account;const i=r["@type"]||"",o=r.BaseAccount||r.baseAccount||r.base_account;o&&(r=o);const a=r.account;a&&(r=a);const c=r.BaseVestingAccount||r.baseVestingAccount||r.base_vesting_account;if(c){r=c;const e=r.BaseAccount||r.baseAccount||r.base_account;e&&(r=e)}let u=r.address;if(!u){if(!t)throw new Error("Account's address is unknown: "+JSON.stringify(e));u=t}const d=r.account_number,h=r.sequence;return new s(i,u,new n.Int(d||"0"),new n.Int(h||"0"))}getType(){return this.type}getAddress(){return this.address}getAccountNumber(){return this.accountNumber}getSequence(){return this.sequence}}t.BaseAccount=s},724:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(424),t),n(r(725),t)},725:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthermintChainIdHelper=void 0;const i=r(424);t.EthermintChainIdHelper=class{static parse(e){const t=i.ChainIdHelper.parse(e);if(e.startsWith("injective")){return["injective-777","injective-888"].includes(e)?Object.assign({ethChainId:5},t):Object.assign({ethChainId:1},t)}const r=e.match("^([a-z]{1,})_{1}([1-9][0-9]*)-{1}([1-9][0-9]*)$");if(!r||4!==r.length||""===r[1]||Number.isNaN(parseFloat(r[2]))||!Number.isInteger(parseFloat(r[2])))throw new Error("Invalid chainId for ethermint: "+e);return Object.assign(Object.assign({},t),{ethChainId:parseFloat(r[2])})}}},726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TendermintTxTracer=void 0;const i=r(727),n=r(2);t.TendermintTxTracer=class{constructor(e,t,r={}){this.url=e,this.wsEndpoint=t,this.options=r,this.newBlockSubscribes=[],this.txSubscribes=new Map,this.pendingQueries=new Map,this.listeners={},this.onOpen=e=>{var t;this.newBlockSubscribes.length>0&&this.sendSubscribeBlockRpc();for(const[e,t]of this.txSubscribes)this.sendSubscribeTxRpc(e,t.hash);for(const[e,t]of this.pendingQueries)this.sendQueryRpc(e,t.method,t.params);for(const r of null!==(t=this.listeners.open)&&void 0!==t?t:[])r(e)},this.onMessage=e=>{var t,r,i,n,s,o;for(const r of null!==(t=this.listeners.message)&&void 0!==t?t:[])r(e);if(e.data)try{const t=JSON.parse(e.data);if((null==t?void 0:t.id)&&this.pendingQueries.has(t.id)&&(t.error?this.pendingQueries.get(t.id).rejector(new Error(t.error.data||t.error.message)):(null===(r=t.result)||void 0===r?void 0:r.tx_result)?this.pendingQueries.get(t.id).resolver(t.result.tx_result):this.pendingQueries.get(t.id).resolver(t.result),this.pendingQueries.delete(t.id)),"tendermint/event/NewBlock"===(null===(n=null===(i=null==t?void 0:t.result)||void 0===i?void 0:i.data)||void 0===n?void 0:n.type))for(const e of this.newBlockSubscribes)e.handler(t.result.data.value);"tendermint/event/Tx"===(null===(o=null===(s=null==t?void 0:t.result)||void 0===s?void 0:s.data)||void 0===o?void 0:o.type)&&(null==t?void 0:t.id)&&this.txSubscribes.has(t.id)&&(t.error?this.txSubscribes.get(t.id).rejector(new Error(t.error.data||t.error.message)):this.txSubscribes.get(t.id).resolver(t.result.data.value.TxResult.result),this.txSubscribes.delete(t.id))}catch(e){console.log("Tendermint websocket jsonrpc response is not JSON: "+(e.message||e.toString()))}},this.onClose=e=>{var t;for(const r of null!==(t=this.listeners.close)&&void 0!==t?t:[])r(e)},this.ws=this.options.wsObject?new this.options.wsObject(this.getWsEndpoint()):new WebSocket(this.getWsEndpoint()),this.ws.onopen=this.onOpen,this.ws.onmessage=this.onMessage,this.ws.onclose=this.onClose}getWsEndpoint(){let e=this.url;if(e.startsWith("http")&&(e=e.replace("http","ws")),!e.endsWith(this.wsEndpoint)){const t=this.wsEndpoint.startsWith("/")?this.wsEndpoint:"/"+this.wsEndpoint;e=e.endsWith("/")?e+t.slice(1):e+t}return e}close(){this.ws.close()}get readyState(){switch(this.ws.readyState){case 0:return i.WsReadyState.CONNECTING;case 1:return i.WsReadyState.OPEN;case 2:return i.WsReadyState.CLOSING;case 3:return i.WsReadyState.CLOSED;default:return i.WsReadyState.NONE}}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}subscribeBlock(e){this.newBlockSubscribes.push({handler:e}),1===this.newBlockSubscribes.length&&this.sendSubscribeBlockRpc()}sendSubscribeBlockRpc(){this.readyState===i.WsReadyState.OPEN&&this.ws.send(JSON.stringify({jsonrpc:"2.0",method:"subscribe",params:["tm.event='NewBlock'"],id:1}))}traceTx(e){return new Promise(t=>{this.queryTx(e).then(t).catch(()=>{}),this.subscribeTx(e).then(t)}).then(e=>new Promise(t=>{setTimeout(()=>t(e),100)}))}subscribeTx(e){const t=this.createRandomId();return new Promise((r,i)=>{this.txSubscribes.set(t,{hash:e,resolver:r,rejector:i}),this.sendSubscribeTxRpc(t,e)})}sendSubscribeTxRpc(e,t){this.readyState===i.WsReadyState.OPEN&&this.ws.send(JSON.stringify({jsonrpc:"2.0",method:"subscribe",params:[`tm.event='Tx' AND tx.hash='${n.Buffer.from(t).toString("hex").toUpperCase()}'`],id:e}))}queryTx(e){return this.query("tx",[n.Buffer.from(e).toString("base64"),!1])}query(e,t){const r=this.createRandomId();return new Promise((i,n)=>{this.pendingQueries.set(r,{method:e,params:t,resolver:i,rejector:n}),this.sendQueryRpc(r,e,t)})}sendQueryRpc(e,t,r){this.readyState===i.WsReadyState.OPEN&&this.ws.send(JSON.stringify({jsonrpc:"2.0",method:t,params:r,id:e}))}createRandomId(){return parseInt(Array.from({length:6}).map(()=>Math.floor(100*Math.random())).join(""))}}},727:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WsReadyState=void 0,function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.NONE=4]="NONE"}(t.WsReadyState||(t.WsReadyState={}))},728:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(425),t),n(r(430),t),n(r(754),t)},754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignDocWrapper=void 0;const i=r(430),n=r(136),s=r(432);class o{constructor(e){this.signDoc=e,this.mode="msgs"in e?"amino":"direct","amino"===this.mode?this.isADR36SignDoc=s.checkAndValidateADR36AminoSignDoc(this.aminoSignDoc):this.isADR36SignDoc=!1}static fromAminoSignDoc(e){return new o(e)}static fromDirectSignDoc(e){return new o(e)}static fromDirectSignDocBytes(e){return new o(n.SignDoc.decode(e))}clone(){return new o(this.signDoc)}get protoSignDoc(){if("amino"===this.mode)throw new Error("Sign doc is encoded as Amino Json");if("msgs"in this.signDoc)throw new Error("Unexpected error");return this._protoSignDoc||(this._protoSignDoc=new i.ProtoSignDocDecoder(this.signDoc)),this._protoSignDoc}get aminoSignDoc(){if("direct"===this.mode)throw new Error("Sign doc is encoded as Protobuf");if(!("msgs"in this.signDoc))throw new Error("Unexpected error");return this.signDoc}get chainId(){return"direct"===this.mode?this.protoSignDoc.chainId:this.aminoSignDoc.chain_id}get memo(){return"direct"===this.mode?this.protoSignDoc.txBody.memo:this.aminoSignDoc.memo}get fees(){var e,t;if("direct"===this.mode){const r=[];for(const i of null!==(t=null===(e=this.protoSignDoc.authInfo.fee)||void 0===e?void 0:e.amount)&&void 0!==t?t:[]){if(null==i.denom||null==i.amount)throw new Error("Invalid fee");r.push({denom:i.denom,amount:i.amount})}return r}return this.aminoSignDoc.fee.amount}get gas(){var e;return"direct"===this.mode?(null===(e=this.protoSignDoc.authInfo.fee)||void 0===e?void 0:e.gasLimit)?parseInt(this.protoSignDoc.authInfo.fee.gasLimit):0:parseInt(this.aminoSignDoc.fee.gas)}}t.SignDocWrapper=o},755:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyADR36Amino=t.verifyADR36AminoSignDoc=t.makeADR36AminoSignDoc=t.checkAndValidateADR36AminoSignDoc=void 0;const i=r(433),n=r(423),s=r(2),o=r(60);function a(e,t){if(!(()=>{if(e&&e.msgs&&Array.isArray(e.msgs)&&1===e.msgs.length){return"sign/MsgSignData"===e.msgs[0].type}return!1})())return!1;if(""!==e.chain_id)throw new Error("Chain id should be empty string for ADR-36 signing");if(""!==e.memo)throw new Error("Memo should be empty string for ADR-36 signing");if("0"!==e.account_number)throw new Error('Account number should be "0" for ADR-36 signing');if("0"!==e.sequence)throw new Error('Sequence should be "0" for ADR-36 signing');if("0"!==e.fee.gas)throw new Error('Gas should be "0" for ADR-36 signing');if(0!==e.fee.amount.length)throw new Error("Fee amount should be empty array for ADR-36 signing");const r=e.msgs[0];if("sign/MsgSignData"!==r.type)throw new Error("Invalid type of ADR-36 sign msg: "+r.type);if(!r.value)throw new Error("Empty value in the msg");const i=r.value.signer;if(!i)throw new Error("Empty signer in the ADR-36 msg");n.Bech32Address.validate(i,t);const o=r.value.data;if(!o)throw new Error("Empty data in the ADR-36 msg");const a=s.Buffer.from(o,"base64");if(a.toString("base64")!==o)throw new Error("Data is not encoded by base64");if(0===a.length)throw new Error("Empty data in the ADR-36 msg");return!0}function c(e,t){return{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:e,data:t=s.Buffer.from(t).toString("base64")}}],memo:""}}function u(e,t,r,s){if(!a(t,e))throw new Error("Invalid sign doc for ADR-36");const c=new o.PubKeySecp256k1(r);if(new n.Bech32Address(c.getAddress()).toBech32(e)!==t.msgs[0].value.signer)throw new Error("Unmatched signer");const u=i.serializeSignDoc(t);return c.verify(u,s)}t.checkAndValidateADR36AminoSignDoc=a,t.makeADR36AminoSignDoc=c,t.verifyADR36AminoSignDoc=u,t.verifyADR36Amino=function(e,t,r,i,n){return u(e,c(t,r),i,n)}},756:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeSignDoc=t.encodeSecp256k1Signature=t.encodeSecp256k1Pubkey=void 0;const i=r(2),n=r(29);function s(e){if(33!==e.length||2!==e[0]&&3!==e[0])throw new Error("Public key must be compressed secp256k1, i.e. 33 bytes starting with 0x02 or 0x03");return{type:"tendermint/PubKeySecp256k1",value:i.Buffer.from(e).toString("base64")}}t.encodeSecp256k1Pubkey=s,t.encodeSecp256k1Signature=function(e,t){if(64!==t.length)throw new Error("Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.");return{pub_key:s(e),signature:i.Buffer.from(t).toString("base64")}},t.serializeSignDoc=function(e){return i.Buffer.from(n.sortedJsonByKeyStringify(e))}},757:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(758),t),n(r(759),t),n(r(285),t),n(r(760),t),n(r(761),t),n(r(762),t)},758:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},759:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionKVStore=void 0;const i=r(285);class n extends i.BaseKVStore{constructor(e){if(n.KVStoreProvider||("undefined"==typeof browser?console.log("You should use ExtensionKVStore on the extension environment."):browser.storage&&browser.storage.local?n.KVStoreProvider={get:browser.storage.local.get,set:browser.storage.local.set}:console.log("The 'browser' exists, but it doesn't seem to be an extension environment. This can happen in Safari browser.")),!n.KVStoreProvider)throw new Error("Can't initialize kv store for browser extension");super(n.KVStoreProvider,e)}}t.ExtensionKVStore=n},760:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKVStore=void 0;const i=r(285);class n{constructor(){this.store={}}get(){return Promise.resolve(this.store)}set(e){return this.store=Object.assign(Object.assign({},this.store),e),Promise.resolve()}}class s extends i.BaseKVStore{constructor(e){super(new n,e)}}t.MemoryKVStore=s},761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalKVStore=void 0;t.LocalKVStore=class{constructor(e){this._prefix=e}get(e){const t=this.prefix()+"/"+e,r=localStorage.getItem(t);return null===r?Promise.resolve(void 0):Promise.resolve(JSON.parse(r))}set(e,t){const r=this.prefix()+"/"+e;return null===t?Promise.resolve(localStorage.removeItem(r)):Promise.resolve(localStorage.setItem(r,JSON.stringify(t)))}prefix(){return this._prefix}}},762:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDBKVStore=void 0;t.IndexedDBKVStore=class{constructor(e){this._prefix=e}get(e){return i(this,void 0,void 0,(function*(){const t=(yield this.getDB()).transaction([this.prefix()],"readonly").objectStore(this.prefix());return new Promise((r,i)=>{const n=t.get(e);n.onerror=e=>{e.stopPropagation(),i(e.target)},n.onsuccess=()=>{n.result?r(n.result.data):r(void 0)}})}))}set(e,t){return i(this,void 0,void 0,(function*(){if(null===t){const t=(yield this.getDB()).transaction([this.prefix()],"readwrite").objectStore(this.prefix());return new Promise((r,i)=>{const n=t.delete(e);n.onerror=e=>{e.stopPropagation(),i(e.target)},n.onsuccess=()=>{r()}})}{const r=(yield this.getDB()).transaction([this.prefix()],"readwrite").objectStore(this.prefix());return new Promise((i,n)=>{const s=r.put({key:e,data:t});s.onerror=e=>{e.stopPropagation(),n(e.target)},s.onsuccess=()=>{i()}})}}))}prefix(){return this._prefix}getDB(){return i(this,void 0,void 0,(function*(){return this.cachedDB?this.cachedDB:new Promise((e,t)=>{const r=window.indexedDB.open(this.prefix());r.onerror=e=>{e.stopPropagation(),t(e.target)},r.onupgradeneeded=e=>{e.target.result.createObjectStore(this.prefix(),{keyPath:"key"})},r.onsuccess=()=>{this.cachedDB=r.result,e(r.result)}})}))}}},763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DenomHelper=void 0;const i=r(2),n=r(60);t.DenomHelper=class{constructor(e){this._denom=e;const t=this.denom.split(/(\w+):(\w+):(.+)/).filter(Boolean);if(1!==t.length&&3!==t.length)throw new Error("Invalid denom: "+this.denom);this._type=3===t.length?t[0]:"",this._contractAddress=3===t.length?t[1]:""}static ibcDenom(e,t){const r=[];for(const t of e)r.push(`${t.portId}/${t.channelId}`);const s=`${r.join("/")}/${t}`;return"ibc/"+i.Buffer.from(n.Hash.sha256(i.Buffer.from(s))).toString("hex").toUpperCase()}get denom(){return this._denom}get type(){return this._type||"native"}get contractAddress(){return this._contractAddress}}},764:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Mnemonic=void 0;const n=r(198),s=r(797),o=r(152),a=r(2);class c{static generateWallet(e,t="m/44'/118'/0'/0/0",r="",n=256){return i(this,void 0,void 0,(function*(){const i=yield c.generateSeed(e,n);return{privKey:c.generateWalletFromMnemonic(i,t,r),mnemonic:i}}))}static validateMnemonic(e){return n.validateMnemonic(e)}static generateSeed(e,t=128){return i(this,void 0,void 0,(function*(){if(t%32!=0)throw new TypeError("invalid entropy");let r=new Uint8Array(t/8);return r=yield e(r),n.entropyToMnemonic(a.Buffer.from(r).toString("hex"))}))}static generateWalletFromMnemonic(e,t="m/44'/118'/0'/0/0",r=""){const i=n.mnemonicToSeedSync(e,r),o=s.fromSeed(i).derivePath(t).privateKey;if(!o)throw new Error("null hd key");return o}static generateMasterSeedFromMnemonic(e,t=""){const r=n.mnemonicToSeedSync(e,t),i=s.fromSeed(r);return a.Buffer.from(o.decode(i.toBase58()))}static generatePrivateKeyFromMasterSeed(e,t="m/44'/118'/0'/0/0"){const r=s.fromBase58(o.encode(e)).derivePath(t).privateKey;if(!r)throw new Error("null hd key");return r}}t.Mnemonic=c},8:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(722),t),n(r(423),t),n(r(724),t),n(r(726),t),n(r(728),t),n(r(432),t),n(r(433),t)},827:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PubKeySecp256k1=t.PrivKeySecp256k1=void 0;const n=r(126),s=i(r(828)),o=r(2),a=r(487);class c{constructor(e){this.privKey=e}static generateRandomKey(){const e=new n.ec("secp256k1");return new c(o.Buffer.from(e.genKeyPair().getPrivate().toArray()))}toBytes(){return new Uint8Array(this.privKey)}getPubKey(){const e=new n.ec("secp256k1").keyFromPrivate(this.privKey);return new u(new Uint8Array(e.getPublic().encodeCompressed("array")))}sign(e){return this.signDigest32(a.Hash.sha256(e))}signDigest32(e){if(32!==e.length)throw new Error("Invalid length of digest to sign: "+e.length);const t=new n.ec("secp256k1").keyFromPrivate(this.privKey).sign(e,{canonical:!0});return new Uint8Array(t.r.toArray("be",32).concat(t.s.toArray("be",32)))}}t.PrivKeySecp256k1=c;class u{constructor(e){this.pubKey=e}toBytes(e){if(e){const e=this.toKeyPair();return new Uint8Array(o.Buffer.from(e.getPublic().encode("hex",!1),"hex"))}return new Uint8Array(this.pubKey)}getAddress(){let e=s.default.SHA256(s.default.lib.WordArray.create(this.pubKey)).toString();return e=s.default.RIPEMD160(s.default.enc.Hex.parse(e)).toString(),new Uint8Array(o.Buffer.from(e,"hex"))}getEthAddress(){return a.Hash.keccak256(this.toBytes(!0).slice(1)).slice(-20)}toKeyPair(){return new n.ec("secp256k1").keyFromPublic(o.Buffer.from(this.pubKey).toString("hex"),"hex")}verify(e,t){return this.verifyDigest32(a.Hash.sha256(e),t)}verifyDigest32(e,t){if(32!==e.length)throw new Error("Invalid length of digest to verify: "+e.length);if(64!==t.length)throw new Error("Invalid length of signature: "+t.length);const r=new n.ec("secp256k1"),i=t.slice(0,32),s=t.slice(32);return r.verify(e,{r:o.Buffer.from(i).toString("hex"),s:o.Buffer.from(s).toString("hex")},this.toKeyPair())}}t.PubKeySecp256k1=u},899:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toGenerator=void 0,t.toGenerator=function*(e){return yield e}},900:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(901),t)},901:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Debouncer=void 0;t.Debouncer=class{static promise(e){let t;return(...r)=>i(this,void 0,void 0,(function*(){if(t)return t;try{return t=e.apply(this,r),yield t}finally{t=void 0}}))}}},902:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeHTML=t.escapeHTML=void 0,t.escapeHTML=function(e){return e.replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/&/g,"\\u0026")},t.unescapeHTML=function(e){return e.replace(/\\u003c/g,"<").replace(/\\u003e/g,">").replace(/\\u0026/g,"&")}},903:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(904),t)},904:function(e,t,r){"use strict";function i(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(i);const t=Object.keys(e).sort(),r={};return t.forEach(t=>{r[t]=i(e[t])}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.sortedJsonByKeyStringify=t.sortObjectByKey=void 0,t.sortObjectByKey=i,t.sortedJsonByKeyStringify=function(e){return JSON.stringify(i(e))}},905:function(e,t,r){"use strict";function i(e){const t=e.split(".");if(2===t.length&&t[0].length>0&&t[1].length>0)return[t[0],t[1]]}Object.defineProperty(t,"__esModule",{value:!0}),t.validateICNSName=t.parseICNSName=void 0,t.parseICNSName=i,t.validateICNSName=function(e,t){const r=i(e);return!!r&&r[1]===t}},925:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(497),t),n(r(926),t)},926:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(307),n=r(498),s=r(927);t.init=function(e,t){e.registerMessage(i.SetPersistentMemoryMsg),e.registerMessage(i.GetPersistentMemoryMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},927:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=r(307);t.getHandler=e=>(t,r)=>{switch(r.constructor){case i.SetPersistentMemoryMsg:return n(e)(t,r);case i.GetPersistentMemoryMsg:return e.get();default:throw new Error("Unknown msg type")}};const n=e=>(t,r)=>(e.set(r.data),{success:!0})},928:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(499),t),n(r(931),t)},929:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.validateBasicChainInfoType=void 0;const n=r(501);t.validateBasicChainInfoType=function(e,t=!0){return i(this,void 0,void 0,(function*(){return yield n.ChainInfoSchema.validateAsync(e,{stripUnknown:t})}))}},930:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkRestConnectivity=t.checkRPCConnectivity=t.DifferentChainVersionError=void 0;const s=n(r(62)),o=r(8);class a extends Error{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}t.DifferentChainVersionError=a,t.checkRPCConnectivity=function(e,t,r){return i(this,void 0,void 0,(function*(){const i=s.default.create({baseURL:t});let n;try{n=yield i.get("/status")}catch(e){throw console.log(e),new Error("Failed to get response /status from rpc endpoint")}const c=o.ChainIdHelper.parse(e),u=o.ChainIdHelper.parse(n.data.result.node_info.network);if(u.identifier!==c.identifier)throw new Error(`RPC endpoint has different chain id (expected: ${e}, actual: ${n.data.result.node_info.network})`);if(u.version!==c.version)throw new a(`RPC endpoint has different chain id (expected: ${e}, actual: ${n.data.result.node_info.network})`);let d=t;d.startsWith("http")&&(d=d.replace("http","ws")),d=d.endsWith("/")?d+"websocket":d+"/websocket";const h=r?r(d):new WebSocket(d);h.onerror=()=>{};let l=!1;for(let e=0;e<15;e++){if(0!==h.readyState){if(1===h.readyState){l=!0;break}throw new Error("Failed to connect websocket to /websocket rpc")}yield new Promise(e=>setTimeout(e,1e3))}if(h.close(),!l)throw new Error("Failed to connect websocket to /websocket rpc")}))},t.checkRestConnectivity=function(e,t){return i(this,void 0,void 0,(function*(){const r=s.default.create({baseURL:t});let i;try{i=yield r.get("/cosmos/base/tendermint/v1beta1/node_info")}catch(e){throw console.log(e),new Error("Failed to get response /cosmos/base/tendermint/v1beta1/node_info from lcd endpoint")}const n=o.ChainIdHelper.parse(e),c=o.ChainIdHelper.parse(i.data.default_node_info.network);if(c.identifier!==n.identifier)throw new Error(`LCD endpoint has different chain id (expected: ${e}, actual: ${i.data.default_node_info.network})`);if(c.version!==n.version)throw new a(`LCD endpoint has different chain id (expected: ${e}, actual: ${i.data.default_node_info.network})`)}))}},931:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(223),n=r(500),s=r(932);t.init=function(e,t){e.registerMessage(i.GetChainInfosMsg),e.registerMessage(i.GetChainInfosWithoutEndpointsMsg),e.registerMessage(i.SuggestChainInfoMsg),e.registerMessage(i.RemoveSuggestedChainInfoMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},932:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(223);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.GetChainInfosMsg:return o(e)(t,r);case s.GetChainInfosWithoutEndpointsMsg:return a(e)(t,r);case s.SuggestChainInfoMsg:return c(e)(t,r);case s.RemoveSuggestedChainInfoMsg:return u(e)(t,r);default:throw new n.KeplrError("chains",110,"Unknown msg type")}};const o=e=>()=>i(void 0,void 0,void 0,(function*(){return{chainInfos:yield e.getChainInfos()}})),a=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){yield e.permissionService.checkOrGrantGlobalPermission(t,"/permissions/grant/get-chain-infos","get-chain-infos",r.origin);return{chainInfos:yield e.getChainInfosWithoutEndpoints()}})),c=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){if(yield e.hasChainInfo(r.chainInfo.chainId))return;const i=r.chainInfo;i.beta=!0,yield e.suggestChainInfo(t,i,r.origin)})),u=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.removeChainInfo(r.chainId),yield e.getChainInfos()}))},933:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(507),t),n(r(979),t)},973:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Crypto=void 0;const c=s(r(254)),u=r(60),d=a(r(604)),h=r(2),l=r(4);t.Crypto=class{static encrypt(e,t,r,i,n,s,a){return o(this,void 0,void 0,(function*(){let p=new Uint8Array(32);const f=h.Buffer.from(yield e.rng(p)).toString("hex"),g={salt:f,dklen:32,n:131072,r:8,p:1},y=yield(()=>o(this,void 0,void 0,(function*(){switch(t){case"scrypt":return yield e.scrypt(n,g);case"sha256":return u.Hash.sha256(h.Buffer.from(`${f}/${n}`));case"pbkdf2":return new Promise((e,t)=>{d.default.pbkdf2(n,f,4e3,32,"sha256",(r,i)=>{r?t(r):e(new Uint8Array(i))})});default:throw new l.KeplrError("keyring",220,"Unknown kdf")}})))(),m=h.Buffer.from(i);p=new Uint8Array(16);const v=h.Buffer.from(yield e.rng(p)),b=new c.Counter(0);b.setBytes(v);const w=new c.default.ModeOfOperation.ctr(y,b),S=h.Buffer.from(w.encrypt(m)),_=u.Hash.sha256(h.Buffer.concat([h.Buffer.from(y.slice(y.length/2)),S]));return{version:"1.2",type:r,coinTypeForChain:{},bip44HDPath:a,meta:s,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:v.toString("hex")},ciphertext:S.toString("hex"),kdf:t,kdfparams:g,mac:h.Buffer.from(_).toString("hex")}}}))}static decrypt(e,t,r){return o(this,void 0,void 0,(function*(){const i=yield(()=>o(this,void 0,void 0,(function*(){switch(t.crypto.kdf){case"scrypt":return yield e.scrypt(r,t.crypto.kdfparams);case"sha256":return u.Hash.sha256(h.Buffer.from(`${t.crypto.kdfparams.salt}/${r}`));case"pbkdf2":return new Promise((e,i)=>{d.default.pbkdf2(r,t.crypto.kdfparams.salt,4e3,32,"sha256",(t,r)=>{t?i(t):e(new Uint8Array(r))})});default:throw new l.KeplrError("keyring",220,"Unknown kdf")}})))(),n=new c.Counter(0);n.setBytes(h.Buffer.from(t.crypto.cipherparams.iv,"hex"));const s=new c.default.ModeOfOperation.ctr(i,n),a=u.Hash.sha256(h.Buffer.concat([h.Buffer.from(i.slice(i.length/2)),h.Buffer.from(t.crypto.ciphertext,"hex")]));if(!h.Buffer.from(a).equals(h.Buffer.from(t.crypto.mac,"hex")))throw new l.KeplrError("keyring",222,"Unmatched mac");return h.Buffer.from(s.decrypt(h.Buffer.from(t.crypto.ciphertext,"hex")))}))}}},974:function(e,t,r){(function(t){var i,n,s=r(16).Buffer,o=r(512),a=r(513),c=r(514),u=r(515),d=t.crypto&&t.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function p(){return n||(n=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function f(e,t,r,i,n){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:n}},e,i<<3)})).then((function(e){return s.from(e)}))}e.exports=function(e,r,n,g,y,m){"function"==typeof y&&(m=y,y=void 0);var v=h[(y=y||"sha1").toLowerCase()];if(v&&"function"==typeof t.Promise){if(o(n,g),e=u(e,a,"Password"),r=u(r,a,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){p()((function(){t(null,e)}))}),(function(e){p()((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==l[e])return l[e];var r=f(i=i||s.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return l[e]=r,r}(v).then((function(t){return t?f(e,r,n,g,v):c(e,r,n,g,y)})),m)}else p()((function(){var t;try{t=c(e,r,n,g,y)}catch(e){return m(e)}m(null,t)}))}}).call(this,r(17))},976:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trimAminoSignDoc=void 0;const n=i(r(50)),s=n.default.object({chain_id:n.default.string().allow(""),account_number:n.default.string().allow(""),sequence:n.default.string().allow(""),fee:n.default.object({amount:n.default.array().items(n.default.object({denom:n.default.string().allow(""),amount:n.default.string().allow("")})),gas:n.default.string().allow(""),payer:n.default.string().allow(""),granter:n.default.string().allow(""),feePayer:n.default.string().allow("")}),msgs:n.default.array().items(n.default.any()),memo:n.default.string().allow(""),timeout_height:n.default.string().allow("")});t.trimAminoSignDoc=function(e){const t=s.validate(e,{stripUnknown:!0});if(t.error)throw t.error;return t.value}},977:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosApp=void 0;const i=r(2),n=r(978),s=r(521),o=r(320);class a{constructor(e,t){if(this.app=e,this.transport=t,!t)throw new Error("Transport has not been defined");if("Cosmos"!==e&&"Terra"!==e)throw new Error("Unknown app: "+this.app)}static serializeHRP(e){if(null==e||e.length<3||e.length>83)throw new Error("Invalid HRP");const t=i.Buffer.alloc(1+e.length);return t.writeUInt8(e.length,0),t.write(e,1),t}static openApp(e,t){return e.send(224,216,0,0,i.Buffer.from(t,"ascii"))}getAppInfo(){return n.getAppInfo(this.transport)}getVersion(){return n.getVersion(this.transport)}getDeviceInfo(){return n.getDeviceInfo(this.transport)}getPublicKey(e,t,r){const c=s.AppCoinType[this.app];if(!c)throw new Error("Unknown app: "+this.app);const u=[44,c,e,t,r],d=n.serializePath(u),h=s.AppHRP[this.app];if(!h)throw new Error("Unknown app: "+this.app);const l=i.Buffer.concat([a.serializeHRP(h),d]);return this.transport.send(o.CLA,o.INS.GET_ADDR_SECP256K1,0,0,l,[o.ERROR_CODE.NoError]).then(e=>{const t=e.slice(-2),r=256*t[0]+t[1];return{compressed_pk:e?i.Buffer.from(e.slice(0,33)):null,return_code:r,error_message:n.errorCodeToString(r)}}).catch(n.processErrorResponse)}sign(e,t,r,i){const o=s.AppCoinType[this.app];if(!o)throw new Error("Unknown app: "+this.app);return n.sign(this.transport,[44,o,e,t,r],i)}}t.CosmosApp=a},978:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sign=t.getDeviceInfo=t.openApp=t.getAppInfo=t.getVersion=t.serializePath=t.processErrorResponse=t.errorCodeToString=void 0;const n=r(320),s=r(2);function o(e){const t=n.ERROR_DESCRIPTION[e];return t||"Unknown Status Code: "+e}function a(e){if(e){if(!("object"!=typeof(t=e)||null===t||t instanceof Array||t instanceof Date)){if(Object.prototype.hasOwnProperty.call(e,"statusCode"))return{return_code:e.statusCode,error_message:o(e.statusCode)};if(Object.prototype.hasOwnProperty.call(e,"return_code")&&Object.prototype.hasOwnProperty.call(e,"error_message"))return e}return{return_code:65535,error_message:e.toString()}}var t;return{return_code:65535,error_message:e.toString()}}function c(e){if(!e||5!==e.length)throw new TypeError("Invalid path.");const t=s.Buffer.alloc(20);return t.writeUInt32LE(2147483648+e[0],0),t.writeUInt32LE(2147483648+e[1],4),t.writeUInt32LE(2147483648+e[2],8),t.writeUInt32LE(e[3],12),t.writeUInt32LE(e[4],16),t}function u(e,t,r,i){let s=n.PAYLOAD_TYPE.ADD;return 1===t&&(s=n.PAYLOAD_TYPE.INIT),t===r&&(s=n.PAYLOAD_TYPE.LAST),e.send(n.CLA,n.INS.SIGN_SECP256K1,s,0,i,[n.ERROR_CODE.NoError,27012,27264]).then(e=>{const t=e.slice(-2),r=256*t[0]+t[1];let i=o(r);27264!==r&&27012!==r||(i=`${i} : ${e.slice(0,e.length-2).toString("ascii")}`);let n=new Uint8Array(0);return e.length>2&&(n=e.slice(0,e.length-2)),{signature:n,return_code:r,error_message:i}}).catch(a)}t.errorCodeToString=o,t.processErrorResponse=a,t.serializePath=c,t.getVersion=function(e){return e.send(n.CLA,n.INS.GET_VERSION,0,0).then(e=>{const t=e.slice(-2),r=256*t[0]+t[1];let i=0;return e.length>=9&&(i=(e[5]<<24)+(e[6]<<16)+(e[7]<<8)+(e[8]<<0)),{return_code:r,error_message:o(r),test_mode:0!==e[0],major:e[1],minor:e[2],patch:e[3],device_locked:1===e[4],target_id:i.toString(16)}}).catch(a)},t.getAppInfo=function(e){return e.send(176,1,0,0).then(e=>{const t=e.slice(-2);let r,i=256*t[0]+t[1],n="",s="",o=0,a=0;if(1!==e[0])r="response format ID not recognized",i=36865;else{r="No errors";const t=e[1];n=e.slice(2,2+t).toString("ascii");let i=2+t;const c=e[i];i+=1,s=e.slice(i,i+c).toString("ascii"),i+=c;const u=e[i];i+=1,o=u,a=e[i]}return{return_code:i,error_message:r,app_name:n,app_version:s,flag_len:o,flags_value:a,flag_recovery:0!=(1&a),flag_signed_mcu_code:0!=(2&a),flag_onboarded:0!=(4&a),flag_pin_validated:0!=(128&a)}}).catch(a)},t.openApp=function(e,t){return i(this,void 0,void 0,(function*(){yield e.send(224,216,0,0,s.Buffer.from(t,"ascii"))}))},t.getDeviceInfo=function(e){return i(this,void 0,void 0,(function*(){return e.send(224,1,0,0,s.Buffer.from([]),[n.ERROR_CODE.NoError,28160]).then(e=>{const t=e.slice(-2),r=256*t[0]+t[1];if(28160===r)return{return_code:r,error_message:"This command is only available in the Dashboard"};const i=e.slice(0,4).toString("hex");let n=4;const s=e[n];n+=1;const a=e.slice(n,n+s).toString();n+=s;const c=e[n];n+=1;const u=e.slice(n,n+c).toString("hex");n+=c;const d=e[n];n+=1;let h=e.slice(n,n+d);0===h[d-1]&&(h=e.slice(n,n+d-1));const l=h.toString();return{return_code:r,error_message:o(r),target_id:i,se_version:a,flag:u,mcu_version:l}}).catch(a)}))},t.sign=function(e,t,r){const o=function(e,t){const r=c(e),i=[];i.push(r);const o=s.Buffer.from(t);for(let e=0;e<o.length;e+=n.CHUNK_SIZE){let t=e+n.CHUNK_SIZE;e>o.length&&(t=o.length),i.push(o.slice(e,t))}return i}(t,r);return u(e,1,o.length,o[0]).then(t=>i(this,void 0,void 0,(function*(){let r={return_code:t.return_code,error_message:t.error_message,signature:new Uint8Array(0)};for(let t=1;t<o.length&&(r=yield u(e,1+t,o.length,o[t]),r.return_code===n.ERROR_CODE.NoError);t+=1);return{return_code:r.return_code,error_message:r.error_message,signature:r.signature}}))).catch(a)}},979:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const i=r(317),n=r(517),s=r(980);t.init=function(e,t){e.registerMessage(i.LedgerGetWebHIDFlagMsg),e.registerMessage(i.LedgerSetWebHIDFlagMsg),e.addHandler(n.ROUTE,s.getHandler(t))}},980:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const n=r(4),s=r(317);t.getHandler=e=>(t,r)=>{switch(r.constructor){case s.LedgerGetWebHIDFlagMsg:return o(e)(t,r);case s.LedgerSetWebHIDFlagMsg:return a(e)(t,r);default:throw new n.KeplrError("ledger",111,"Unknown msg type")}};const o=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.getWebHIDFlag()})),a=e=>(t,r)=>i(void 0,void 0,void 0,(function*(){return yield e.setWebHIDFlag(r.flag)}))},981:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(522),t)},982:function(e,t,r){"use strict";(function(e){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useKeystoneCosmosKeyring=t.KeystoneCosmosKeyring=t.KeystoneCosmosInteractionProvider=void 0;const n=r(523),s=r(997),o=r(168),a=r(1021);class c{constructor(){this.readUR=()=>i(this,void 0,void 0,(function*(){throw new Error("KeystoneError#readUR function is not set.")})),this.playUR=()=>i(this,void 0,void 0,(function*(){throw new Error("KeystoneError#playUR function is not set.")})),this.readCryptoMultiAccounts=()=>i(this,void 0,void 0,(function*(){const t=yield this.readUR();return o.CryptoMultiAccounts.fromCBOR(e.from(t.cbor,"hex"))})),this.requestSignature=(t,r,s)=>i(this,void 0,void 0,(function*(){const i=t.toUR();yield this.playUR({type:i.type,cbor:i.cbor.toString("hex")},{title:r,description:s});const o=yield this.readUR();return n.CosmosSignature.fromCBOR(e.from(o.cbor,"hex"))}))}onReadUR(e){this.readUR=e}onPlayUR(e){this.playUR=e}}t.KeystoneCosmosInteractionProvider=c;class u extends s.BaseKeyring{constructor(){super(),this.getInteraction=()=>this.interaction,this.interaction=new c}static getEmptyKeyring(){return new u}getKeyringData(){return{xfp:this.xfp,device:this.device,name:this.name,keys:this.getPubKeys().map(e=>{const t=a.parseHDPath("m/"+e.hdPath);return{coinType:t.coinType,bip44HDPath:t.bip44HDPath,pubKey:e.pubKey,index:e.index}})}}}t.KeystoneCosmosKeyring=u,u.type=s.BaseKeyring.type,t.useKeystoneCosmosKeyring=function({readUR:e,playUR:t,keyringData:r}){const i=u.getEmptyKeyring();if(r){const e=Object.assign(Object.assign({},r),{keys:r.keys.map(e=>({hdPath:`44'/${e.coinType}'/${e.bip44HDPath.account}'/${e.bip44HDPath.change}/${e.bip44HDPath.addressIndex}`,index:e.index,pubKey:e.pubKey}))});i.syncKeyringData(e)}return e&&i.getInteraction().onReadUR(e),t&&i.getInteraction().onPlayUR(t),i}}).call(this,r(2).Buffer)}}]);